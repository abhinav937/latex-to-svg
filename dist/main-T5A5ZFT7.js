var YE=Object.defineProperty,KE=Object.defineProperties;var QE=Object.getOwnPropertyDescriptors;var Rp=Object.getOwnPropertySymbols;var ZE=Object.prototype.hasOwnProperty,XE=Object.prototype.propertyIsEnumerable;var Pp=(t,e,n)=>e in t?YE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e)=>{for(var n in e||={})ZE.call(e,n)&&Pp(t,n,e[n]);if(Rp)for(var n of Rp(e))XE.call(e,n)&&Pp(t,n,e[n]);return t},ne=(t,e)=>KE(t,QE(e));var Se=null,ki=!1,tu=1,eI=null,_e=Symbol("SIGNAL");function A(t){let e=Se;return Se=t,e}function Oi(){return Se}var fr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pr(t){if(ki)throw new Error("");if(Se===null)return;Se.consumerOnSignalRead(t);let e=Se.producersTail;if(e!==void 0&&e.producer===t)return;let n,o=Se.recomputing;if(o&&(n=e!==void 0?e.nextProducer:Se.producers,n!==void 0&&n.producer===t)){Se.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===Se&&(!o||nI(r,Se)))return;let i=so(Se),s={producer:t,consumer:Se,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};Se.producersTail=s,e!==void 0?e.nextProducer=s:Se.producers=s,i&&Fp(t,s)}function kp(){tu++}function nu(t){if(!(so(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===tu)){if(!t.producerMustRecompute(t)&&!Ui(t)){eu(t);return}t.producerRecomputeValue(t),eu(t)}}function ou(t){if(t.consumers===void 0)return;let e=ki;ki=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let o=n.consumer;o.dirty||tI(o)}}finally{ki=e}}function ru(){return Se?.consumerAllowSignalWrites!==!1}function tI(t){t.dirty=!0,ou(t),t.consumerMarkedDirty?.(t)}function eu(t){t.dirty=!1,t.lastCleanEpoch=tu}function hr(t){return t&&Lp(t),A(t)}function Lp(t){t.producersTail=void 0,t.recomputing=!0}function Fi(t,e){A(e),t&&Op(t)}function Op(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(so(t))do n=iu(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Ui(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,o=e.lastReadVersion;if(o!==n.version||(nu(n),o!==n.version))return!0}return!1}function mr(t){if(so(t)){let e=t.producers;for(;e!==void 0;)e=iu(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Fp(t,e){let n=t.consumersTail,o=so(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!o)for(let r=t.producers;r!==void 0;r=r.nextProducer)Fp(r.producer,r)}function iu(t){let e=t.producer,n=t.nextProducer,o=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,o!==void 0?o.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=o;else if(e.consumers=o,!so(e)){let i=e.producers;for(;i!==void 0;)i=iu(i)}return n}function so(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function su(t){eI?.(t)}function nI(t,e){let n=e.producersTail;if(n!==void 0){let o=e.producers;do{if(o===t)return!0;if(o===n)break;o=o.nextProducer}while(o!==void 0)}return!1}function au(t,e){return Object.is(t,e)}function gr(t,e){let n=Object.create(oI);n.computation=t,e!==void 0&&(n.equal=e);let o=()=>{if(nu(n),pr(n),n.value===Li)throw n.error;return n.value};return o[_e]=n,su(n),o}var Zl=Symbol("UNSET"),Xl=Symbol("COMPUTING"),Li=Symbol("ERRORED"),oI=ne(M({},fr),{value:Zl,dirty:!0,error:null,equal:au,kind:"computed",producerMustRecompute(t){return t.value===Zl||t.value===Xl},producerRecomputeValue(t){if(t.value===Xl)throw new Error("");let e=t.value;t.value=Xl;let n=hr(t),o,r=!1;try{o=t.computation(),A(null),r=e!==Zl&&e!==Li&&o!==Li&&t.equal(e,o)}catch(i){o=Li,t.error=i}finally{Fi(t,n)}if(r){t.value=e;return}t.value=o,t.version++}});function rI(){throw new Error}var Up=rI;function Vp(t){Up(t)}function lu(t){Up=t}var iI=null;function uu(t,e){let n=Object.create(Vi);n.value=t,e!==void 0&&(n.equal=e);let o=()=>Hp(n);return o[_e]=n,su(n),[o,s=>yr(n,s),s=>$p(n,s)]}function Hp(t){return pr(t),t.value}function yr(t,e){ru()||Vp(t),t.equal(t.value,e)||(t.value=e,sI(t))}function $p(t,e){ru()||Vp(t),yr(t,e(t.value))}var Vi=ne(M({},fr),{equal:au,value:void 0,kind:"signal"});function sI(t){t.version++,kp(),ou(t),iI?.(t)}function cu(t){let e=A(null);try{return t()}finally{A(e)}}function U(t){return typeof t=="function"}function ao(t){let n=t(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hi=ao(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(U(o))try{o()}catch(i){e=i instanceof Hi?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{Bp(i)}catch(s){e=e??[],s instanceof Hi?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hi(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Bp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vr(n,e)}remove(e){let{_finalizers:n}=this;n&&vr(n,e),e instanceof t&&e._removeParent(this)}};ve.EMPTY=(()=>{let t=new ve;return t.closed=!0,t})();var du=ve.EMPTY;function $i(t){return t instanceof ve||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Bp(t){U(t)?t():t.unsubscribe()}var rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lo={setTimeout(t,e,...n){let{delegate:o}=lo;return o?.setTimeout?o.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bi(t){lo.setTimeout(()=>{let{onUnhandledError:e}=rt;if(e)e(t);else throw t})}function Er(){}var Gp=fu("C",void 0,void 0);function qp(t){return fu("E",void 0,t)}function zp(t){return fu("N",t,void 0)}function fu(t,e,n){return{kind:t,value:e,error:n}}var Cn=null;function uo(t){if(rt.useDeprecatedSynchronousErrorHandling){let e=!Cn;if(e&&(Cn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:o}=Cn;if(Cn=null,n)throw o}}else t()}function Wp(t){rt.useDeprecatedSynchronousErrorHandling&&Cn&&(Cn.errorThrown=!0,Cn.error=t)}var Tn=class extends ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$i(e)&&e.add(this)):this.destination=uI}static create(e,n,o){return new co(e,n,o)}next(e){this.isStopped?hu(zp(e),this):this._next(e)}error(e){this.isStopped?hu(qp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hu(Gp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aI=Function.prototype.bind;function pu(t,e){return aI.call(t,e)}var mu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(o){Gi(o)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(o){Gi(o)}else Gi(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gi(n)}}},co=class extends Tn{constructor(e,n,o){super();let r;if(U(e)||!e)r={next:e??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&rt.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&pu(e.next,i),error:e.error&&pu(e.error,i),complete:e.complete&&pu(e.complete,i)}):r=e}this.destination=new mu(r)}};function Gi(t){rt.useDeprecatedSynchronousErrorHandling?Wp(t):Bi(t)}function lI(t){throw t}function hu(t,e){let{onStoppedNotification:n}=rt;n&&lo.setTimeout(()=>n(t,e))}var uI={closed:!0,next:Er,error:lI,complete:Er};var fo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function gu(...t){return yu(t)}function yu(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((o,r)=>r(o),n)}}var Y=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new t;return o.source=this,o.operator=n,o}subscribe(n,o,r){let i=dI(n)?n:new co(n,o,r);return uo(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=jp(o),new o((r,i)=>{let s=new co({next:a=>{try{n(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[fo](){return this}pipe(...n){return yu(n)(this)}toPromise(n){return n=jp(n),new n((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return t.create=e=>new t(e),t})();function jp(t){var e;return(e=t??rt.Promise)!==null&&e!==void 0?e:Promise}function cI(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function dI(t){return t&&t instanceof Tn||cI(t)&&$i(t)}function fI(t){return U(t?.lift)}function Z(t){return e=>{if(fI(e))return e.lift(function(n){try{return t(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function ee(t,e,n,o,r){return new vu(t,e,n,o,r)}var vu=class extends Tn{constructor(e,n,o,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=r?function(a){try{r(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Jp=ao(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new qi(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new Jp}next(n){uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:i}=this;return o||r?du:(this.currentObservers=null,i.push(n),new ve(()=>{this.currentObservers=null,vr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){let n=new Y;return n.source=this,n}}return t.create=(e,n)=>new qi(e,n),t})(),qi=class extends pe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,e)}error(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&o!==void 0?o:du}};var Ee=class extends pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};var Ve=new Y(t=>t.complete());function Yp(t){return t&&U(t.schedule)}function Kp(t){return t[t.length-1]}function Qp(t){return U(Kp(t))?t.pop():void 0}function en(t){return Yp(Kp(t))?t.pop():void 0}function Xp(t,e,n,o){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(f){try{d(o.next(f))}catch(p){s(p)}}function u(f){try{d(o.throw(f))}catch(p){s(p)}}function d(f){f.done?i(f.value):r(f.value).then(a,u)}d((o=o.apply(t,e||[])).next())})}function Zp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sn(t){return this instanceof Sn?(this.v=t,this):new Sn(t)}function eh(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(E){return Promise.resolve(E).then(m,p)}}function a(m,E){o[m]&&(r[m]=function(I){return new Promise(function(T,C){i.push([m,I,T,C])>1||u(m,I)})},E&&(r[m]=E(r[m])))}function u(m,E){try{d(o[m](E))}catch(I){h(i[0][3],I)}}function d(m){m.value instanceof Sn?Promise.resolve(m.value.v).then(f,p):h(i[0][2],m)}function f(m){u("next",m)}function p(m){u("throw",m)}function h(m,E){m(E),i.shift(),i.length&&u(i[0][0],i[0][1])}}function th(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zp=="function"?Zp(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(a,u){s=t[i](s),r(a,u,s.done,s.value)})}}function r(i,s,a,u){Promise.resolve(u).then(function(d){i({value:d,done:a})},s)}}var zi=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wi(t){return U(t?.then)}function ji(t){return U(t[fo])}function Ji(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function Yi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ki=pI();function Qi(t){return U(t?.[Ki])}function Zi(t){return eh(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:o,done:r}=yield Sn(n.read());if(r)return yield Sn(void 0);yield yield Sn(o)}}finally{n.releaseLock()}})}function Xi(t){return U(t?.getReader)}function he(t){if(t instanceof Y)return t;if(t!=null){if(ji(t))return hI(t);if(zi(t))return mI(t);if(Wi(t))return gI(t);if(Ji(t))return nh(t);if(Qi(t))return yI(t);if(Xi(t))return vI(t)}throw Yi(t)}function hI(t){return new Y(e=>{let n=t[fo]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mI(t){return new Y(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function gI(t){return new Y(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bi)})}function yI(t){return new Y(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function nh(t){return new Y(e=>{EI(t,e).catch(n=>e.error(n))})}function vI(t){return nh(Zi(t))}function EI(t,e){var n,o,r,i;return Xp(this,void 0,void 0,function*(){try{for(n=th(t);o=yield n.next(),!o.done;){let s=o.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}e.complete()})}function He(t,e,n,o=0,r=!1){let i=e.schedule(function(){n(),r?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(i),!r)return i}function es(t,e=0){return Z((n,o)=>{n.subscribe(ee(o,r=>He(o,t,()=>o.next(r),e),()=>He(o,t,()=>o.complete(),e),r=>He(o,t,()=>o.error(r),e)))})}function ts(t,e=0){return Z((n,o)=>{o.add(t.schedule(()=>n.subscribe(o),e))})}function oh(t,e){return he(t).pipe(ts(e),es(e))}function rh(t,e){return he(t).pipe(ts(e),es(e))}function ih(t,e){return new Y(n=>{let o=0;return e.schedule(function(){o===t.length?n.complete():(n.next(t[o++]),n.closed||this.schedule())})})}function sh(t,e){return new Y(n=>{let o;return He(n,e,()=>{o=t[Ki](),He(n,e,()=>{let r,i;try{({value:r,done:i}=o.next())}catch(s){n.error(s);return}i?n.complete():n.next(r)},0,!0)}),()=>U(o?.return)&&o.return()})}function ns(t,e){if(!t)throw new Error("Iterable cannot be null");return new Y(n=>{He(n,e,()=>{let o=t[Symbol.asyncIterator]();He(n,e,()=>{o.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ah(t,e){return ns(Zi(t),e)}function lh(t,e){if(t!=null){if(ji(t))return oh(t,e);if(zi(t))return ih(t,e);if(Wi(t))return rh(t,e);if(Ji(t))return ns(t,e);if(Qi(t))return sh(t,e);if(Xi(t))return ah(t,e)}throw Yi(t)}function ce(t,e){return e?lh(t,e):he(t)}function q(...t){let e=en(t);return ce(t,e)}function Eu(t,e){let n=U(t)?t:()=>t,o=r=>r.error(n());return new Y(e?r=>e.schedule(o,0,r):o)}function os(t){return!!t&&(t instanceof Y||U(t.lift)&&U(t.subscribe))}var _n=ao(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return Z((n,o)=>{let r=0;n.subscribe(ee(o,i=>{o.next(t.call(e,i,r++))}))})}var{isArray:II}=Array;function CI(t,e){return II(e)?t(...e):t(e)}function uh(t){return oe(e=>CI(t,e))}var{isArray:TI}=Array,{getPrototypeOf:SI,prototype:_I,keys:wI}=Object;function ch(t){if(t.length===1){let e=t[0];if(TI(e))return{args:e,keys:null};if(DI(e)){let n=wI(e);return{args:n.map(o=>e[o]),keys:n}}}return{args:t,keys:null}}function DI(t){return t&&typeof t=="object"&&SI(t)===_I}function dh(t,e){return t.reduce((n,o,r)=>(n[o]=e[r],n),{})}function Iu(...t){let e=en(t),n=Qp(t),{args:o,keys:r}=ch(t);if(o.length===0)return ce([],e);let i=new Y(MI(o,e,r?s=>dh(r,s):it));return n?i.pipe(uh(n)):i}function MI(t,e,n=it){return o=>{fh(e,()=>{let{length:r}=t,i=new Array(r),s=r,a=r;for(let u=0;u<r;u++)fh(e,()=>{let d=ce(t[u],e),f=!1;d.subscribe(ee(o,p=>{i[u]=p,f||(f=!0,a--),a||o.next(n(i.slice()))},()=>{--s||o.complete()}))},o)},o)}}function fh(t,e,n){t?He(n,t,e):e()}function ph(t,e,n,o,r,i,s,a){let u=[],d=0,f=0,p=!1,h=()=>{p&&!u.length&&!d&&e.complete()},m=I=>d<o?E(I):u.push(I),E=I=>{i&&e.next(I),d++;let T=!1;he(n(I,f++)).subscribe(ee(e,C=>{r?.(C),i?m(C):e.next(C)},()=>{T=!0},void 0,()=>{if(T)try{for(d--;u.length&&d<o;){let C=u.shift();s?He(e,s,()=>E(C)):E(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(ee(e,m,()=>{p=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return U(e)?we((o,r)=>oe((i,s)=>e(o,i,r,s))(he(t(o,r))),n):(typeof e=="number"&&(n=e),Z((o,r)=>ph(o,r,t,n)))}function po(t=1/0){return we(it,t)}function hh(){return po(1)}function ho(...t){return hh()(ce(t,en(t)))}function Ir(t){return new Y(e=>{he(t()).subscribe(e)})}function st(t,e){return Z((n,o)=>{let r=0;n.subscribe(ee(o,i=>t.call(e,i,r++)&&o.next(i)))})}function mo(t){return Z((e,n)=>{let o=null,r=!1,i;o=e.subscribe(ee(n,void 0,void 0,s=>{i=he(t(s,mo(t)(e))),o?(o.unsubscribe(),o=null,i.subscribe(n)):r=!0})),r&&(o.unsubscribe(),o=null,i.subscribe(n))})}function Cr(t,e){return U(e)?we(t,e,1):we(t,1)}function Cu(t){return Z((e,n)=>{let o=!1;e.subscribe(ee(n,r=>{o=!0,n.next(r)},()=>{o||n.next(t),n.complete()}))})}function Ut(t){return t<=0?()=>Ve:Z((e,n)=>{let o=0;e.subscribe(ee(n,r=>{++o<=t&&(n.next(r),t<=o&&n.complete())}))})}function mh(t=xI){return Z((e,n)=>{let o=!1;e.subscribe(ee(n,r=>{o=!0,n.next(r)},()=>o?n.complete():n.error(t())))})}function xI(){return new _n}function Tu(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Vt(t,e){let n=arguments.length>=2;return o=>o.pipe(t?st((r,i)=>t(r,i,o)):it,Ut(1),n?Cu(e):mh(()=>new _n))}function rs(t){return t<=0?()=>Ve:Z((e,n)=>{let o=[];e.subscribe(ee(n,r=>{o.push(r),t<o.length&&o.shift()},()=>{for(let r of o)n.next(r);n.complete()},void 0,()=>{o=null}))})}function Su(...t){let e=en(t);return Z((n,o)=>{(e?ho(t,n,e):ho(t,n)).subscribe(o)})}function Mt(t,e){return Z((n,o)=>{let r=null,i=0,s=!1,a=()=>s&&!r&&o.complete();n.subscribe(ee(o,u=>{r?.unsubscribe();let d=0,f=i++;he(t(u,f)).subscribe(r=ee(o,p=>o.next(e?e(u,p,f,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Tr(t){return Z((e,n)=>{he(t).subscribe(ee(n,()=>n.complete(),Er)),!n.closed&&e.subscribe(n)})}function Pe(t,e,n){let o=U(t)||e||n?{next:t,error:e,complete:n}:t;return o?Z((r,i)=>{var s;(s=o.subscribe)===null||s===void 0||s.call(o);let a=!0;r.subscribe(ee(i,u=>{var d;(d=o.next)===null||d===void 0||d.call(o,u),i.next(u)},()=>{var u;a=!1,(u=o.complete)===null||u===void 0||u.call(o),i.complete()},u=>{var d;a=!1,(d=o.error)===null||d===void 0||d.call(o,u),i.error(u)},()=>{var u,d;a&&((u=o.unsubscribe)===null||u===void 0||u.call(o)),(d=o.finalize)===null||d===void 0||d.call(o)}))}):it}var _u;function is(){return _u}function xt(t){let e=_u;return _u=t,e}var gh=Symbol("NotFound");function go(t){return t===gh||t?.name==="\u0275NotFound"}var ds="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",x=class extends Error{code;constructor(e,n){super(An(e,n)),this.code=e}};function NI(t){return`NG0${Math.abs(t)}`}function An(t,e){return`${NI(t)}${e?": "+e:""}`}var xr=globalThis;function X(t){for(let e in t)if(t[e]===X)return e;throw Error("")}function $t(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map($t).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function Vu(t,e){return t?e?`${t} ${e}`:t:e||""}var RI=X({__forward_ref__:X});function fs(t){return t.__forward_ref__=fs,t.toString=function(){return $t(this())},t}function $e(t){return Hu(t)?t():t}function Hu(t){return typeof t=="function"&&t.hasOwnProperty(RI)&&t.__forward_ref__===fs}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ar(t){return PI(t,ps)}function $u(t){return Ar(t)!==null}function PI(t,e){return t.hasOwnProperty(e)&&t[e]||null}function kI(t){let e=t?.[ps]??null;return e||null}function Du(t){return t&&t.hasOwnProperty(as)?t[as]:null}var ps=X({\u0275prov:X}),as=X({\u0275inj:X}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Bu(t){return t&&!!t.\u0275providers}var Gu=X({\u0275cmp:X}),qu=X({\u0275dir:X}),zu=X({\u0275pipe:X}),Wu=X({\u0275mod:X}),_r=X({\u0275fac:X}),bn=X({__NG_ELEMENT_ID__:X}),yh=X({__NG_ENV_ID__:X});function ju(t){return hs(t,"@NgModule"),t[Wu]||null}function nn(t){return hs(t,"@Component"),t[Gu]||null}function Ju(t){return hs(t,"@Directive"),t[qu]||null}function Ch(t){return hs(t,"@Pipe"),t[zu]||null}function hs(t,e){if(t==null)throw new x(-919,!1)}function Nn(t){return typeof t=="string"?t:t==null?"":String(t)}function Th(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nn(t)}var Sh=X({ngErrorCode:X}),LI=X({ngErrorMessage:X}),OI=X({ngTokenPath:X});function Yu(t,e){return _h("",-200,e)}function ms(t,e){throw new x(-201,!1)}function _h(t,e,n){let o=new x(e,t);return o[Sh]=e,o[LI]=t,n&&(o[OI]=n),o}function FI(t){return t[Sh]}var Mu;function wh(){return Mu}function We(t){let e=Mu;return Mu=t,e}function Ku(t,e,n){let o=Ar(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(e!==void 0)return e;ms(t,"")}var UI={},wn=UI,VI="__NG_DI_FLAG__",xu=class{injector;constructor(e){this.injector=e}retrieve(e,n){let o=Dn(n)||0;try{return this.injector.get(e,o&8?null:wn,o)}catch(r){if(go(r))return r;throw r}}};function HI(t,e=0){let n=is();if(n===void 0)throw new x(-203,!1);if(n===null)return Ku(t,void 0,e);{let o=$I(e),r=n.retrieve(t,o);if(go(r)){if(o.optional)return null;throw r}return r}}function H(t,e=0){return(wh()||HI)($e(t),e)}function S(t,e){return H(t,Dn(e))}function Dn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $I(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Au(t){let e=[];for(let n=0;n<t.length;n++){let o=$e(t[n]);if(Array.isArray(o)){if(o.length===0)throw new x(900,!1);let r,i=0;for(let s=0;s<o.length;s++){let a=o[s],u=BI(a);typeof u=="number"?u===-1?r=a.token:i|=u:r=a}e.push(H(r,i))}else e.push(H(o))}return e}function BI(t){return t[VI]}function Mn(t,e){let n=t.hasOwnProperty(_r);return n?t[_r]:null}function Dh(t,e,n){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++){let r=t[o],i=e[o];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}function Mh(t){return t.flat(Number.POSITIVE_INFINITY)}function gs(t,e){t.forEach(n=>Array.isArray(n)?gs(n,e):e(n))}function Qu(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function br(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xh(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(r===1)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let i=r-2;t[r]=t[i],r--}t[e]=n,t[e+1]=o}}function Ah(t,e,n){let o=Eo(t,e);return o>=0?t[o|1]=n:(o=~o,xh(t,o,e,n)),o}function ys(t,e){let n=Eo(t,e);if(n>=0)return t[n|1]}function Eo(t,e){return GI(t,e,1)}function GI(t,e,n){let o=0,r=t.length>>n;for(;r!==o;){let i=o+(r-o>>1),s=t[i<<n];if(e===s)return i<<n;s>e?r=i:o=i+1}return~(r<<n)}var Rn={},Bt=[],Io=new k(""),Zu=new k("",-1),Xu=new k(""),wr=class{get(e,n=wn){if(n===wn){let r=_h("",-201);throw r.name="\u0275NotFound",r}return n}};function Co(t){return{\u0275providers:t}}function bh(...t){return{\u0275providers:ec(!0,t),\u0275fromNgModule:!0}}function ec(t,...e){let n=[],o=new Set,r,i=s=>{n.push(s)};return gs(e,s=>{let a=s;ls(a,i,[],o)&&(r||=[],r.push(a))}),r!==void 0&&Nh(r,i),n}function Nh(t,e){for(let n=0;n<t.length;n++){let{ngModule:o,providers:r}=t[n];tc(r,i=>{e(i,o)})}}function ls(t,e,n,o){if(t=$e(t),!t)return!1;let r=null,i=Du(t),s=!i&&nn(t);if(!i&&!s){let u=t.ngModule;if(i=Du(u),i)r=u;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=o.has(r);if(s){if(a)return!1;if(o.add(r),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)ls(d,e,n,o)}}else if(i){if(i.imports!=null&&!a){o.add(r);let d;try{gs(i.imports,f=>{ls(f,e,n,o)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Nh(d,e)}if(!a){let d=Mn(r)||(()=>new r);e({provide:r,useFactory:d,deps:Bt},r),e({provide:Xu,useValue:r,multi:!0},r),e({provide:Io,useValue:()=>H(r),multi:!0},r)}let u=i.providers;if(u!=null&&!a){let d=t;tc(u,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function tc(t,e){for(let n of t)Bu(n)&&(n=n.\u0275providers),Array.isArray(n)?tc(n,e):e(n)}var qI=X({provide:String,useValue:X});function Rh(t){return t!==null&&typeof t=="object"&&qI in t}function zI(t){return!!(t&&t.useExisting)}function WI(t){return!!(t&&t.useFactory)}function us(t){return typeof t=="function"}var Nr=new k(""),ss={},vh={},wu;function Rr(){return wu===void 0&&(wu=new wr),wu}var me=class{},xn=class extends me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,Nu(e,s=>this.processProvider(s)),this.records.set(Zu,yo(void 0,this)),r.has("environment")&&this.records.set(me,yo(void 0,this));let i=this.records.get(Nr);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Xu,Bt,{self:!0}))}retrieve(e,n){let o=Dn(n)||0;try{return this.get(e,wn,o)}catch(r){if(go(r))return r;throw r}}destroy(){Sr(this),this._destroyed=!0;let e=A(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),A(e)}}onDestroy(e){return Sr(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Sr(this);let n=xt(this),o=We(void 0),r;try{return e()}finally{xt(n),We(o)}}get(e,n=wn,o){if(Sr(this),e.hasOwnProperty(yh))return e[yh](this);let r=Dn(o),i,s=xt(this),a=We(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=QI(e)&&Ar(e);f&&this.injectableDefInScope(f)?d=yo(bu(e),ss):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let u=r&2?Rr():this.parent;return n=r&8&&n===wn?null:n,u.get(e,n)}catch(u){let d=FI(u);throw d===-200||d===-201?new x(d,null):u}finally{We(a),xt(s)}}resolveInjectorInitializers(){let e=A(null),n=xt(this),o=We(void 0),r;try{let i=this.get(Io,Bt,{self:!0});for(let s of i)s()}finally{xt(n),We(o),A(e)}}toString(){let e=[],n=this.records;for(let o of n.keys())e.push($t(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$e(e);let n=us(e)?e:$e(e&&e.provide),o=JI(e);if(!us(e)&&e.multi===!0){let r=this.records.get(n);r||(r=yo(void 0,ss,!0),r.factory=()=>Au(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,o)}hydrate(e,n,o){let r=A(null);try{if(n.value===vh)throw Yu($t(e));return n.value===ss&&(n.value=vh,n.value=n.factory(void 0,o)),typeof n.value=="object"&&n.value&&KI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{A(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$e(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bu(t){let e=Ar(t),n=e!==null?e.factory:Mn(t);if(n!==null)return n;if(t instanceof k)throw new x(204,!1);if(t instanceof Function)return jI(t);throw new x(204,!1)}function jI(t){if(t.length>0)throw new x(204,!1);let n=kI(t);return n!==null?()=>n.factory(t):()=>new t}function JI(t){if(Rh(t))return yo(void 0,t.useValue);{let e=Ph(t);return yo(e,ss)}}function Ph(t,e,n){let o;if(us(t)){let r=$e(t);return Mn(r)||bu(r)}else if(Rh(t))o=()=>$e(t.useValue);else if(WI(t))o=()=>t.useFactory(...Au(t.deps||[]));else if(zI(t))o=(r,i)=>H($e(t.useExisting),i!==void 0&&i&8?8:void 0);else{let r=$e(t&&(t.useClass||t.provide));if(YI(t))o=()=>new r(...Au(t.deps));else return Mn(r)||bu(r)}return o}function Sr(t){if(t.destroyed)throw new x(205,!1)}function yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YI(t){return!!t.deps}function KI(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QI(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Nu(t,e){for(let n of t)Array.isArray(n)?Nu(n,e):n&&Bu(n)?Nu(n.\u0275providers,e):e(n)}function ke(t,e){let n;t instanceof xn?(Sr(t),n=t):n=new xu(t);let o,r=xt(n),i=We(void 0);try{return e()}finally{xt(r),We(i)}}function kh(){return wh()!==void 0||is()!=null}var ut=0,P=1,V=2,de=3,Xe=4,et=5,To=6,So=7,le=8,Gt=9,At=10,se=11,_o=12,nc=13,Pn=14,Je=15,on=16,kn=17,bt=18,Pr=19,oc=20,Ht=21,vs=22,kr=23,Ye=24,Es=25,Ln=26,Ie=27,Lh=1,rc=6,rn=7,Lr=8,On=9,ae=10;function Nt(t){return Array.isArray(t)&&typeof t[Lh]=="object"}function ct(t){return Array.isArray(t)&&t[Lh]===!0}function ic(t){return(t.flags&4)!==0}function Fn(t){return t.componentOffset>-1}function Is(t){return(t.flags&1)===1}function Un(t){return!!t.template}function wo(t){return(t[V]&512)!==0}function Vn(t){return(t[V]&256)===256}var sc="svg",Oh="math";function tt(t){for(;Array.isArray(t);)t=t[ut];return t}function ac(t,e){return tt(e[t])}function dt(t,e){return tt(e[t.index])}function Or(t,e){return t.data[e]}function ft(t,e){let n=e[t];return Nt(n)?n:n[ut]}function Fh(t){return(t[V]&4)===4}function Cs(t){return(t[V]&128)===128}function Uh(t){return ct(t[de])}function Rt(t,e){return e==null?null:t[e]}function lc(t){t[kn]=0}function uc(t){t[V]&1024||(t[V]|=1024,Cs(t)&&Ur(t))}function Vh(t,e){for(;t>0;)e=e[Pn],t--;return e}function Fr(t){return!!(t[V]&9216||t[Ye]?.dirty)}function Ts(t){t[At].changeDetectionScheduler?.notify(8),t[V]&64&&(t[V]|=1024),Fr(t)&&Ur(t)}function Ur(t){t[At].changeDetectionScheduler?.notify(0);let e=tn(t);for(;e!==null&&!(e[V]&8192||(e[V]|=8192,!Cs(e)));)e=tn(e)}function cc(t,e){if(Vn(t))throw new x(911,!1);t[Ht]===null&&(t[Ht]=[]),t[Ht].push(e)}function Hh(t,e){if(t[Ht]===null)return;let n=t[Ht].indexOf(e);n!==-1&&t[Ht].splice(n,1)}function tn(t){let e=t[de];return ct(e)?e[de]:e}function dc(t){return t[So]??=[]}function fc(t){return t.cleanup??=[]}function $h(t,e,n,o){let r=dc(e);r.push(n),t.firstCreatePass&&fc(t).push(o,r.length-1)}var $={lFrame:tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ru=!1;function Bh(){return $.lFrame.elementDepthCount}function Gh(){$.lFrame.elementDepthCount++}function pc(){$.lFrame.elementDepthCount--}function qh(){return $.bindingsEnabled}function zh(){return $.skipHydrationRootTNode!==null}function hc(t){return $.skipHydrationRootTNode===t}function mc(){$.skipHydrationRootTNode=null}function z(){return $.lFrame.lView}function Le(){return $.lFrame.tView}function Hn(t){return $.lFrame.contextLView=t,t[le]}function $n(t){return $.lFrame.contextLView=null,t}function Oe(){let t=gc();for(;t!==null&&t.type===64;)t=t.parent;return t}function gc(){return $.lFrame.currentTNode}function Wh(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Do(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function yc(){return $.lFrame.isParent}function jh(){$.lFrame.isParent=!1}function vc(){return Ru}function Ec(t){let e=Ru;return Ru=t,e}function Jh(){return $.lFrame.bindingIndex}function Yh(t){return $.lFrame.bindingIndex=t}function Mo(){return $.lFrame.bindingIndex++}function Ic(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Kh(){return $.lFrame.inI18n}function Qh(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ss(e)}function Zh(){return $.lFrame.currentDirectiveIndex}function Ss(t){$.lFrame.currentDirectiveIndex=t}function Xh(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function _s(){return $.lFrame.currentQueryIndex}function Vr(t){$.lFrame.currentQueryIndex=t}function ZI(t){let e=t[P];return e.type===2?e.declTNode:e.type===1?t[et]:null}function Cc(t,e,n){if(n&4){let r=e,i=t;for(;r=r.parent,r===null&&!(n&1);)if(r=ZI(i),r===null||(i=i[Pn],r.type&10))break;if(r===null)return!1;e=r,t=i}let o=$.lFrame=em();return o.currentTNode=e,o.lView=t,!0}function ws(t){let e=em(),n=t[P];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function em(){let t=$.lFrame,e=t===null?null:t.child;return e===null?tm(t):e}function tm(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nm(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Tc=nm;function Ds(){let t=nm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function om(t){return($.lFrame.contextLView=Vh(t,$.lFrame.contextLView))[le]}function qt(){return $.lFrame.selectedIndex}function sn(t){$.lFrame.selectedIndex=t}function Sc(){let t=$.lFrame;return Or(t.tView,t.selectedIndex)}function Me(){$.lFrame.currentNamespace=sc}function Ke(){XI()}function XI(){$.lFrame.currentNamespace=null}function rm(){return $.lFrame.currentNamespace}var im=!0;function Ms(){return im}function xs(t){im=t}function Pu(t,e=null,n=null,o){let r=_c(t,e,n,o);return r.resolveInjectorInitializers(),r}function _c(t,e=null,n=null,o,r=new Set){let i=[n||Bt,bh(t)];return o=o||(typeof t=="object"?void 0:$t(t)),new xn(i,e||Rr(),o||null,r)}var at=class t{static THROW_IF_NOT_FOUND=wn;static NULL=new wr;static create(e,n){if(Array.isArray(e))return Pu({name:""},n,e,"");{let o=e.name??"";return Pu({name:o},e.parent,e.providers,o)}}static \u0275prov=b({token:t,providedIn:"any",factory:()=>H(Zu)});static __NG_ELEMENT_ID__=-1},ge=new k(""),an=(()=>{class t{static __NG_ELEMENT_ID__=eC;static __NG_ENV_ID__=n=>n}return t})(),ku=class extends an{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Vn(this._lView)}onDestroy(e){let n=this._lView;return cc(n,e),()=>Hh(n,e)}};function eC(){return new ku(z())}var sm=!1,ln=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ee(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Y(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),Lu=class extends pe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,kh()&&(this.destroyRef=S(an,{optional:!0})??void 0,this.pendingTasks=S(ln,{optional:!0})??void 0)}emit(e){let n=A(null);try{super.next(e)}finally{A(n)}}subscribe(e,n,o){let r=e,i=n||(()=>null),s=o;if(e&&typeof e=="object"){let u=e;r=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:i,complete:s});return e instanceof ve&&e.add(a),a}wrapInTimeout(e){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},De=Lu;function cs(...t){}function wc(t){let e,n;function o(){t=cs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),o()})),()=>o()}function Dc(t){return queueMicrotask(()=>t()),()=>{t=cs}}var Mc="isAngularZone",Dr=Mc+"_ID",tC=0,je=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new De(!1);onMicrotaskEmpty=new De(!1);onStable=new De(!1);onError=new De(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=sm}=e;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&o,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=i,rC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,o){return this._inner.run(e,n,o)}runTask(e,n,o,r){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,nC,cs,cs);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(e,n,o){return this._inner.runGuarded(e,n,o)}runOutsideAngular(e){return this._outer.run(e)}},nC={};function xc(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oC(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){wc(()=>{t.callbackScheduled=!1,Ou(t),t.isCheckStableRunning=!0,xc(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ou(t)}function rC(t){let e=()=>{oC(t)},n=tC++;t._inner=t._inner.fork({name:"angular",properties:{[Mc]:!0,[Dr]:n,[Dr+n]:!0},onInvokeTask:(o,r,i,s,a,u)=>{if(iC(u))return o.invokeTask(i,s,a,u);try{return Eh(t),o.invokeTask(i,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ih(t)}},onInvoke:(o,r,i,s,a,u,d)=>{try{return Eh(t),o.invoke(i,s,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!sC(u)&&e(),Ih(t)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ou(t),xc(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ou(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Eh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ih(t){t._nesting--,xc(t)}var Mr=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new De;onMicrotaskEmpty=new De;onStable=new De;onError=new De;run(e,n,o){return e.apply(n,o)}runGuarded(e,n,o){return e.apply(n,o)}runOutsideAngular(e){return e()}runTask(e,n,o,r){return e.apply(n,o)}};function iC(t){return am(t,"__ignore_ng_zone__")}function sC(t){return am(t,"__scheduler_tick__")}function am(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var lt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Pt=new k("",{factory:()=>{let t=S(je),e=S(me),n;return o=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw o}):(n??=e.get(lt),n.handleError(o))})}}}),lm={provide:Io,useValue:()=>{let t=S(lt,{optional:!0})},multi:!0};function xe(t,e){let[n,o,r]=uu(t,e?.equal),i=n,s=i[_e];return i.set=o,i.update=r,i.asReadonly=Ac.bind(i),i}function Ac(){let t=this[_e];if(t.readonlyFn===void 0){let e=()=>this();e[_e]=t,t.readonlyFn=e}return t.readonlyFn}var vo=class{},Hr=new k("",{factory:()=>!0});var bc=new k("");var Nc=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>new Fu})}return t})(),Fu=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,o=this.queues.get(n);o.has(e)&&(o.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(e)||o.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,o]of this.queues)n===null?e||=this.flushQueue(o):e||=n.run(()=>this.flushQueue(o));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let o of e)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}},Uu=class{[_e];constructor(e){this[_e]=e}destroy(){this[_e].destroy()}};function pt(t){return cu(t)}function ta(t){return{toString:t}.toString()}function hC(t){return typeof t=="function"}function Um(t,e,n,o){e!==null?e.applyValueToInputSignal(e,o):t[n]=o}var Os=class{previousValue;currentValue;firstChange;constructor(e,n,o){this.previousValue=e,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}},ko=(()=>{let t=()=>Vm;return t.ngInherit=!0,t})();function Vm(t){return t.type.prototype.ngOnChanges&&(t.setInput=gC),mC}function mC(){let t=$m(this),e=t?.current;if(e){let n=t.previous;if(n===Rn)t.previous=e;else for(let o in e)n[o]=e[o];t.current=null,this.ngOnChanges(e)}}function gC(t,e,n,o,r){let i=this.declaredInputs[o],s=$m(t)||yC(t,{previous:Rn,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[i];a[i]=new Os(d&&d.currentValue,n,u===Rn),Um(t,e,r,n)}var Hm="__ngSimpleChanges__";function $m(t){return t[Hm]||null}function yC(t,e){return t[Hm]=e}var um=[];var te=function(t,e=null,n){for(let o=0;o<um.length;o++){let r=um[o];r(t,e,n)}},K=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(K||{});function vC(t,e,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){let s=Vm(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function EC(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ns(t,e,n){Bm(t,e,3,n)}function Rs(t,e,n,o){(t[V]&3)===n&&Bm(t,e,n,o)}function Rc(t,e){let n=t[V];(n&3)===e&&(n&=16383,n+=1,t[V]=n)}function Bm(t,e,n,o){let r=o!==void 0?t[kn]&65535:0,i=o??-1,s=e.length-1,a=0;for(let u=r;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],o!=null&&a>=o)break}else e[u]<0&&(t[kn]+=65536),(a<i||i==-1)&&(IC(t,n,e,u),t[kn]=(t[kn]&4294901760)+u+2),u++}function cm(t,e){te(K.LifecycleHookStart,t,e);let n=A(null);try{e.call(t)}finally{A(n),te(K.LifecycleHookEnd,t,e)}}function IC(t,e,n,o){let r=n[o]<0,i=n[o+1],s=r?-n[o]:n[o],a=t[s];r?t[V]>>14<t[kn]>>16&&(t[V]&3)===e&&(t[V]+=16384,cm(a,i)):cm(a,i)}var Ao=-1,Gr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,o,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=o}};function CC(t){return(t.flags&8)!==0}function TC(t){return(t.flags&16)!==0}function SC(t,e,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let i=n[o++],s=n[o++],a=n[o++];t.setAttribute(e,s,a,i)}else{let i=r,s=n[++o];_C(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),o++}}return o}function Gm(t){return t===3||t===4||t===6}function _C(t){return t.charCodeAt(0)===64}function na(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?dm(t,n,r,null,e[++o]):dm(t,n,r,null,null))}}return t}function dm(t,e,n,o,r){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){r!==null&&(t[i+1]=r);return}i++,r!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r)}function qm(t){return t!==Ao}function Fs(t){return t&32767}function wC(t){return t>>16}function Us(t,e){let n=wC(t),o=e;for(;n>0;)o=o[Pn],n--;return o}var Vc=!0;function fm(t){let e=Vc;return Vc=t,e}var DC=256,zm=DC-1,Wm=5,MC=0,kt={};function xC(t,e,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(bn)&&(o=n[bn]),o==null&&(o=n[bn]=MC++);let r=o&zm,i=1<<r;e.data[t+(r>>Wm)]|=i}function jm(t,e){let n=Jm(t,e);if(n!==-1)return n;let o=e[P];o.firstCreatePass&&(t.injectorIndex=e.length,Pc(o.data,t),Pc(e,null),Pc(o.blueprint,null));let r=ud(t,e),i=t.injectorIndex;if(qm(r)){let s=Fs(r),a=Us(r,e),u=a[P].data;for(let d=0;d<8;d++)e[i+d]=a[s+d]|u[s+d]}return e[i+8]=r,i}function Pc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Jm(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ud(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;r!==null;){if(o=Xm(r),o===null)return Ao;if(n++,r=r[Pn],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return Ao}function AC(t,e,n){xC(t,e,n)}function bC(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let o=n.length,r=0;for(;r<o;){let i=n[r];if(Gm(i))break;if(i===0)r=r+2;else if(typeof i=="number")for(r++;r<o&&typeof n[r]=="string";)r++;else{if(i===e)return n[r+1];r=r+2}}}return null}function Ym(t,e,n){if(n&8||t!==void 0)return t;ms(e,"NodeInjector")}function Km(t,e,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let r=t[Gt],i=We(void 0);try{return r?r.get(e,o,n&8):Ku(e,o,n&8)}finally{We(i)}}return Ym(o,e,n)}function Qm(t,e,n,o=0,r){if(t!==null){if(e[V]&2048&&!(o&2)){let s=kC(t,e,n,o,kt);if(s!==kt)return s}let i=Zm(t,e,n,o,kt);if(i!==kt)return i}return Km(e,n,o,r)}function Zm(t,e,n,o,r){let i=RC(n);if(typeof i=="function"){if(!Cc(e,t,o))return o&1?Ym(r,n,o):Km(e,n,o,r);try{let s;if(s=i(o),s==null&&!(o&8))ms(n);else return s}finally{Tc()}}else if(typeof i=="number"){let s=null,a=Jm(t,e),u=Ao,d=o&1?e[Je][et]:null;for((a===-1||o&4)&&(u=a===-1?ud(t,e):e[a+8],u===Ao||!hm(o,!1)?a=-1:(s=e[P],a=Fs(u),e=Us(u,e)));a!==-1;){let f=e[P];if(pm(i,a,f.data)){let p=NC(a,e,n,s,o,d);if(p!==kt)return p}u=e[a+8],u!==Ao&&hm(o,e[P].data[a+8]===d)&&pm(i,a,e)?(s=f,a=Fs(u),e=Us(u,e)):a=-1}}return r}function NC(t,e,n,o,r,i){let s=e[P],a=s.data[t+8],u=o==null?Fn(a)&&Vc:o!=s&&(a.type&3)!==0,d=r&1&&i===a,f=Ps(a,s,n,u,d);return f!==null?Vs(e,s,f,a,r):kt}function Ps(t,e,n,o,r){let i=t.providerIndexes,s=e.data,a=i&1048575,u=t.directiveStart,d=t.directiveEnd,f=i>>20,p=o?a:a+f,h=r?a+f:d;for(let m=p;m<h;m++){let E=s[m];if(m<u&&n===E||m>=u&&E.type===n)return m}if(r){let m=s[u];if(m&&Un(m)&&m.type===n)return u}return null}function Vs(t,e,n,o,r){let i=t[n],s=e.data;if(i instanceof Gr){let a=i;if(a.resolving){let m=Th(s[n]);throw Yu(m)}let u=fm(a.canSeeViewProviders);a.resolving=!0;let d=s[n].type||s[n],f,p=a.injectImpl?We(a.injectImpl):null,h=Cc(t,o,0);try{i=t[n]=a.factory(void 0,r,s,t,o),e.firstCreatePass&&n>=o.directiveStart&&vC(n,s[n],e)}finally{p!==null&&We(p),fm(u),a.resolving=!1,Tc()}}return i}function RC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(bn)?t[bn]:void 0;return typeof e=="number"?e>=0?e&zm:PC:e}function pm(t,e,n){let o=1<<t;return!!(n[e+(t>>Wm)]&o)}function hm(t,e){return!(t&2)&&!(t&1&&e)}var Bn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,o){return Qm(this._tNode,this._lView,e,Dn(o),n)}};function PC(){return new Bn(Oe(),z())}function Kr(t){return ta(()=>{let e=t.prototype.constructor,n=e[_r]||Hc(e),o=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==o;){let i=r[_r]||Hc(r);if(i&&i!==n)return i;r=Object.getPrototypeOf(r)}return i=>new i})}function Hc(t){return Hu(t)?()=>{let e=Hc($e(t));return e&&e()}:Mn(t)}function kC(t,e,n,o,r){let i=t,s=e;for(;i!==null&&s!==null&&s[V]&2048&&!wo(s);){let a=Zm(i,s,n,o|2,kt);if(a!==kt)return a;let u=i.parent;if(!u){let d=s[oc];if(d){let f=d.get(n,kt,o);if(f!==kt)return f}u=Xm(s),s=s[Pn]}i=u}return r}function Xm(t){let e=t[P],n=e.type;return n===2?e.declTNode:n===1?t[et]:null}function oa(t){return bC(Oe(),t)}function LC(){return Lo(Oe(),z())}function Lo(t,e){return new dn(dt(t,e))}var dn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=LC}return t})();function eg(t){return t instanceof dn?t.nativeElement:t}function OC(){return this._results[Symbol.iterator]()}var Hs=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new pe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let o=Mh(e);(this._changesDetected=!Dh(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=OC};function tg(t){return(t.flags&128)===128}var cd=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(cd||{}),ng=new Map,FC=0;function UC(){return FC++}function VC(t){ng.set(t[Pr],t)}function $c(t){ng.delete(t[Pr])}var mm="__ngContext__";function bo(t,e){Nt(e)?(t[mm]=e[Pr],VC(e)):t[mm]=e}function og(t){return ig(t[_o])}function rg(t){return ig(t[Xe])}function ig(t){for(;t!==null&&!ct(t);)t=t[Xe];return t}var HC;function dd(t){HC=t}var ra=new k("",{factory:()=>$C}),$C="ng";var ia=new k(""),Qr=new k("",{providedIn:"platform",factory:()=>"unknown"});var sa=new k("",{factory:()=>S(ge).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sg="r";var ag="di";var lg=!1,ug=new k("",{factory:()=>lg});var BC=(t,e,n,o)=>{};function GC(t,e,n,o){BC(t,e,n,o)}function fd(t){return(t.flags&32)===32}var qC=()=>null;function cg(t,e,n=!1){return qC(t,e,n)}function dg(t,e){let n=t.contentQueries;if(n!==null){let o=A(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];Vr(i),a.contentQueries(2,e[s],s)}}}finally{A(o)}}}function Bc(t,e,n){Vr(0);let o=A(null);try{e(t,n)}finally{A(o)}}function fg(t,e,n){if(ic(e)){let o=A(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let s=r;s<i;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{A(o)}}}var mt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(mt||{});var As;function zC(){if(As===void 0&&(As=null,xr.trustedTypes))try{As=xr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return As}function gm(t){return zC()?.createScriptURL(t)||t}var $s=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ds})`}};function aa(t){return t instanceof $s?t.changingThisBreaksApplicationSecurity:t}function pd(t,e){let n=pg(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ds})`)}return n===e}function pg(t){return t instanceof $s&&t.getTypeName()||null}var WC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hg(t){return t=String(t),t.match(WC)?t:"unsafe:"+t}function jC(t,e){return t.createText(e)}function JC(t,e,n){t.setValue(e,n)}function mg(t,e,n){return t.createElement(e,n)}function Bs(t,e,n,o,r){t.insertBefore(e,n,o,r)}function gg(t,e,n){t.appendChild(e,n)}function ym(t,e,n,o,r){o!==null?Bs(t,e,n,o,r):gg(t,e,n)}function yg(t,e,n,o){t.removeChild(null,e,n,o)}function YC(t,e,n){t.setAttribute(e,"style",n)}function KC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vg(t,e,n){let{mergedAttrs:o,classes:r,styles:i}=n;o!==null&&SC(t,e,o),r!==null&&KC(t,e,r),i!==null&&YC(t,e,i)}var la=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(la||{});function Oo(t){let e=Ig();return e?e.sanitize(la.URL,t)||"":pd(t,"URL")?aa(t):hg(Nn(t))}function Eg(t){let e=Ig();if(e)return gm(e.sanitize(la.RESOURCE_URL,t)||"");if(pd(t,"ResourceURL"))return gm(aa(t));throw new x(904,!1)}function QC(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Eg:Oo}function hd(t,e,n){return QC(e,n)(t)}function Ig(){let t=z();return t&&t[At].sanitizer}function Cg(t){return t instanceof Function?t():t}function ZC(t,e,n){let o=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let i=e.length;if(r+i===o||t.charCodeAt(r+i)<=32)return r}n=r+1}}var Tg="ng-template";function XC(t,e,n,o){let r=0;if(o){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&ZC(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(md(t))return!1;if(r=e.indexOf(1,r),r>-1){let i;for(;++r<e.length&&typeof(i=e[r])=="string";)if(i.toLowerCase()===n)return!0}return!1}function md(t){return t.type===4&&t.value!==Tg}function eT(t,e,n){let o=t.type===4&&!n?Tg:t.value;return e===o}function tT(t,e,n){let o=4,r=t.attrs,i=r!==null?rT(r):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!ht(o)&&!ht(u))return!1;if(s&&ht(u))continue;s=!1,o=u|o&1;continue}if(!s)if(o&4){if(o=2|o&1,u!==""&&!eT(t,u,n)||u===""&&e.length===1){if(ht(o))return!1;s=!0}}else if(o&8){if(r===null||!XC(t,r,u,n)){if(ht(o))return!1;s=!0}}else{let d=e[++a],f=nT(u,r,md(t),n);if(f===-1){if(ht(o))return!1;s=!0;continue}if(d!==""){let p;if(f>i?p="":p=r[f+1].toLowerCase(),o&2&&d!==p){if(ht(o))return!1;s=!0}}}}return ht(o)||s}function ht(t){return(t&1)===0}function nT(t,e,n,o){if(e===null)return-1;let r=0;if(o||!n){let i=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=i?1:2}return-1}else return iT(e,t)}function oT(t,e,n=!1){for(let o=0;o<e.length;o++)if(tT(t,e[o],n))return!0;return!1}function rT(t){for(let e=0;e<t.length;e++){let n=t[e];if(Gm(n))return e}return t.length}function iT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let o=t[n];if(typeof o=="number")return-1;if(o===e)return n;n++}return-1}function vm(t,e){return t?":not("+e.trim()+")":e}function sT(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(o&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else o&8?r+="."+s:o&4&&(r+=" "+s);else r!==""&&!ht(s)&&(e+=vm(i,r),r=""),o=s,i=i||!ht(o);n++}return r!==""&&(e+=vm(i,r)),e}function aT(t){return t.map(sT).join(",")}function lT(t){let e=[],n=[],o=1,r=2;for(;o<t.length;){let i=t[o];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++o]):r===8&&n.push(i);else{if(!ht(r))break;r=i}o++}return n.length&&e.push(1,...n),e}var gt={};function gd(t,e,n,o,r,i,s,a,u,d,f){let p=Ie+o,h=p+r,m=uT(p,h),E=typeof d=="function"?d():d;return m[P]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:E,incompleteFirstPass:!1,ssrId:f}}function uT(t,e){let n=[];for(let o=0;o<e;o++)n.push(o<t?null:gt);return n}function cT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=gd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yd(t,e,n,o,r,i,s,a,u,d,f){let p=e.blueprint.slice();return p[ut]=r,p[V]=o|4|128|8|64|1024,(d!==null||t&&t[V]&2048)&&(p[V]|=2048),lc(p),p[de]=p[Pn]=t,p[le]=n,p[At]=s||t&&t[At],p[se]=a||t&&t[se],p[Gt]=u||t&&t[Gt]||null,p[et]=i,p[Pr]=UC(),p[To]=f,p[oc]=d,p[Je]=e.type==2?t[Je]:p,p}function dT(t,e,n){let o=dt(e,t),r=cT(n),i=t[At].rendererFactory,s=vd(t,yd(t,r,null,Sg(n),o,e,null,i.createRenderer(o,n),null,null,null));return t[e.index]=s}function Sg(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function _g(t,e,n,o){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function vd(t,e){return t[_o]?t[nc][Xe]=e:t[_o]=e,t[nc]=e,e}function j(t=1){wg(Le(),z(),qt()+t,!1)}function wg(t,e,n,o){if(!o)if((e[V]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Ns(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Rs(e,i,0,n)}sn(n)}var ua=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(ua||{});function Gc(t,e,n,o){let r=A(null);try{let[i,s,a]=t.inputs[n],u=null;(s&ua.SignalBased)!==0&&(u=e[i][_e]),u!==null&&u.transformFn!==void 0?o=u.transformFn(o):a!==null&&(o=a.call(e,o)),t.setInput!==null?t.setInput(e,u,o,n,i):Um(e,u,i,o)}finally{A(r)}}var zt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(zt||{}),fT;function Ed(t,e){return fT(t,e)}var Gn=new Set,Id=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Id||{}),Zr=new k(""),Em=new Set;function fn(t){Em.has(t)||(Em.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Dg=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})();var Mg=new k("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:S(me)})});function xg(t,e,n){let o=t.get(Mg);if(Array.isArray(e))for(let r of e)o.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else o.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);o.scheduler&&o.scheduler(t)}function pT(t,e){let n=t.get(Mg);if(e.detachedLeaveAnimationFns){for(let o of e.detachedLeaveAnimationFns)n.queue.delete(o);e.detachedLeaveAnimationFns=void 0}}function hT(t,e){for(let[n,o]of e)xg(t,o.animateFns)}function Im(t,e,n,o){let r=t?.[Ln]?.enter;e!==null&&r&&r.has(n.index)&&hT(o,r)}function xo(t,e,n,o,r,i,s,a){if(r!=null){let u,d=!1;ct(r)?u=r:Nt(r)&&(d=!0,r=r[ut]);let f=tt(r);t===0&&o!==null?(Im(a,o,i,n),s==null?gg(e,o,f):Bs(e,o,f,s||null,!0)):t===1&&o!==null?(Im(a,o,i,n),Bs(e,o,f,s||null,!0)):t===2?Cm(a,i,n,p=>{yg(e,f,d,p)}):t===3&&Cm(a,i,n,()=>{e.destroyNode(f)}),u!=null&&MT(e,t,n,u,i,o,s)}}function mT(t,e){Ag(t,e),e[ut]=null,e[et]=null}function gT(t,e,n,o,r,i){o[ut]=r,o[et]=e,da(t,o,n,1,r,i)}function Ag(t,e){e[At].changeDetectionScheduler?.notify(9),da(t,e,e[se],2,null,null)}function yT(t){let e=t[_o];if(!e)return kc(t[P],t);for(;e;){let n=null;if(Nt(e))n=e[_o];else{let o=e[ae];o&&(n=o)}if(!n){for(;e&&!e[Xe]&&e!==t;)Nt(e)&&kc(e[P],e),e=e[de];e===null&&(e=t),Nt(e)&&kc(e[P],e),n=e&&e[Xe]}e=n}}function Cd(t,e){let n=t[On],o=n.indexOf(e);n.splice(o,1)}function ca(t,e){if(Vn(e))return;let n=e[se];n.destroyNode&&da(t,e,n,3,null,null),yT(e)}function kc(t,e){if(Vn(e))return;let n=A(null);try{e[V]&=-129,e[V]|=256,e[Ye]&&mr(e[Ye]),IT(t,e),ET(t,e),e[P].type===1&&e[se].destroy();let o=e[on];if(o!==null&&ct(e[de])){o!==e[de]&&Cd(o,e);let r=e[bt];r!==null&&r.detachView(t)}$c(e)}finally{A(n)}}function Cm(t,e,n,o){let r=t?.[Ln];if(r==null||r.leave==null||!r.leave.has(e.index))return o(!1);t&&Gn.add(t),xg(n,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let d=s.animateFns[u],{promise:f}=d();a.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),vT(t,o)}else t&&Gn.delete(t),o(!1)},r)}function vT(t,e){let n=t[Ln]?.running;if(n){n.then(()=>{t[Ln].running=void 0,Gn.delete(t),e(!0)});return}e(!1)}function ET(t,e){let n=t.cleanup,o=e[So];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?o[a]():o[-a].unsubscribe(),s+=2}else{let a=o[n[s+1]];n[s].call(a)}o!==null&&(e[So]=null);let r=e[Ht];if(r!==null){e[Ht]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let i=e[kr];if(i!==null){e[kr]=null;for(let s of i)s.destroy()}}function IT(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=e[n[o]];if(!(r instanceof Gr)){let i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=r[i[s]],u=i[s+1];te(K.LifecycleHookStart,a,u);try{u.call(a)}finally{te(K.LifecycleHookEnd,a,u)}}else{te(K.LifecycleHookStart,r,i);try{i.call(r)}finally{te(K.LifecycleHookEnd,r,i)}}}}}function CT(t,e,n){return TT(t,e.parent,n)}function TT(t,e,n){let o=e;for(;o!==null&&o.type&168;)e=o,o=e.parent;if(o===null)return n[ut];if(Fn(o)){let{encapsulation:r}=t.data[o.directiveStart+o.componentOffset];if(r===mt.None||r===mt.Emulated)return null}return dt(o,n)}function ST(t,e,n){return wT(t,e,n)}function _T(t,e,n){return t.type&40?dt(t,n):null}var wT=_T,Tm;function Td(t,e,n,o){let r=CT(t,o,e),i=e[se],s=o.parent||e[et],a=ST(s,o,e);if(r!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)ym(i,r,n[u],a,!1);else ym(i,r,n,a,!1);Tm!==void 0&&Tm(i,o,e,n,r)}function $r(t,e){if(e!==null){let n=e.type;if(n&3)return dt(e,t);if(n&4)return qc(-1,t[e.index]);if(n&8){let o=e.child;if(o!==null)return $r(t,o);{let r=t[e.index];return ct(r)?qc(-1,r):tt(r)}}else{if(n&128)return $r(t,e.next);if(n&32)return Ed(e,t)()||tt(t[e.index]);{let o=bg(t,e);if(o!==null){if(Array.isArray(o))return o[0];let r=tn(t[Je]);return $r(r,o)}else return $r(t,e.next)}}}return null}function bg(t,e){if(e!==null){let o=t[Je][et],r=e.projection;return o.projection[r]}return null}function qc(t,e){let n=ae+t+1;if(n<e.length){let o=e[n],r=o[P].firstChild;if(r!==null)return $r(o,r)}return e[rn]}function Sd(t,e,n,o,r,i,s){for(;n!=null;){let a=o[Gt];if(n.type===128){n=n.next;continue}let u=o[n.index],d=n.type;if(s&&e===0&&(u&&bo(tt(u),o),n.flags|=2),!fd(n))if(d&8)Sd(t,e,n.child,o,r,i,!1),xo(e,t,a,r,u,n,i,o);else if(d&32){let f=Ed(n,o),p;for(;p=f();)xo(e,t,a,r,p,n,i,o);xo(e,t,a,r,u,n,i,o)}else d&16?DT(t,e,o,n,r,i):xo(e,t,a,r,u,n,i,o);n=s?n.projectionNext:n.next}}function da(t,e,n,o,r,i){Sd(n,o,t.firstChild,e,r,i,!1)}function DT(t,e,n,o,r,i){let s=n[Je],u=s[et].projection[o.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];xo(e,t,n[Gt],r,f,o,i,n)}else{let d=u,f=s[de];tg(o)&&(d.flags|=128),Sd(t,e,d,f,r,i,!0)}}function MT(t,e,n,o,r,i,s){let a=o[rn],u=tt(o);a!==u&&xo(e,t,n,i,a,r,s);for(let d=ae;d<o.length;d++){let f=o[d];da(f[P],f,t,e,i,a)}}function xT(t,e,n,o,r){if(e)r?t.addClass(n,o):t.removeClass(n,o);else{let i=o.indexOf("-")===-1?void 0:zt.DashCase;r==null?t.removeStyle(n,o,i):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=zt.Important),t.setStyle(n,o,r,i))}}function Ng(t,e,n,o,r){let i=qt(),s=o&2;try{sn(-1),s&&e.length>Ie&&wg(t,e,Ie,!1);let a=s?K.TemplateUpdateStart:K.TemplateCreateStart;te(a,r,n),n(o,r)}finally{sn(i);let a=s?K.TemplateUpdateEnd:K.TemplateCreateEnd;te(a,r,n)}}function Rg(t,e,n){PT(t,e,n),(n.flags&64)===64&&kT(t,e,n)}function _d(t,e,n=dt){let o=e.localNames;if(o!==null){let r=e.index+1;for(let i=0;i<o.length;i+=2){let s=o[i+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function AT(t,e,n,o){let i=o.get(ug,lg)||n===mt.ShadowDom||n===mt.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return bT(s),s}function bT(t){NT(t)}var NT=()=>null;function RT(t,e,n,o,r,i){if(t.type&3){let s=dt(t,e);o=i!=null?i(o,t.value||"",n):o,r.setProperty(s,n,o)}else t.type&12}function PT(t,e,n){let o=n.directiveStart,r=n.directiveEnd;Fn(n)&&dT(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||jm(n,e);let i=n.initialInputs;for(let s=o;s<r;s++){let a=t.data[s],u=Vs(e,t,s,n);if(bo(u,e),i!==null&&VT(e,s-o,u,a,n,i),Un(a)){let d=ft(n.index,e);d[le]=Vs(e,t,s,n)}}}function kT(t,e,n){let o=n.directiveStart,r=n.directiveEnd,i=n.index,s=Zh();try{sn(i);for(let a=o;a<r;a++){let u=t.data[a],d=e[a];Ss(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&LT(u,d)}}finally{sn(-1),Ss(s)}}function LT(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OT(t,e){let n=t.directiveRegistry,o=null;if(n)for(let r=0;r<n.length;r++){let i=n[r];oT(e,i.selectors,!1)&&(o??=[],Un(i)?o.unshift(i):o.push(i))}return o}function FT(t,e,n,o,r,i){let s=dt(t,e);UT(e[se],s,i,t.value,n,o,r)}function UT(t,e,n,o,r,i,s){if(i==null)t.removeAttribute(e,r,n);else{let a=s==null?Nn(i):s(i,o||"",r);t.setAttribute(e,r,a,n)}}function VT(t,e,n,o,r,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],d=s[a+1];Gc(o,n,u,d)}}function Pg(t,e,n,o,r){let i=Ie+n,s=e[P],a=r(s,e,t,o,n);e[i]=a,Do(t,!0);let u=t.type===2;return u?(vg(e[se],a,t),(Bh()===0||Is(t))&&bo(a,e),Gh()):bo(a,e),Ms()&&(!u||!fd(t))&&Td(s,e,a,t),t}function kg(t){let e=t;return yc()?jh():(e=e.parent,Do(e,!1)),e}function HT(t,e){let n=t[Gt];if(!n)return;let o;try{o=n.get(Pt,null)}catch{o=null}o?.(e)}function Lg(t,e,n,o,r){let i=t.inputs?.[o],s=t.hostDirectiveInputs?.[o],a=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],f=s[u+1],p=e.data[d];Gc(p,n[d],f,r),a=!0}if(i)for(let u of i){let d=n[u],f=e.data[u];Gc(f,d,o,r),a=!0}return a}function $T(t,e){let n=ft(e,t),o=n[P];BT(o,n);let r=n[ut];r!==null&&n[To]===null&&(n[To]=cg(r,n[Gt])),te(K.ComponentStart);try{wd(o,n,n[le])}finally{te(K.ComponentEnd,n[le])}}function BT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wd(t,e,n){ws(e);try{let o=t.viewQuery;o!==null&&Bc(1,o,n);let r=t.template;r!==null&&Ng(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[bt]?.finishViewCreation(t),t.staticContentQueries&&dg(t,e),t.staticViewQueries&&Bc(2,t.viewQuery,n);let i=t.components;i!==null&&GT(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{e[V]&=-5,Ds()}}function GT(t,e){for(let n=0;n<e.length;n++)$T(t,e[n])}function fa(t,e,n,o){let r=A(null);try{let i=e.tView,a=t[V]&4096?4096:16,u=yd(t,i,n,a,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=t[e.index];u[on]=d;let f=t[bt];return f!==null&&(u[bt]=f.createEmbeddedView(i)),wd(i,u,n),u}finally{A(r)}}function qr(t,e){return!e||e.firstChild===null||tg(t)}function zr(t,e,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&o.push(tt(i)),ct(i)&&Og(i,o);let s=n.type;if(s&8)zr(t,e,n.child,o);else if(s&32){let a=Ed(n,e),u;for(;u=a();)o.push(u)}else if(s&16){let a=bg(e,n);if(Array.isArray(a))o.push(...a);else{let u=tn(e[Je]);zr(u[P],u,a,o,!0)}}n=r?n.projectionNext:n.next}return o}function Og(t,e){for(let n=ae;n<t.length;n++){let o=t[n],r=o[P].firstChild;r!==null&&zr(o[P],o,r,e)}t[rn]!==t[ut]&&e.push(t[rn])}function Fg(t){if(t[Es]!==null){for(let e of t[Es])e.impl.addSequence(e);t[Es].length=0}}var Ug=[];function qT(t){return t[Ye]??zT(t)}function zT(t){let e=Ug.pop()??Object.create(jT);return e.lView=t,e}function WT(t){t.lView[Ye]!==t&&(t.lView=null,Ug.push(t))}var jT=ne(M({},fr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ur(t.lView)},consumerOnSignalRead(){this.lView[Ye]=this}});function JT(t){let e=t[Ye]??Object.create(YT);return e.lView=t,e}var YT=ne(M({},fr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=tn(t.lView);for(;e&&!Vg(e[P]);)e=tn(e);e&&uc(e)},consumerOnSignalRead(){this.lView[Ye]=this}});function Vg(t){return t.type!==2}function Hg(t){if(t[kr]===null)return;let e=!0;for(;e;){let n=!1;for(let o of t[kr])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=n&&!!(t[V]&8192)}}var KT=100;function $g(t,e=0){let o=t[At].rendererFactory,r=!1;r||o.begin?.();try{QT(t,e)}finally{r||o.end?.()}}function QT(t,e){let n=vc();try{Ec(!0),zc(t,e);let o=0;for(;Fr(t);){if(o===KT)throw new x(103,!1);o++,zc(t,1)}}finally{Ec(n)}}function ZT(t,e,n,o){if(Vn(e))return;let r=e[V],i=!1,s=!1;ws(e);let a=!0,u=null,d=null;i||(Vg(t)?(d=qT(e),u=hr(d)):Oi()===null?(a=!1,d=JT(e),u=hr(d)):e[Ye]&&(mr(e[Ye]),e[Ye]=null));try{lc(e),Yh(t.bindingStartIndex),n!==null&&Ng(t,e,n,2,o);let f=(r&3)===3;if(!i)if(f){let m=t.preOrderCheckHooks;m!==null&&Ns(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Rs(e,m,0,null),Rc(e,0)}if(s||XT(e),Hg(e),Bg(e,0),t.contentQueries!==null&&dg(t,e),!i)if(f){let m=t.contentCheckHooks;m!==null&&Ns(e,m)}else{let m=t.contentHooks;m!==null&&Rs(e,m,1),Rc(e,1)}tS(t,e);let p=t.components;p!==null&&qg(e,p,0);let h=t.viewQuery;if(h!==null&&Bc(2,h,o),!i)if(f){let m=t.viewCheckHooks;m!==null&&Ns(e,m)}else{let m=t.viewHooks;m!==null&&Rs(e,m,2),Rc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[vs]){for(let m of e[vs])m();e[vs]=null}i||(Fg(e),e[V]&=-73)}catch(f){throw i||Ur(e),f}finally{d!==null&&(Fi(d,u),a&&WT(d)),Ds()}}function Bg(t,e){for(let n=og(t);n!==null;n=rg(n))for(let o=ae;o<n.length;o++){let r=n[o];Gg(r,e)}}function XT(t){for(let e=og(t);e!==null;e=rg(e)){if(!(e[V]&2))continue;let n=e[On];for(let o=0;o<n.length;o++){let r=n[o];uc(r)}}}function eS(t,e,n){te(K.ComponentStart);let o=ft(e,t);try{Gg(o,n)}finally{te(K.ComponentEnd,o[le])}}function Gg(t,e){Cs(t)&&zc(t,e)}function zc(t,e){let o=t[P],r=t[V],i=t[Ye],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(i?.dirty&&Ui(i)),s||=!1,i&&(i.dirty=!1),t[V]&=-9217,s)ZT(o,t,o.template,t[le]);else if(r&8192){let a=A(null);try{Hg(t),Bg(t,1);let u=o.components;u!==null&&qg(t,u,1),Fg(t)}finally{A(a)}}}function qg(t,e,n){for(let o=0;o<e.length;o++)eS(t,e[o],n)}function tS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)sn(~r);else{let i=r,s=n[++o],a=n[++o];Qh(s,i);let u=e[i];te(K.HostBindingsUpdateStart,u);try{a(2,u)}finally{te(K.HostBindingsUpdateEnd,u)}}}}finally{sn(-1)}}function Dd(t,e){let n=vc()?64:1088;for(t[At].changeDetectionScheduler?.notify(e);t;){t[V]|=n;let o=tn(t);if(wo(t)&&!o)return t;t=o}return null}function zg(t,e,n,o){return[t,!0,0,e,null,o,null,n,null,null]}function Wg(t,e){let n=ae+e;if(n<t.length)return t[n]}function pa(t,e,n,o=!0){let r=e[P];if(nS(r,e,t,n),o){let s=qc(n,t),a=e[se],u=a.parentNode(t[rn]);u!==null&&gT(r,t[et],a,e,u,s)}let i=e[To];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function jg(t,e){let n=Wr(t,e);return n!==void 0&&ca(n[P],n),n}function Wr(t,e){if(t.length<=ae)return;let n=ae+e,o=t[n];if(o){let r=o[on];r!==null&&r!==t&&Cd(r,o),e>0&&(t[n-1][Xe]=o[Xe]);let i=br(t,ae+e);mT(o[P],o);let s=i[bt];s!==null&&s.detachView(i[P]),o[de]=null,o[Xe]=null,o[V]&=-129}return o}function nS(t,e,n,o){let r=ae+o,i=n.length;o>0&&(n[r-1][Xe]=e),o<i-ae?(e[Xe]=n[r],Qu(n,ae+o,e)):(n.push(e),e[Xe]=null),e[de]=n;let s=e[on];s!==null&&n!==s&&Jg(s,e);let a=e[bt];a!==null&&a.insertView(t),Ts(e),e[V]|=128}function Jg(t,e){let n=t[On],o=e[de];if(Nt(o))t[V]|=2;else{let r=o[de][Je];e[Je]!==r&&(t[V]|=2)}n===null?t[On]=[e]:n.push(e)}var un=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[P];return zr(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[le]}set context(e){this._lView[le]=e}get destroyed(){return Vn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[de];if(ct(e)){let n=e[Lr],o=n?n.indexOf(this):-1;o>-1&&(Wr(e,o),br(n,o))}this._attachedToViewContainer=!1}ca(this._lView[P],this._lView)}onDestroy(e){cc(this._lView,e)}markForCheck(){Dd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){Ts(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,$g(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wo(this._lView),n=this._lView[on];n!==null&&!e&&Cd(n,this._lView),Ag(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let n=wo(this._lView),o=this._lView[on];o!==null&&!n&&Jg(o,this._lView),Ts(this._lView)}};var jr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=oS;constructor(n,o,r){this._declarationLView=n,this._declarationTContainer=o,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,r){let i=fa(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:r});return new un(i)}}return t})();function oS(){return Md(Oe(),z())}function Md(t,e){return t.type&4?new jr(e,t,Lo(t,e)):null}function ha(t,e,n,o,r){let i=t.data[e];if(i===null)i=rS(t,e,n,o,r),Kh()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=o,i.attrs=r;let s=Wh();i.injectorIndex=s===null?-1:s.injectorIndex}return Do(i,!0),i}function rS(t,e,n,o,r){let i=gc(),s=yc(),a=s?i:i&&i.parent,u=t.data[e]=sS(t,a,n,e,o,r);return iS(t,u,i,s),u}function iS(t,e,n,o){t.firstChild===null&&(t.firstChild=e),n!==null&&(o?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function sS(t,e,n,o,r,i){let s=e?e.injectorIndex:-1,a=0;return zh()&&(a|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function aS(t){let e=t[rc]??[],o=t[de][se],r=[];for(let i of e)i.data[ag]!==void 0?r.push(i):lS(i,o);t[rc]=r}function lS(t,e){let n=0,o=t.firstChild;if(o){let r=t.data[sg];for(;n<r;){let i=o.nextSibling;yg(e,o,!1),o=i,n++}}}var uS=()=>null,cS=()=>null;function Wc(t,e){return uS(t,e)}function Yg(t,e,n){return cS(t,e,n)}var Kg=class{},ma=class{},jc=class{resolveComponentFactory(e){throw new x(917,!1)}},Xr=class{static NULL=new jc},qn=class{},ga=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>dS()}return t})();function dS(){let t=z(),e=Oe(),n=ft(e.index,t);return(Nt(n)?n:t)[se]}var Qg=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>null})}return t})();var ks={},Jc=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,o){let r=this.injector.get(e,ks,o);return r!==ks||n===ks?r:this.parentInjector.get(e,n,o)}};function Gs(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)r=Vu(r,a);else if(i==2){let u=a,d=e[++s];o=Vu(o,u+": "+d+";")}}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}function nt(t,e=0){let n=z();if(n===null)return H(t,e);let o=Oe();return Qm(o,n,$e(t),e)}function fS(t,e,n,o,r){let i=o===null?null:{"":-1},s=r(t,n);if(s!==null){let a=s,u=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,d]=f.resolveHostDirectives(s);break}mS(t,e,n,a,i,u,d)}i!==null&&o!==null&&pS(n,o,i)}function pS(t,e,n){let o=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new x(-301,!1);o.push(e[r],i)}}function hS(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mS(t,e,n,o,r,i,s){let a=o.length,u=null;for(let h=0;h<a;h++){let m=o[h];u===null&&Un(m)&&(u=m,hS(t,n,h)),AC(jm(n,e),t,m.type)}CS(n,t.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let h=0;h<a;h++){let m=o[h];m.providersResolver&&m.providersResolver(m)}let d=!1,f=!1,p=_g(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let m=o[h];if(n.mergedAttrs=na(n.mergedAttrs,m.hostAttrs),yS(t,n,e,p,m),IS(p,m,r),s!==null&&s.has(m)){let[I,T]=s.get(m);n.directiveToIndex.set(m.type,[p,I+n.directiveStart,T+n.directiveStart])}else(i===null||!i.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let E=m.type.prototype;!d&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}gS(t,n,i)}function gS(t,e,n){for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t.data[o];if(n===null||!n.has(r))Sm(0,e,r,o),Sm(1,e,r,o),wm(e,o,!1);else{let i=n.get(r);_m(0,e,i,o),_m(1,e,i,o),wm(e,o,!0)}}}function Sm(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(o),Zg(e,i)}}function _m(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s=r[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(o,i),Zg(e,s)}}function Zg(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function wm(t,e,n){let{attrs:o,inputs:r,hostDirectiveInputs:i}=t;if(o===null||!n&&r===null||n&&i===null||md(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<o.length;){let u=o[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&r.hasOwnProperty(u)){let d=r[u];for(let f of d)if(f===e){s??=[],s.push(u,o[a+1]);break}}else if(n&&i.hasOwnProperty(u)){let d=i[u];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],o[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function yS(t,e,n,o,r){t.data[o]=r;let i=r.factory||(r.factory=Mn(r.type,!0)),s=new Gr(i,Un(r),nt,null);t.blueprint[o]=s,n[o]=s,vS(t,e,o,_g(t,n,r.hostVars,gt),r)}function vS(t,e,n,o,r){let i=r.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ES(s)!=a&&s.push(a),s.push(n,o,i)}}function ES(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function IS(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;Un(e)&&(n[""]=t)}}function CS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xg(t,e,n,o,r,i,s,a){let u=e[P],d=u.consts,f=Rt(d,s),p=ha(u,t,n,o,f);return i&&fS(u,e,p,Rt(d,a),r),p.mergedAttrs=na(p.mergedAttrs,p.attrs),p.attrs!==null&&Gs(p,p.attrs,!1),p.mergedAttrs!==null&&Gs(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function ey(t,e){EC(t,e),ic(e)&&t.queries.elementEnd(e)}function TS(t,e,n,o,r,i){let s=e.consts,a=Rt(s,r),u=ha(e,t,n,o,a);if(u.mergedAttrs=na(u.mergedAttrs,u.attrs),i!=null){let d=Rt(s,i);u.localNames=[];for(let f=0;f<d.length;f+=2)u.localNames.push(d[f],-1)}return u.attrs!==null&&Gs(u,u.attrs,!1),u.mergedAttrs!==null&&Gs(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function cn(t,e,n){if(n===gt)return!1;let o=t[e];return Object.is(o,n)?!1:(t[e]=n,!0)}function SS(t,e,n,o){let r=cn(t,e,n);return cn(t,e+1,o)||r}function Ls(t,e,n){return function o(r){let i=Fn(t)?ft(t.index,e):e;Dd(i,5);let s=e[le],a=Dm(e,s,n,r),u=o.__ngNextListenerFn__;for(;u;)a=Dm(e,s,u,r)&&a,u=u.__ngNextListenerFn__;return a}}function Dm(t,e,n,o){let r=A(null);try{return te(K.OutputStart,e,n),n(o)!==!1}catch(i){return HT(t,i),!1}finally{te(K.OutputEnd,e,n),A(r)}}function ty(t,e,n,o,r,i,s,a){let u=Is(t),d=!1,f=null;if(!o&&u&&(f=wS(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=dt(t,n),h=o?o(p):p;GC(n,h,i,a);let m=r.listen(h,i,a);if(!_S(i)){let E=o?I=>o(tt(I[t.index])):t.index;ny(E,e,n,i,a,m,!1)}}return d}function _S(t){return t.startsWith("animation")||t.startsWith("transition")}function wS(t,e,n,o){let r=t.cleanup;if(r!=null)for(let i=0;i<r.length-1;i+=2){let s=r[i];if(s===n&&r[i+1]===o){let a=e[So],u=r[i+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(i+=2)}return null}function ny(t,e,n,o,r,i,s){let a=e.firstCreatePass?fc(e):null,u=dc(n),d=u.length;u.push(r,i),a&&a.push(o,t,d,(d+1)*(s?-1:1))}function Mm(t,e,n,o,r,i){let s=e[n],a=e[P],d=a.data[n].outputs[o],p=s[d].subscribe(i);ny(t.index,a,e,r,i,p,!0)}var Yc=Symbol("BINDING");var qs=class extends Xr{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=nn(e);return new No(n,this.ngModule)}};function DS(t){return Object.keys(t).map(e=>{let[n,o,r]=t[e],i={propName:n,templateName:e,isSignal:(o&ua.SignalBased)!==0};return r&&(i.transform=r),i})}function MS(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function xS(t,e,n){let o=e instanceof me?e:e?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new Jc(n,o):n}function AS(t){let e=t.get(qn,null);if(e===null)throw new x(407,!1);let n=t.get(Qg,null),o=t.get(vo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function bS(t,e){let n=oy(t);return mg(e,n,n==="svg"?sc:n==="math"?Oh:null)}function oy(t){return(t.selectors[0][0]||"div").toLowerCase()}var No=class extends ma{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=DS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=MS(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aT(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,o,r,i,s){te(K.DynamicComponentStart);let a=A(null);try{let u=this.componentDef,d=NS(o,u,s,i),f=xS(u,r||this.ngModule,e),p=AS(f),h=p.rendererFactory.createRenderer(null,u),m=o?AT(h,o,u.encapsulation,f):bS(u,h),E=s?.some(xm)||i?.some(C=>typeof C!="function"&&C.bindings.some(xm)),I=yd(null,d,null,512|Sg(u),null,null,p,h,f,null,cg(m,f,!0));I[Ie]=m,ws(I);let T=null;try{let C=Xg(Ie,I,2,"#host",()=>d.directiveRegistry,!0,0);vg(h,m,C),bo(m,I),Rg(d,I,C),fg(d,C,I),ey(d,C),n!==void 0&&PS(C,this.ngContentSelectors,n),T=ft(C.index,I),I[le]=T[le],wd(d,I,null)}catch(C){throw T!==null&&$c(T),$c(I),C}finally{te(K.DynamicComponentEnd),Ds()}return new zs(this.componentType,I,!!E)}finally{A(a)}}};function NS(t,e,n,o){let r=t?["ng-version","21.0.6"]:lT(e.selectors[0]),i=null,s=null,a=0;if(n)for(let f of n)a+=f[Yc].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(o)for(let f=0;f<o.length;f++){let p=o[f];if(typeof p!="function")for(let h of p.bindings){a+=h[Yc].requiredVars;let m=f+1;h.create&&(h.targetIdx=m,(i??=[]).push(h)),h.update&&(h.targetIdx=m,(s??=[]).push(h))}}let u=[e];if(o)for(let f of o){let p=typeof f=="function"?f:f.type,h=Ju(p);u.push(h)}return gd(0,null,RS(i,s),1,a,u,null,null,null,[r],null)}function RS(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let o of t)o.create();if(n&2&&e)for(let o of e)o.update()}}function xm(t){let e=t[Yc].kind;return e==="input"||e==="twoWay"}var zs=class extends Kg{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=Or(n[P],Ie),this.location=Lo(this._tNode,n),this.instance=ft(this._tNode.index,n)[le],this.hostView=this.changeDetectorRef=new un(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,i=Lg(o,r[P],r,e,n);this.previousInputValues.set(e,n);let s=ft(o.index,r);Dd(s,1)}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PS(t,e,n){let o=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];o.push(i!=null&&i.length?Array.from(i):null)}}var Fo=(()=>{class t{static __NG_ELEMENT_ID__=kS}return t})();function kS(){let t=Oe();return iy(t,z())}var LS=Fo,ry=class extends LS{_lContainer;_hostTNode;_hostLView;constructor(e,n,o){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=o}get element(){return Lo(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){let e=ud(this._hostTNode,this._hostLView);if(qm(e)){let n=Us(e,this._hostLView),o=Fs(e),r=n[P].data[o+8];return new Bn(r,n)}else return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Am(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ae}createEmbeddedView(e,n,o){let r,i;typeof o=="number"?r=o:o!=null&&(r=o.index,i=o.injector);let s=Wc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,r,qr(this._hostTNode,s)),a}createComponent(e,n,o,r,i,s,a){let u=e&&!hC(e),d;if(u)d=n;else{let T=n||{};d=T.index,o=T.injector,r=T.projectableNodes,i=T.environmentInjector||T.ngModuleRef,s=T.directives,a=T.bindings}let f=u?e:new No(nn(e)),p=o||this.parentInjector;if(!i&&f.ngModule==null){let C=(u?p:this.parentInjector).get(me,null);C&&(i=C)}let h=nn(f.componentType??{}),m=Wc(this._lContainer,h?.id??null),E=m?.firstChild??null,I=f.create(p,r,E,i,s,a);return this.insertImpl(I.hostView,d,qr(this._hostTNode,m)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,o){let r=e._lView;if(Uh(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=r[de],d=new ry(u,u[et],u[de]);d.detach(d.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return pa(s,r,i,o),e.attachToViewContainerRef(),Qu(Lc(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Am(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),o=Wr(this._lContainer,n);o&&(br(Lc(this._lContainer),n),ca(o[P],o))}detach(e){let n=this._adjustIndex(e,-1),o=Wr(this._lContainer,n);return o&&br(Lc(this._lContainer),n)!=null?new un(o):null}_adjustIndex(e,n=0){return e??this.length+n}};function Am(t){return t[Lr]}function Lc(t){return t[Lr]||(t[Lr]=[])}function iy(t,e){let n,o=e[t.index];return ct(o)?n=o:(n=zg(o,e,null,t),e[t.index]=n,vd(e,n)),FS(n,e,t,o),new ry(n,t,e)}function OS(t,e){let n=t[se],o=n.createComment(""),r=dt(e,t),i=n.parentNode(r);return Bs(n,i,o,n.nextSibling(r),!1),o}var FS=HS,US=()=>!1;function VS(t,e,n){return US(t,e,n)}function HS(t,e,n,o){if(t[rn])return;let r;n.type&8?r=tt(o):r=OS(e,n),t[rn]=r}var Kc=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Qc=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let o=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let i=0;i<o;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ad(e,n).matches!==null&&this.queries[n].setDirty()}},Ws=class{flags;read;predicate;constructor(e,n,o=null){this.flags=n,this.read=o,typeof e=="string"?this.predicate=jS(e):this.predicate=e}},Zc=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let o=0;o<this.length;o++){let r=n!==null?n.length:0,i=this.getByIndex(o).embeddedTView(e,r);i&&(i.indexInDeclarationView=o,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Xc=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=e.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){let i=o[r];this.matchTNodeWithReadOption(e,n,$S(n,i)),this.matchTNodeWithReadOption(e,n,Ps(n,e,i,!1,!1))}else o===jr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ps(n,e,o,!1,!1))}matchTNodeWithReadOption(e,n,o){if(o!==null){let r=this.metadata.read;if(r!==null)if(r===dn||r===Fo||r===jr&&n.type&4)this.addMatch(n.index,-2);else{let i=Ps(n,e,r,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,o)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function $S(t,e){let n=t.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===e)return n[o+1]}return null}function BS(t,e){return t.type&11?Lo(t,e):t.type&4?Md(t,e):null}function GS(t,e,n,o){return n===-1?BS(e,t):n===-2?qS(t,e,o):Vs(t,t[P],n,e)}function qS(t,e,n){if(n===dn)return Lo(e,t);if(n===jr)return Md(e,t);if(n===Fo)return iy(e,t)}function sy(t,e,n,o){let r=e[bt].queries[o];if(r.matches===null){let i=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let d=s[u];if(d<0)a.push(null);else{let f=i[d];a.push(GS(e,f,s[u+1],n.metadata.read))}}r.matches=a}return r.matches}function ed(t,e,n,o){let r=t.queries.getByIndex(n),i=r.matches;if(i!==null){let s=sy(t,e,r,n);for(let a=0;a<i.length;a+=2){let u=i[a];if(u>0)o.push(s[a/2]);else{let d=i[a+1],f=e[-u];for(let p=ae;p<f.length;p++){let h=f[p];h[on]===h[de]&&ed(h[P],h,d,o)}if(f[On]!==null){let p=f[On];for(let h=0;h<p.length;h++){let m=p[h];ed(m[P],m,d,o)}}}}}return o}function xd(t,e){return t[bt].queries[e].queryList}function ay(t,e,n){let o=new Hs((n&4)===4);return $h(t,e,o,o.destroy),(e[bt]??=new Qc).queries.push(new Kc(o))-1}function zS(t,e,n){let o=Le();return o.firstCreatePass&&(ly(o,new Ws(t,e,n),-1),(e&2)===2&&(o.staticViewQueries=!0)),ay(o,z(),e)}function WS(t,e,n,o){let r=Le();if(r.firstCreatePass){let i=Oe();ly(r,new Ws(e,n,o),i.index),JS(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return ay(r,z(),n)}function jS(t){return t.split(",").map(e=>e.trim())}function ly(t,e,n){t.queries===null&&(t.queries=new Zc),t.queries.track(new Xc(e,n))}function JS(t,e){let n=t.contentQueries||(t.contentQueries=[]),o=n.length?n[n.length-1]:-1;e!==o&&n.push(t.queries.length-1,e)}function Ad(t,e){return t.queries.getByIndex(e)}function uy(t,e){let n=t[P],o=Ad(n,e);return o.crossesNgTemplate?ed(n,t,e,[]):sy(n,t,o,e)}function cy(t,e,n){let o,r=gr(()=>{o._dirtyCounter();let i=KS(o,t);if(e&&i===void 0)throw new x(-951,!1);return i});return o=r[_e],o._dirtyCounter=xe(0),o._flatValue=void 0,r}function dy(t){return cy(!0,!1,t)}function fy(t){return cy(!0,!0,t)}function YS(t,e){let n=t[_e];n._lView=z(),n._queryIndex=e,n._queryList=xd(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(o=>o+1))}function KS(t,e){let n=t._lView,o=t._queryIndex;if(n===void 0||o===void 0||n[V]&4)return e?void 0:Bt;let r=xd(n,o),i=uy(n,o);return r.reset(i,eg),e?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}var Ro=class{},ya=class{};var js=class extends Ro{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qs(this);constructor(e,n,o,r=!0){super(),this.ngModuleType=e,this._parent=n;let i=ju(e);this._bootstrapComponents=Cg(i.bootstrap),this._r3Injector=_c(e,n,[{provide:Ro,useValue:this},{provide:Xr,useValue:this.componentFactoryResolver},...o],$t(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Js=class extends ya{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new js(this.moduleType,e,[])}};var Jr=class extends Ro{injector;componentFactoryResolver=new qs(this);instance=null;constructor(e){super();let n=new xn([...e.providers,{provide:Ro,useValue:this},{provide:Xr,useValue:this.componentFactoryResolver}],e.parent||Rr(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ei(t,e,n=null){return new Jr({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var QS=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=ec(!1,n.type),r=o.length>0?ei([o],this._injector,""):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:t,providedIn:"environment",factory:()=>new t(H(me))})}return t})();function Ce(t){return ta(()=>{let e=py(t),n=ne(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(QS).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&fn("NgStandalone"),hy(n);let o=t.dependencies;return n.directiveDefs=bm(o,ZS),n.pipeDefs=bm(o,Ch),n.id=t_(n),n})}function ZS(t){return nn(t)||Ju(t)}function XS(t,e){if(t==null)return Rn;let n={};for(let o in t)if(t.hasOwnProperty(o)){let r=t[o],i,s,a,u;Array.isArray(r)?(a=r[0],i=r[1],s=r[2]??i,u=r[3]||null):(i=r,s=r,a=ua.None,u=null),n[i]=[o,a,u],e[i]=s}return n}function e_(t){if(t==null)return Rn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Uo(t){return ta(()=>{let e=py(t);return hy(e),e})}function py(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Rn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:XS(t.inputs,e),outputs:e_(t.outputs),debugInfo:null}}function hy(t){t.features?.forEach(e=>e(t))}function bm(t,e){return t?()=>{let n=typeof t=="function"?t():t,o=[];for(let r of n){let i=e(r);i!==null&&o.push(i)}return o}:null}function t_(t){let e=0,n=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function n_(t,e,n,o,r,i,s,a){if(n.firstCreatePass){t.mergedAttrs=na(t.mergedAttrs,t.attrs);let f=t.tView=gd(2,t,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Do(t,!1);let u=o_(n,e,t,o);Ms()&&Td(n,e,u,t),bo(u,e);let d=zg(u,e,u,t);e[o+Ie]=d,vd(e,d),VS(d,t,e)}function Ys(t,e,n,o,r,i,s,a,u,d,f){let p=n+Ie,h;if(e.firstCreatePass){if(h=ha(e,p,4,s||null,a||null),d!=null){let m=Rt(e.consts,d);h.localNames=[];for(let E=0;E<m.length;E+=2)h.localNames.push(m[E],-1)}}else h=e.data[p];return n_(h,t,e,n,o,r,i,u),d!=null&&_d(t,h,f),h}var o_=r_;function r_(t,e,n,o){return xs(!0),e[se].createComment("")}var bd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Nd=new k("");function ti(t){return!!t&&typeof t.then=="function"}function my(t){return!!t&&typeof t.subscribe=="function"}var gy=new k("");var Rd=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=S(gy,{optional:!0})??[];injector=S(at);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let i=ke(this.injector,r);if(ti(i))n.push(i);else if(my(i)){let s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});n.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),va=new k("");function yy(){lu(()=>{let t="";throw new x(600,t)})}function vy(t){return t.isBoundToModule}var i_=10;var Vo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(Pt);afterRenderManager=S(Dg);zonelessEnabled=S(Hr);rootEffectScheduler=S(Nc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new pe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(ln);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(n=>!n))}constructor(){S(Zr,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:r=>{r&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=S(me);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,r=at.NULL){return this._injector.get(je).run(()=>{te(K.BootstrapComponentStart);let s=n instanceof ma;if(!this._injector.get(Rd).done){let E="";throw new x(405,E)}let u;s?u=n:u=this._injector.get(Xr).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let d=vy(u)?void 0:this._injector.get(Ro),f=o||u.selector,p=u.create(r,[],f,d),h=p.location.nativeElement,m=p.injector.get(Nd,null);return m?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),Br(this.components,p),m?.unregisterApplication(h)}),this._loadComponent(p),te(K.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){te(K.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Id.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw te(K.ChangeDetectionEnd),new x(101,!1);let n=A(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,A(n),this.afterTick.next(),te(K.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<i_;){te(K.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{te(K.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!o&&!Fr(r))continue;let i=o&&!this.zonelessEnabled?0:1;$g(r,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fr(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;Br(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(va,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Br(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Br(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ea(t,e,n,o){let r=z(),i=Mo();if(cn(r,i,e)){let s=Le(),a=Sc();FT(a,r,t,e,n,o)}return Ea}var WU=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var td=class{destroy(e){}updateValue(e,n){}swap(e,n){let o=Math.min(e,n),r=Math.max(e,n),i=this.detach(r);if(r-o>1){let s=this.detach(o);this.attach(o,i),this.attach(r,s)}else this.attach(o,i)}move(e,n){this.attach(n,this.detach(e))}};function Oc(t,e,n,o,r){return t===n&&Object.is(e,o)?1:Object.is(r(t,e),r(n,o))?-1:0}function s_(t,e,n,o){let r,i,s=0,a=t.length-1,u=void 0;if(Array.isArray(e)){A(o);let d=e.length-1;for(A(null);s<=a&&s<=d;){let f=t.at(s),p=e[s],h=Oc(s,f,s,p,n);if(h!==0){h<0&&t.updateValue(s,p),s++;continue}let m=t.at(a),E=e[d],I=Oc(a,m,d,E,n);if(I!==0){I<0&&t.updateValue(a,E),a--,d--;continue}let T=n(s,f),C=n(a,m),D=n(s,p);if(Object.is(D,C)){let _=n(d,E);Object.is(_,T)?(t.swap(s,a),t.updateValue(a,E),d--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(r??=new Ks,i??=Rm(t,s,a,n),nd(t,r,s,D))t.updateValue(s,p),s++,a++;else if(i.has(D))r.set(T,t.detach(s)),a--;else{let _=t.create(s,e[s]);t.attach(s,_),s++,a++}}for(;s<=d;)Nm(t,r,n,s,e[s]),s++}else if(e!=null){A(o);let d=e[Symbol.iterator]();A(null);let f=d.next();for(;!f.done&&s<=a;){let p=t.at(s),h=f.value,m=Oc(s,p,s,h,n);if(m!==0)m<0&&t.updateValue(s,h),s++,f=d.next();else{r??=new Ks,i??=Rm(t,s,a,n);let E=n(s,h);if(nd(t,r,s,E))t.updateValue(s,h),s++,a++,f=d.next();else if(!i.has(E))t.attach(s,t.create(s,h)),s++,a++,f=d.next();else{let I=n(s,p);r.set(I,t.detach(s)),a--}}}for(;!f.done;)Nm(t,r,n,t.length,f.value),f=d.next()}for(;s<=a;)t.destroy(t.detach(a--));r?.forEach(d=>{t.destroy(d)})}function nd(t,e,n,o){return e!==void 0&&e.has(o)?(t.attach(n,e.get(o)),e.delete(o),!0):!1}function Nm(t,e,n,o,r){if(nd(t,e,o,n(o,r)))t.updateValue(o,r);else{let i=t.create(o,r);t.attach(o,i)}}function Rm(t,e,n,o){let r=new Set;for(let i=e;i<=n;i++)r.add(o(i,t.at(i)));return r}var Ks=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let o=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,o]of this.kvMap)if(e(o,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,n)}}};function Wn(t,e,n,o,r,i,s,a){fn("NgControlFlow");let u=z(),d=Le(),f=Rt(d.consts,i);return Ys(u,d,t,e,n,o,r,f,256,s,a),Pd}function Pd(t,e,n,o,r,i,s,a){fn("NgControlFlow");let u=z(),d=Le(),f=Rt(d.consts,i);return Ys(u,d,t,e,n,o,r,f,512,s,a),Pd}function jn(t,e){fn("NgControlFlow");let n=z(),o=Mo(),r=n[o]!==gt?n[o]:-1,i=r!==-1?Qs(n,Ie+r):void 0,s=0;if(cn(n,o,t)){let a=A(null);try{if(i!==void 0&&jg(i,s),t!==-1){let u=Ie+t,d=Qs(n,u),f=sd(n[P],u),p=Yg(d,f,n),h=fa(n,f,e,{dehydratedView:p});pa(d,h,s,qr(f,p))}}finally{A(a)}}else if(i!==void 0){let a=Wg(i,s);a!==void 0&&(a[le]=e)}}var od=class{lContainer;$implicit;$index;constructor(e,n,o){this.lContainer=e,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-ae}};function ni(t,e){return e}var rd=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,o){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=o}};function Wt(t,e,n,o,r,i,s,a,u,d,f,p,h){fn("NgControlFlow");let m=z(),E=Le(),I=u!==void 0,T=z(),C=a?s.bind(T[Je][le]):s,D=new rd(I,C);T[Ie+t]=D,Ys(m,E,t+1,e,n,o,r,Rt(E.consts,i),256),I&&Ys(m,E,t+2,u,d,f,p,Rt(E.consts,h),512)}var id=class extends td{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,o){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=o}get length(){return this.lContainer.length-ae}at(e){return this.getLView(e)[le].$implicit}attach(e,n){let o=n[To];this.needsIndexUpdate||=e!==this.length,pa(this.lContainer,n,e,qr(this.templateTNode,o)),a_(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,l_(this.lContainer,e),u_(this.lContainer,e)}create(e,n){let o=Wc(this.lContainer,this.templateTNode.tView.ssrId);return fa(this.hostLView,this.templateTNode,new od(this.lContainer,n,e),{dehydratedView:o})}destroy(e){ca(e[P],e)}updateValue(e,n){this.getLView(e)[le].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[le].$index=e}getLView(e){return c_(this.lContainer,e)}};function jt(t){let e=A(null),n=qt();try{let o=z(),r=o[P],i=o[n],s=n+1,a=Qs(o,s);if(i.liveCollection===void 0){let d=sd(r,s);i.liveCollection=new id(a,o,d)}else i.liveCollection.reset();let u=i.liveCollection;if(s_(u,t,i.trackByFn,e),u.updateIndexes(),i.hasEmptyBlock){let d=Mo(),f=u.length===0;if(cn(o,d,f)){let p=n+2,h=Qs(o,p);if(f){let m=sd(r,p),E=Yg(h,m,o),I=fa(o,m,void 0,{dehydratedView:E});pa(h,I,0,qr(m,E))}else r.firstUpdatePass&&aS(h),jg(h,0)}}}finally{A(e)}}function Qs(t,e){return t[e]}function a_(t,e){if(t.length<=ae)return;let n=ae+e,o=t[n],r=o?o[Ln]:void 0;if(o&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let i=o[Gt];pT(i,r),Gn.delete(o),r.detachedLeaveAnimationFns=void 0}}function l_(t,e){if(t.length<=ae)return;let n=ae+e,o=t[n],r=o?o[Ln]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function u_(t,e){return Wr(t,e)}function c_(t,e){return Wg(t,e)}function sd(t,e){return Or(t,e)}function Pm(t,e,n,o,r){Lg(e,t,n,r?"class":"style",o)}function Ae(t,e,n,o){let r=z(),i=r[P],s=t+Ie,a=i.firstCreatePass?Xg(s,r,2,e,OT,qh(),n,o):i.data[s];if(Pg(a,r,t,e,Ey),Is(a)){let u=r[P];Rg(u,r,a),fg(u,a,r)}return o!=null&&_d(r,a),Ae}function Be(){let t=Le(),e=Oe(),n=kg(e);return t.firstCreatePass&&ey(t,n),hc(n)&&mc(),pc(),n.classesWithoutHost!=null&&CC(n)&&Pm(t,n,z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&TC(n)&&Pm(t,n,z(),n.stylesWithoutHost,!1),Be}function yt(t,e,n,o){return Ae(t,e,n,o),Be(),yt}function v(t,e,n,o){let r=z(),i=r[P],s=t+Ie,a=i.firstCreatePass?TS(s,i,2,e,n,o):i.data[s];return Pg(a,r,t,e,Ey),o!=null&&_d(r,a),v}function y(){let t=Oe(),e=kg(t);return hc(e)&&mc(),pc(),y}function be(t,e,n,o){return v(t,e,n,o),y(),be}var Ey=(t,e,n,o,r)=>(xs(!0),mg(e[se],o,rm()));function oi(){return z()}function pn(t,e,n){let o=z(),r=Mo();if(cn(o,r,e)){let i=Le(),s=Sc();RT(s,o,t,e,o[se],n)}return pn}var ri="en-US";var d_=ri;function Iy(t){typeof t=="string"&&(d_=t.toLowerCase().replace(/_/g,"-"))}function Ho(t,e,n){let o=z(),r=Le(),i=Oe();return f_(r,o,o[se],i,t,e,n),Ho}function Te(t,e,n){let o=z(),r=Le(),i=Oe();return(i.type&3||n)&&ty(i,r,o,n,o[se],t,e,Ls(i,o,e)),Te}function f_(t,e,n,o,r,i,s){let a=!0,u=null;if((o.type&3||s)&&(u??=Ls(o,e,i),ty(o,t,e,s,n,r,i,u)&&(a=!1)),a){let d=o.outputs?.[r],f=o.hostDirectiveOutputs?.[r];if(f&&f.length)for(let p=0;p<f.length;p+=2){let h=f[p],m=f[p+1];u??=Ls(o,e,i),Mm(o,e,h,m,r,u)}if(d&&d.length)for(let p of d)u??=Ls(o,e,i),Mm(o,e,p,r,r,u)}}function vt(t=1){return om(t)}function Ia(t,e,n,o){return WS(t,e,n,o),Ia}function kd(t){let e=z(),n=Le(),o=_s();Vr(o+1);let r=Ad(n,o);if(t.dirty&&Fh(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let i=uy(e,o);t.reset(i,eg),t.notifyOnChanges()}return!0}return!1}function Ld(){return xd(z(),_s())}function Ca(t,e,n,o){return YS(t,zS(e,n,o)),Ca}function Od(t=1){Vr(_s()+t)}function bs(t,e){return t<<17|e<<2}function zn(t){return t>>17&32767}function p_(t){return(t&2)==2}function h_(t,e){return t&131071|e<<17}function ad(t){return t|2}function Po(t){return(t&131068)>>2}function Fc(t,e){return t&-131069|e<<2}function m_(t){return(t&1)===1}function ld(t){return t|1}function g_(t,e,n,o,r,i){let s=i?e.classBindings:e.styleBindings,a=zn(s),u=Po(s);t[o]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Eo(p,f)>0)&&(d=!0)}else f=n;if(r)if(u!==0){let h=zn(t[a+1]);t[o+1]=bs(h,a),h!==0&&(t[h+1]=Fc(t[h+1],o)),t[a+1]=h_(t[a+1],o)}else t[o+1]=bs(a,0),a!==0&&(t[a+1]=Fc(t[a+1],o)),a=o;else t[o+1]=bs(u,0),a===0?a=o:t[u+1]=Fc(t[u+1],o),u=o;d&&(t[o+1]=ad(t[o+1])),km(t,f,o,!0),km(t,f,o,!1),y_(e,f,t,o,i),s=bs(a,u),i?e.classBindings=s:e.styleBindings=s}function y_(t,e,n,o,r){let i=r?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Eo(i,e)>=0&&(n[o+1]=ld(n[o+1]))}function km(t,e,n,o){let r=t[n+1],i=e===null,s=o?zn(r):Po(r),a=!1;for(;s!==0&&(a===!1||i);){let u=t[s],d=t[s+1];v_(u,e)&&(a=!0,t[s+1]=o?ld(d):ad(d)),s=o?zn(d):Po(d)}a&&(t[n+1]=o?ad(r):ld(r))}function v_(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Eo(t,e)>=0:!1}function Ta(t,e){return E_(t,e,null,!0),Ta}function E_(t,e,n,o){let r=z(),i=Le(),s=Ic(2);if(i.firstUpdatePass&&C_(i,t,s,o),e!==gt&&cn(r,s,e)){let a=i.data[qt()];D_(i,a,r,r[se],t,r[s+1]=M_(e,n),o,s)}}function I_(t,e){return e>=t.expandoStartIndex}function C_(t,e,n,o){let r=t.data;if(r[n+1]===null){let i=r[qt()],s=I_(t,n);x_(i,o)&&e===null&&!s&&(e=!1),e=T_(r,i,e,o),g_(r,i,e,n,s,o)}}function T_(t,e,n,o){let r=Xh(t),i=o?e.residualClasses:e.residualStyles;if(r===null)(o?e.classBindings:e.styleBindings)===0&&(n=Uc(null,t,e,n,o),n=Yr(n,e.attrs,o),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Uc(r,t,e,n,o),i===null){let u=S_(t,e,o);u!==void 0&&Array.isArray(u)&&(u=Uc(null,t,e,u[1],o),u=Yr(u,e.attrs,o),__(t,e,o,u))}else i=w_(t,e,o)}return i!==void 0&&(o?e.residualClasses=i:e.residualStyles=i),n}function S_(t,e,n){let o=n?e.classBindings:e.styleBindings;if(Po(o)!==0)return t[zn(o)]}function __(t,e,n,o){let r=n?e.classBindings:e.styleBindings;t[zn(r)]=o}function w_(t,e,n){let o,r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){let s=t[i].hostAttrs;o=Yr(o,s,n)}return Yr(o,e.attrs,n)}function Uc(t,e,n,o,r){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],o=Yr(o,i.hostAttrs,r),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),o}function Yr(t,e,n){let o=n?1:2,r=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?r=s:r===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ah(t,s,n?!0:e[++i]))}return t===void 0?null:t}function D_(t,e,n,o,r,i,s,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],f=m_(d)?Lm(u,e,n,r,Po(d),s):void 0;if(!Zs(f)){Zs(i)||p_(d)&&(i=Lm(u,null,n,r,a,s));let p=ac(qt(),n);xT(o,s,p,r,i)}}function Lm(t,e,n,o,r,i){let s=e===null,a;for(;r>0;){let u=t[r],d=Array.isArray(u),f=d?u[1]:u,p=f===null,h=n[r+1];h===gt&&(h=p?Bt:void 0);let m=p?ys(h,o):f===o?h:void 0;if(d&&!Zs(m)&&(m=ys(u,o)),Zs(m)&&(a=m,s))return a;let E=t[r+1];r=s?zn(E):Po(E)}if(e!==null){let u=i?e.residualClasses:e.residualStyles;u!=null&&(a=ys(u,o))}return a}function Zs(t){return t!==void 0}function M_(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$t(aa(t)))),t}function x_(t,e){return(t.flags&(e?8:16))!==0}function g(t,e=""){let n=z(),o=Le(),r=t+Ie,i=o.firstCreatePass?ha(o,r,1,e,null):o.data[r],s=A_(o,n,i,e,t);n[r]=s,Ms()&&Td(o,n,s,i),Do(i,!1)}var A_=(t,e,n,o,r)=>(xs(!0),jC(e[se],o));function b_(t,e,n,o=""){return cn(t,Mo(),n)?e+Nn(n)+o:gt}function N_(t,e,n,o,r,i=""){let s=Jh(),a=SS(t,s,n,r);return Ic(2),a?e+Nn(n)+o+Nn(r)+i:gt}function Jn(t){return Ge("",t),Jn}function Ge(t,e,n){let o=z(),r=b_(o,t,e,n);return r!==gt&&Cy(o,qt(),r),Ge}function Yn(t,e,n,o,r){let i=z(),s=N_(i,t,e,n,o,r);return s!==gt&&Cy(i,qt(),s),Yn}function Cy(t,e,n){let o=ac(e,t);JC(t[se],o,n)}var Xs=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Fd=(()=>{class t{compileModuleSync(n){return new Js(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let o=this.compileModuleSync(n),r=ju(n),i=Cg(r.declarations).reduce((s,a)=>{let u=nn(a);return u&&s.push(new No(u)),s},[]);return new Xs(o,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ty=(()=>{class t{applicationErrorHandler=S(Pt);appRef=S(Vo);taskService=S(ln);ngZone=S(je);zonelessEnabled=S(Hr);tracing=S(Zr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(bc,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?Dc:wc;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.taskService.remove(n),this.applicationErrorHandler(o)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Dc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ud(){return fn("NgZoneless"),Co([...Vd(),[]])}function Vd(){return[{provide:vo,useExisting:Ty},{provide:je,useClass:Mr},{provide:Hr,useValue:!0}]}function R_(){return typeof $localize<"u"&&$localize.locale||ri}var Hd=new k("",{factory:()=>S(Hd,{optional:!0,skipSelf:!0})||R_()});var Sa=class{destroyed=!1;listeners=null;errorHandler=S(lt,{optional:!0});destroyRef=S(an);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new x(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(An(953,!1));return}if(this.listeners===null)return;let n=A(null);try{for(let o of this.listeners)try{o(e)}catch(r){this.errorHandler?.handleError(r)}}finally{A(n)}}};function $d(t,e){return gr(t,e?.equal)}var wy=Symbol("InputSignalNode#UNSET"),G_=ne(M({},Vi),{transformFn:void 0,applyValueToInputSignal(t,e){yr(t,e)}});function Dy(t,e){let n=Object.create(G_);n.value=t,n.transformFn=e?.transform;function o(){if(pr(n),n.value===wy){let r=null;throw new x(-950,r)}return n.value}return o[_e]=n,o}var wa=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>oa(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function My(t){return new Sa}function Sy(t,e){return Dy(t,e)}function q_(t){return Dy(wy,t)}var xy=(Sy.required=q_,Sy);function _y(t,e){return dy(e)}function z_(t,e){return fy(e)}var Ay=(_y.required=z_,_y);var Bd=new k(""),W_=new k("");function ii(t){return!t.moduleRef}function j_(t){let e=ii(t)?t.r3Injector:t.moduleRef.injector,n=e.get(je);return n.run(()=>{ii(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=e.get(Pt),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o})}),ii(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Bd);s.add(i),e.onDestroy(()=>{r.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Bd);s.add(i),t.moduleRef.onDestroy(()=>{Br(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(i)})}return Y_(o,n,()=>{let i=e.get(ln),s=i.add(),a=e.get(Rd);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Hd,ri);if(Iy(u||ri),!e.get(W_,!0))return ii(t)?e.get(Vo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ii(t)){let f=e.get(Vo);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return J_?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var J_;function Y_(t,e,n){try{let o=n();return ti(o)?o.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>t(o)),o}}var _a=null;function K_(t=[],e){return at.create({name:e,providers:[{provide:Nr,useValue:"platform"},{provide:Bd,useValue:new Set([()=>_a=null])},...t]})}function Q_(t=[]){if(_a)return _a;let e=K_(t);return _a=e,yy(),Z_(e),e}function Z_(t){let e=t.get(ia,null);ke(t,()=>{e?.forEach(n=>n())})}var Da=(()=>{class t{static __NG_ELEMENT_ID__=X_}return t})();function X_(t){return ew(Oe(),z(),(t&16)===16)}function ew(t,e,n){if(Fn(t)&&!n){let o=ft(t.index,e);return new un(o,o)}else if(t.type&175){let o=e[Je];return new un(o,e)}return null}function by(t){let{rootComponent:e,appProviders:n,platformProviders:o,platformRef:r}=t;te(K.BootstrapApplicationStart);try{let i=r?.injector??Q_(o),s=[Vd(),lm,...n||[]],a=new Jr({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return j_({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{te(K.BootstrapApplicationEnd)}}function Ma(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Ny=null;function Jt(){return Ny}function qd(t){Ny??=t}var si=class{},xa=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>S(Ry),providedIn:"platform"})}return t})();var Ry=(()=>{class t extends xa{_location;_history;_doc=S(ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jt().getBaseHref(this._doc)}onPopState(n){let o=Jt().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){let o=Jt().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,r){this._history.pushState(n,o,r)}replaceState(n,o,r){this._history.replaceState(n,o,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ly(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Py(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function hn(t){return t&&t[0]!=="?"?`?${t}`:t}var $o=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>S(nw),providedIn:"root"})}return t})(),tw=new k(""),nw=(()=>{class t extends $o{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,o){super(),this._platformLocation=n,this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??S(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ly(this._baseHref,n)}path(n=!1){let o=this._platformLocation.pathname+hn(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${o}${r}`:o}pushState(n,o,r,i){let s=this.prepareExternalUrl(r+hn(i));this._platformLocation.pushState(n,o,s)}replaceState(n,o,r,i){let s=this.prepareExternalUrl(r+hn(i));this._platformLocation.replaceState(n,o,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(o){return new(o||t)(H(xa),H(tw,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bo=(()=>{class t{_subject=new pe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let o=this._locationStrategy.getBaseHref();this._basePath=iw(Py(ky(o))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+hn(o))}normalize(n){return t.stripTrailingSlash(rw(this._basePath,ky(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",r=null){this._locationStrategy.pushState(r,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hn(o)),r)}replaceState(n,o="",r=null){this._locationStrategy.replaceState(r,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hn(o)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(r=>r(n,o))}subscribe(n,o,r){return this._subject.subscribe({next:n,error:o??void 0,complete:r??void 0})}static normalizeQueryParams=hn;static joinWithSlash=Ly;static stripTrailingSlash=Py;static \u0275fac=function(o){return new(o||t)(H($o))};static \u0275prov=b({token:t,factory:()=>ow(),providedIn:"root"})}return t})();function ow(){return new Bo(H($o))}function rw(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ky(t){return t.replace(/\/index.html$/,"")}function iw(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function zd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let o=n.indexOf("="),[r,i]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var ai=class{};var Oy="browser";var li=class{_doc;constructor(e){this._doc=e}manager},Aa=(()=>{class t extends li{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r,i){return n.addEventListener(o,r,i),()=>this.removeEventListener(n,o,r,i)}removeEventListener(n,o,r,i){return n.removeEventListener(o,r,i)}static \u0275fac=function(o){return new(o||t)(H(ge))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Ra=new k(""),Yd=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof Aa));this._plugins=r.slice().reverse();let i=n.find(s=>s instanceof Aa);i&&this._plugins.push(i)}addEventListener(n,o,r,i){return this._findPluginFor(o).addEventListener(n,o,r,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(i=>i.supports(n)),!o)throw new x(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||t)(H(Ra),H(je))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Wd="ng-app-id";function Fy(t){for(let e of t)e.remove()}function Uy(t,e){let n=e.createElement("style");return n.textContent=t,n}function aw(t,e,n,o){let r=t.head?.querySelectorAll(`style[${Wd}="${e}"],link[${Wd}="${e}"]`);if(r)for(let i of r)i.removeAttribute(Wd),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Jd(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Kd=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,o,r,i={}){this.doc=n,this.appId=o,this.nonce=r,aw(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let r of n)this.addUsage(r,this.inline,Uy);o?.forEach(r=>this.addUsage(r,this.external,Jd))}removeStyles(n,o){for(let r of n)this.removeUsage(r,this.inline);o?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,o,r){let i=o.get(n);i?i.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,o){let r=o.get(n);r&&(r.usage--,r.usage<=0&&(Fy(r.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Fy(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:r}]of this.inline)r.push(this.addElement(n,Uy(o,this.doc)));for(let[o,{elements:r}]of this.external)r.push(this.addElement(n,Jd(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),n.appendChild(o)}static \u0275fac=function(o){return new(o||t)(H(ge),H(ra),H(sa,8),H(Qr))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),jd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qd=/%COMP%/g;var Hy="%COMP%",lw=`_nghost-${Hy}`,uw=`_ngcontent-${Hy}`,cw=!0,dw=new k("",{factory:()=>cw});function fw(t){return uw.replace(Qd,t)}function pw(t){return lw.replace(Qd,t)}function $y(t,e){return e.map(n=>n.replace(Qd,t))}var Zd=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,o,r,i,s,a,u=null,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=d,this.defaultRenderer=new ui(n,s,a,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,o);return r instanceof Na?r.applyToHost(n):r instanceof ci&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,i=r.get(o.id);if(!i){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(o.encapsulation){case mt.Emulated:i=new Na(u,d,o,this.appId,f,s,a,p);break;case mt.ShadowDom:return new ba(u,n,o,s,a,this.nonce,p,d);case mt.ExperimentalIsolatedShadowDom:return new ba(u,n,o,s,a,this.nonce,p);default:i=new ci(u,d,o,f,s,a,p);break}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||t)(H(Yd),H(Kd),H(ra),H(dw),H(ge),H(je),H(sa),H(Zr,8))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),ui=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,o,r){this.eventManager=e,this.doc=n,this.ngZone=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(jd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Vy(e)?e.content:e).appendChild(n)}insertBefore(e,n,o){e&&(Vy(e)?e.content:e).insertBefore(n,o)}removeChild(e,n){n.remove()}selectRootElement(e,n){let o=typeof e=="string"?this.doc.querySelector(e):e;if(!o)throw new x(-5104,!1);return n||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,o,r){if(r){n=r+":"+n;let i=jd[r];i?e.setAttributeNS(i,n,o):e.setAttribute(n,o)}else e.setAttribute(n,o)}removeAttribute(e,n,o){if(o){let r=jd[o];r?e.removeAttributeNS(r,n):e.removeAttribute(`${o}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,o,r){r&(zt.DashCase|zt.Important)?e.style.setProperty(n,o,r&zt.Important?"important":""):e.style[n]=o}removeStyle(e,n,o){o&zt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,o){e!=null&&(e[n]=o)}setValue(e,n){e.nodeValue=n}listen(e,n,o,r){if(typeof e=="string"&&(e=Jt().getGlobalEventTarget(this.doc,e),!e))throw new x(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Vy(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ba=class extends ui{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,o,r,i,s,a,u){super(e,r,i,a),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=$y(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let f=o.getExternalStyles?.();if(f)for(let p of f){let h=Jd(p,r);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,o){return super.insertBefore(this.nodeOrShadowRoot(e),n,o)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ci=class extends ui{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,o,r,i,s,a,u){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=o.styles;this.styles=u?$y(u,d):d,this.styleUrls=o.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Gn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Na=class extends ci{contentAttr;hostAttr;constructor(e,n,o,r,i,s,a,u){let d=r+"-"+o.id;super(e,n,o,i,s,a,u,d),this.contentAttr=fw(d),this.hostAttr=pw(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let o=super.createElement(e,n);return super.setAttribute(o,this.contentAttr,""),o}};var Pa=class t extends si{supportsDOMEvents=!0;static makeCurrent(){qd(new t)}onAndCancel(e,n,o,r){return e.addEventListener(n,o,r),()=>{e.removeEventListener(n,o,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=hw();return n==null?null:mw(n)}resetBaseElement(){di=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zd(document.cookie,e)}},di=null;function hw(){return di=di||document.head.querySelector("base"),di?di.getAttribute("href"):null}function mw(t){return new URL(t,document.baseURI).pathname}var gw=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),By=["alt","control","meta","shift"],yw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vw={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Gy=(()=>{class t extends li{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r,i){let s=t.parseEventName(o),a=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let i=t._normalizeKey(o.pop()),s="",a=o.indexOf("code");if(a>-1&&(o.splice(a,1),s="code."),By.forEach(d=>{let f=o.indexOf(d);f>-1&&(o.splice(f,1),s+=d+".")}),s+=i,o.length!=0||i.length===0)return null;let u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(n,o){let r=yw[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),By.forEach(s=>{if(s!==r){let a=vw[s];a(n)&&(i+=s+".")}}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||t)(H(ge))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();function Xd(t,e,n){let o=M({rootComponent:t,platformRef:n?.platformRef},Ew(e));return by(o)}function Ew(t){return{appProviders:[..._w,...t?.providers??[]],platformProviders:Sw}}function Iw(){Pa.makeCurrent()}function Cw(){return new lt}function Tw(){return dd(document),document}var Sw=[{provide:Qr,useValue:Oy},{provide:ia,useValue:Iw,multi:!0},{provide:ge,useFactory:Tw}];var _w=[{provide:Nr,useValue:"root"},{provide:lt,useFactory:Cw},{provide:Ra,useClass:Aa,multi:!0},{provide:Ra,useClass:Gy,multi:!0},Zd,Kd,Yd,{provide:qn,useExisting:Zd},{provide:ai,useClass:gw},[]];var qy=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(o){return new(o||t)(H(ge))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var F="primary",_i=Symbol("RouteTitle"),rf=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function eo(t){return new rf(t)}function Xy(t,e,n){let o=n.path.split("/");if(o.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||o.length<t.length))return null;let r={};for(let i=0;i<o.length;i++){let s=o[i],a=t[i];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,o.length),posParams:r}}function Va(t){return new Promise((e,n)=>{t.pipe(Vt()).subscribe({next:o=>e(o),error:o=>n(o)})})}function Dw(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lt(t[n],e[n]))return!1;return!0}function Lt(t,e){let n=t?sf(t):void 0,o=e?sf(e):void 0;if(!n||!o||n.length!=o.length)return!1;let r;for(let i=0;i<n.length;i++)if(r=n[i],!ev(t[r],e[r]))return!1;return!0}function sf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ev(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),o=[...e].sort();return n.every((r,i)=>o[i]===r)}else return t===e}function tv(t){return t.length>0?t[t.length-1]:null}function no(t){return os(t)?t:ti(t)?ce(Promise.resolve(t)):q(t)}function nv(t){return os(t)?Va(t):Promise.resolve(t)}var Mw={exact:rv,subset:iv},ov={exact:xw,subset:Aw,ignored:()=>!0};function zy(t,e,n){return Mw[n.paths](t.root,e.root,n.matrixParams)&&ov[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xw(t,e){return Lt(t,e)}function rv(t,e,n){if(!Zn(t.segments,e.segments)||!Oa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let o in e.children)if(!t.children[o]||!rv(t.children[o],e.children[o],n))return!1;return!0}function Aw(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ev(t[n],e[n]))}function iv(t,e,n){return sv(t,e,e.segments,n)}function sv(t,e,n,o){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Zn(r,n)||e.hasChildren()||!Oa(r,n,o))}else if(t.segments.length===n.length){if(!Zn(t.segments,n)||!Oa(t.segments,n,o))return!1;for(let r in e.children)if(!t.children[r]||!iv(t.children[r],e.children[r],o))return!1;return!0}else{let r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Zn(t.segments,r)||!Oa(t.segments,r,o)||!t.children[F]?!1:sv(t.children[F],e,i,o)}}function Oa(t,e,n){return e.every((o,r)=>ov[n](t[r].parameters,o.parameters))}var It=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Q([],{}),n={},o=null){this.root=e,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){return Rw.serialize(this)}},Q=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fa(this)}},mn=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=eo(this.parameters),this._parameterMap}toString(){return lv(this)}};function bw(t,e){return Zn(t,e)&&t.every((n,o)=>Lt(n.parameters,e[o].parameters))}function Zn(t,e){return t.length!==e.length?!1:t.every((n,o)=>n.path===e[o].path)}function Nw(t,e){let n=[];return Object.entries(t.children).forEach(([o,r])=>{o===F&&(n=n.concat(e(r,o)))}),Object.entries(t.children).forEach(([o,r])=>{o!==F&&(n=n.concat(e(r,o)))}),n}var wi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>new gn,providedIn:"root"})}return t})(),gn=class{parse(e){let n=new lf(e);return new It(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fi(e.root,!0)}`,o=Lw(e.queryParams),r=typeof e.fragment=="string"?`#${Pw(e.fragment)}`:"";return`${n}${o}${r}`}},Rw=new gn;function Fa(t){return t.segments.map(e=>lv(e)).join("/")}function fi(t,e){if(!t.hasChildren())return Fa(t);if(e){let n=t.children[F]?fi(t.children[F],!1):"",o=[];return Object.entries(t.children).forEach(([r,i])=>{r!==F&&o.push(`${r}:${fi(i,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}else{let n=Nw(t,(o,r)=>r===F?[fi(t.children[F],!1)]:[`${r}:${fi(o,!1)}`]);return Object.keys(t.children).length===1&&t.children[F]!=null?`${Fa(t)}/${n[0]}`:`${Fa(t)}/(${n.join("//")})`}}function av(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ka(t){return av(t).replace(/%3B/gi,";")}function Pw(t){return encodeURI(t)}function af(t){return av(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ua(t){return decodeURIComponent(t)}function Wy(t){return Ua(t.replace(/\+/g,"%20"))}function lv(t){return`${af(t.path)}${kw(t.parameters)}`}function kw(t){return Object.entries(t).map(([e,n])=>`;${af(e)}=${af(n)}`).join("")}function Lw(t){let e=Object.entries(t).map(([n,o])=>Array.isArray(o)?o.map(r=>`${ka(n)}=${ka(r)}`).join("&"):`${ka(n)}=${ka(o)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Ow=/^[^\/()?;#]+/;function ef(t){let e=t.match(Ow);return e?e[0]:""}var Fw=/^[^\/()?;=#]+/;function Uw(t){let e=t.match(Fw);return e?e[0]:""}var Vw=/^[^=?&#]+/;function Hw(t){let e=t.match(Vw);return e?e[0]:""}var $w=/^[^&#]+/;function Bw(t){let e=t.match($w);return e?e[0]:""}var lf=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(o[F]=new Q(e,n)),o}parseSegment(){let e=ef(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new mn(Ua(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Uw(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let r=ef(this.remaining);r&&(o=r,this.capture(o))}e[Ua(n)]=Ua(o)}parseQueryParam(e){let n=Hw(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let s=Bw(this.remaining);s&&(o=s,this.capture(o))}let r=Wy(n),i=Wy(o);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(i)}else e[r]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=ef(this.remaining),r=this.remaining[o.length];if(r!=="/"&&r!==")"&&r!==";")throw new x(4010,!1);let i;o.indexOf(":")>-1?(i=o.slice(0,o.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=F);let s=this.parseChildren();n[i??F]=Object.keys(s).length===1&&s[F]?s[F]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function uv(t){return t.segments.length>0?new Q([],{[F]:t}):t}function cv(t){let e={};for(let[o,r]of Object.entries(t.children)){let i=cv(r);if(o===F&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[o]=i)}let n=new Q(t.segments,e);return Gw(n)}function Gw(t){if(t.numberOfChildren===1&&t.children[F]){let e=t.children[F];return new Q(t.segments.concat(e.segments),e.children)}return t}function yn(t){return t instanceof It}function dv(t,e,n=null,o=null,r=new gn){let i=fv(t);return pv(i,e,n,o,r)}function fv(t){let e;function n(i){let s={};for(let u of i.children){let d=n(u);s[u.outlet]=d}let a=new Q(i.url,s);return i===t&&(e=a),a}let o=n(t.root),r=uv(o);return e??r}function pv(t,e,n,o,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return tf(i,i,i,n,o,r);let s=qw(e);if(s.toRoot())return tf(i,i,new Q([],{}),n,o,r);let a=zw(s,i,t),u=a.processChildren?hi(a.segmentGroup,a.index,s.commands):mv(a.segmentGroup,a.index,s.commands);return tf(i,a.segmentGroup,u,n,o,r)}function Ha(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yi(t){return typeof t=="object"&&t!=null&&t.outlets}function jy(t,e,n){t||="\u0275";let o=new It;return o.queryParams={[t]:e},n.parse(n.serialize(o)).queryParams[t]}function tf(t,e,n,o,r,i){let s={};for(let[d,f]of Object.entries(o??{}))s[d]=Array.isArray(f)?f.map(p=>jy(d,p,i)):jy(d,f,i);let a;t===e?a=n:a=hv(t,e,n);let u=uv(cv(a));return new It(u,s,r)}function hv(t,e,n){let o={};return Object.entries(t.children).forEach(([r,i])=>{i===e?o[r]=n:o[r]=hv(i,e,n)}),new Q(t.segments,o)}var $a=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,o){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=o,e&&o.length>0&&Ha(o[0]))throw new x(4003,!1);let r=o.find(yi);if(r&&r!==tv(o))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qw(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $a(!0,0,t);let e=0,n=!1,o=t.reduce((r,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(i.segmentPath)return[...r,i.segmentPath]}return typeof i!="string"?[...r,i]:s===0?(i.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,i]},[]);return new $a(n,e,o)}var qo=class{segmentGroup;processChildren;index;constructor(e,n,o){this.segmentGroup=e,this.processChildren=n,this.index=o}};function zw(t,e,n){if(t.isAbsolute)return new qo(e,!0,0);if(!n)return new qo(e,!1,NaN);if(n.parent===null)return new qo(n,!0,0);let o=Ha(t.commands[0])?0:1,r=n.segments.length-1+o;return Ww(n,r,t.numberOfDoubleDots)}function Ww(t,e,n){let o=t,r=e,i=n;for(;i>r;){if(i-=r,o=o.parent,!o)throw new x(4005,!1);r=o.segments.length}return new qo(o,!1,r-i)}function jw(t){return yi(t[0])?t[0].outlets:{[F]:t}}function mv(t,e,n){if(t??=new Q([],{}),t.segments.length===0&&t.hasChildren())return hi(t,e,n);let o=Jw(t,e,n),r=n.slice(o.commandIndex);if(o.match&&o.pathIndex<t.segments.length){let i=new Q(t.segments.slice(0,o.pathIndex),{});return i.children[F]=new Q(t.segments.slice(o.pathIndex),t.children),hi(i,0,r)}else return o.match&&r.length===0?new Q(t.segments,{}):o.match&&!t.hasChildren()?uf(t,e,n):o.match?hi(t,0,r):uf(t,e,n)}function hi(t,e,n){if(n.length===0)return new Q(t.segments,{});{let o=jw(n),r={};if(Object.keys(o).some(i=>i!==F)&&t.children[F]&&t.numberOfChildren===1&&t.children[F].segments.length===0){let i=hi(t.children[F],e,n);return new Q(t.segments,i.children)}return Object.entries(o).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[i]=mv(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{o[i]===void 0&&(r[i]=s)}),new Q(t.segments,r)}}function Jw(t,e,n){let o=0,r=e,i={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(o>=n.length)return i;let s=t.segments[r],a=n[o];if(yi(a))break;let u=`${a}`,d=o<n.length-1?n[o+1]:null;if(r>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!Yy(u,d,s))return i;o+=2}else{if(!Yy(u,{},s))return i;o++}r++}return{match:!0,pathIndex:r,commandIndex:o}}function uf(t,e,n){let o=t.segments.slice(0,e),r=0;for(;r<n.length;){let i=n[r];if(yi(i)){let u=Yw(i.outlets);return new Q(o,u)}if(r===0&&Ha(n[0])){let u=t.segments[e];o.push(new mn(u.path,Jy(n[0]))),r++;continue}let s=yi(i)?i.outlets[F]:`${i}`,a=r<n.length-1?n[r+1]:null;s&&a&&Ha(a)?(o.push(new mn(s,Jy(a))),r+=2):(o.push(new mn(s,{})),r++)}return new Q(o,{})}function Yw(t){let e={};return Object.entries(t).forEach(([n,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(e[n]=uf(new Q([],{}),0,o))}),e}function Jy(t){let e={};return Object.entries(t).forEach(([n,o])=>e[n]=`${o}`),e}function Yy(t,e,n){return t==n.path&&Lt(e,n.parameters)}var mi="imperative",ye=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(ye||{}),Ze=class{id;url;constructor(e,n){this.id=e,this.url=n}},to=class extends Ze{type=ye.NavigationStart;navigationTrigger;restoredState;constructor(e,n,o="imperative",r=null){super(e,n),this.navigationTrigger=o,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ct=class extends Ze{urlAfterRedirects;type=ye.NavigationEnd;constructor(e,n,o){super(e,n),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fe=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Fe||{}),vi=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(vi||{}),Ot=class extends Ze{reason;code;type=ye.NavigationCancel;constructor(e,n,o,r){super(e,n),this.reason=o,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yt=class extends Ze{reason;code;type=ye.NavigationSkipped;constructor(e,n,o,r){super(e,n),this.reason=o,this.code=r}},Wo=class extends Ze{error;target;type=ye.NavigationError;constructor(e,n,o,r){super(e,n),this.error=o,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ei=class extends Ze{urlAfterRedirects;state;type=ye.RoutesRecognized;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ba=class extends Ze{urlAfterRedirects;state;type=ye.GuardsCheckStart;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ga=class extends Ze{urlAfterRedirects;state;shouldActivate;type=ye.GuardsCheckEnd;constructor(e,n,o,r,i){super(e,n),this.urlAfterRedirects=o,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qa=class extends Ze{urlAfterRedirects;state;type=ye.ResolveStart;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},za=class extends Ze{urlAfterRedirects;state;type=ye.ResolveEnd;constructor(e,n,o,r){super(e,n),this.urlAfterRedirects=o,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wa=class{route;type=ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ja=class{route;type=ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ja=class{snapshot;type=ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ya=class{snapshot;type=ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ka=class{snapshot;type=ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qa=class{snapshot;type=ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ii=class{},jo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Kw(t){return!(t instanceof Ii)&&!(t instanceof jo)}function Qw(t,e){return t.providers&&!t._injector&&(t._injector=ei(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Et(t){return t.outlet||F}function Zw(t,e){let n=t.filter(o=>Et(o)===e);return n.push(...t.filter(o=>Et(o)!==e)),n}function Ko(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Za=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ko(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Qo(this.rootInjector)}},Qo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,o){let r=this.getOrCreateContext(n);r.outlet=o,this.contexts.set(n,r)}onChildOutletDestroyed(n){let o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new Za(this.rootInjector),this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(o){return new(o||t)(H(me))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xa=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=cf(e,this._root);return n?n.children.map(o=>o.value):[]}firstChild(e){let n=cf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=df(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return df(e,this._root).map(n=>n.value)}};function cf(t,e){if(t===e.value)return e;for(let n of e.children){let o=cf(t,n);if(o)return o}return null}function df(t,e){if(t===e.value)return[e];for(let n of e.children){let o=df(t,n);if(o.length)return o.unshift(e),o}return[]}var Qe=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Go(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ci=class extends Xa{snapshot;constructor(e,n){super(e),this.snapshot=n,yf(this,e)}toString(){return this.snapshot.toString()}};function gv(t){let e=Xw(t),n=new Ee([new mn("",{})]),o=new Ee({}),r=new Ee({}),i=new Ee({}),s=new Ee(""),a=new Kt(n,o,i,s,r,F,t,e.root);return a.snapshot=e.root,new Ci(new Qe(a,[]),e)}function Xw(t){let e={},n={},o={},i=new Xn([],e,o,"",n,F,t,null,{});return new Ti("",new Qe(i,[]))}var Kt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,o,r,i,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=r,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(d=>d[_i]))??q(void 0),this.url=e,this.params=n,this.queryParams=o,this.fragment=r,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>eo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>eo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function el(t,e,n="emptyOnly"){let o,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?o={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),r?.data),t._resolvedData)}:o={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},r&&vv(r)&&(o.resolve[_i]=r.title),o}var Xn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_i]}constructor(e,n,o,r,i,s,a,u,d){this.url=e,this.params=n,this.queryParams=o,this.fragment=r,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(o=>o.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ti=class extends Xa{url;constructor(e,n){super(n),this.url=e,yf(this,n)}toString(){return yv(this._root)}};function yf(t,e){e.value._routerState=t,e.children.forEach(n=>yf(t,n))}function yv(t){let e=t.children.length>0?` { ${t.children.map(yv).join(", ")} } `:"";return`${t.value}${e}`}function nf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Lt(e.params,n.params)||t.paramsSubject.next(n.params),Dw(e.url,n.url)||t.urlSubject.next(n.url),Lt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ff(t,e){let n=Lt(t.params,e.params)&&bw(t.url,e.url),o=!t.parent!=!e.parent;return n&&!o&&(!t.parent||ff(t.parent,e.parent))}function vv(t){return typeof t.title=="string"||t.title===null}var Ev=new k(""),Di=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=F;activateEvents=new De;deactivateEvents=new De;attachEvents=new De;detachEvents=new De;routerOutletData=xy();parentContexts=S(Qo);location=S(Fo);changeDetector=S(Da);inputBinder=S(rl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:o,previousValue:r}=n.name;if(o)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pf(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:u,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(o){return new(o||t)};static \u0275dir=Uo({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ko]})}return t})(),pf=class{route;childContexts;parent;outletData;constructor(e,n,o,r){this.route=e,this.childContexts=n,this.parent=o,this.outletData=r}get(e,n){return e===Kt?this.route:e===Qo?this.childContexts:e===Ev?this.outletData:this.parent.get(e,n)}},rl=new k("");var vf=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=Ce({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(o,r){o&1&&yt(0,"router-outlet")},dependencies:[Di],encapsulation:2})}return t})();function Ef(t){let e=t.children&&t.children.map(Ef),n=e?ne(M({},t),{children:e}):M({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==F&&(n.component=vf),n}function e0(t,e,n){let o=Si(t,e._root,n?n._root:void 0);return new Ci(o,e)}function Si(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let o=n.value;o._futureSnapshot=e.value;let r=t0(t,e,n);return new Qe(o,r)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Si(t,a)),s}}let o=n0(e.value),r=e.children.map(i=>Si(t,i));return new Qe(o,r)}}function t0(t,e,n){return e.children.map(o=>{for(let r of n.children)if(t.shouldReuseRoute(o.value,r.value.snapshot))return Si(t,o,r);return Si(t,o)})}function n0(t){return new Kt(new Ee(t.url),new Ee(t.params),new Ee(t.queryParams),new Ee(t.fragment),new Ee(t.data),t.outlet,t.component,t)}var Jo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Iv="ngNavigationCancelingError";function tl(t,e){let{redirectTo:n,navigationBehaviorOptions:o}=yn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Cv(!1,Fe.Redirect);return r.url=n,r.navigationBehaviorOptions=o,r}function Cv(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Iv]=!0,n.cancellationCode=e,n}function o0(t){return Tv(t)&&yn(t.url)}function Tv(t){return!!t&&t[Iv]}var r0=(t,e,n,o)=>oe(r=>(new hf(e,r.targetRouterState,r.currentRouterState,n,o).activate(t),r)),hf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,o,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=o,this.forwardEvent=r,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,e),nf(this.futureState.root),this.activateChildRoutes(n,o,e)}deactivateChildRoutes(e,n,o){let r=Go(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,r[s],o),delete r[s]}),Object.values(r).forEach(i=>{this.deactivateRouteAndItsChildren(i,o)})}deactivateRoutes(e,n,o){let r=e.value,i=n?n.value:null;if(r===i)if(r.component){let s=o.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,o);else i&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let o=n.getContext(e.value.outlet),r=o&&e.value.component?o.children:n,i=Go(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,r);if(o&&o.outlet){let s=o.outlet.detach(),a=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let o=n.getContext(e.value.outlet),r=o&&e.value.component?o.children:n,i=Go(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,r);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(e,n,o){let r=Go(n);e.children.forEach(i=>{this.activateRoutes(i,r[i.value.outlet],o),this.forwardEvent(new Qa(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Ya(e.value.snapshot))}activateRoutes(e,n,o){let r=e.value,i=n?n.value:null;if(nf(r),r===i)if(r.component){let s=o.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,o);else if(r.component){let s=o.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,o)}},nl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function i0(t,e,n){let o=t._root,r=e?e._root:null;return pi(o,r,n,[o.value])}function s0(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Zo(t,e){let n=Symbol(),o=e.get(t,n);return o===n?typeof t=="function"&&!$u(t)?t:e.get(t):o}function pi(t,e,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=Go(e);return t.children.forEach(s=>{a0(s,i[s.value.outlet],n,o.concat([s.value]),r),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>gi(a,n.getContext(s),r)),r}function a0(t,e,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let u=l0(s,i,i.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new nl(o)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?pi(t,e,a?a.children:null,o,r):pi(t,e,n,o,r),u&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new zo(a.outlet.component,s))}else s&&gi(e,a,r),r.canActivateChecks.push(new nl(o)),i.component?pi(t,null,a?a.children:null,o,r):pi(t,null,n,o,r);return r}function l0(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zn(t.url,e.url)||!Lt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ff(t,e)||!Lt(t.queryParams,e.queryParams);case"paramsChange":default:return!ff(t,e)}}function gi(t,e,n){let o=Go(t),r=t.value;Object.entries(o).forEach(([i,s])=>{r.component?e?gi(s,e.children.getContext(i),n):gi(s,null,n):gi(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new zo(e.outlet.component,r)):n.canDeactivateChecks.push(new zo(null,r)):n.canDeactivateChecks.push(new zo(null,r))}function Mi(t){return typeof t=="function"}function u0(t){return typeof t=="boolean"}function c0(t){return t&&Mi(t.canLoad)}function d0(t){return t&&Mi(t.canActivate)}function f0(t){return t&&Mi(t.canActivateChild)}function p0(t){return t&&Mi(t.canDeactivate)}function h0(t){return t&&Mi(t.canMatch)}function Sv(t){return t instanceof _n||t?.name==="EmptyError"}var La=Symbol("INITIAL_VALUE");function Yo(){return Mt(t=>Iu(t.map(e=>e.pipe(Ut(1),Su(La)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===La)return La;if(n===!1||m0(n))return n}return!0}),st(e=>e!==La),Ut(1)))}function m0(t){return yn(t)||t instanceof Jo}function _v(t){return t.aborted?q(void 0).pipe(Ut(1)):new Y(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function wv(t){return Tr(_v(t))}function g0(t,e){return we(n=>{let{targetSnapshot:o,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?q(ne(M({},n),{guardsResult:!0})):y0(s,o,r,t).pipe(we(a=>a&&u0(a)?v0(o,i,t,e):q(a)),oe(a=>ne(M({},n),{guardsResult:a})))})}function y0(t,e,n,o){return ce(t).pipe(we(r=>S0(r.component,r.route,n,e,o)),Vt(r=>r!==!0,!0))}function v0(t,e,n,o){return ce(e).pipe(Cr(r=>ho(I0(r.route.parent,o),E0(r.route,o),T0(t,r.path,n),C0(t,r.route,n))),Vt(r=>r!==!0,!0))}function E0(t,e){return t!==null&&e&&e(new Ka(t)),q(!0)}function I0(t,e){return t!==null&&e&&e(new Ja(t)),q(!0)}function C0(t,e,n){let o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||o.length===0)return q(!0);let r=o.map(i=>Ir(()=>{let s=Ko(e)??n,a=Zo(i,s),u=d0(a)?a.canActivate(e,t):ke(s,()=>a(e,t));return no(u).pipe(Vt())}));return q(r).pipe(Yo())}function T0(t,e,n){let o=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>s0(s)).filter(s=>s!==null).map(s=>Ir(()=>{let a=s.guards.map(u=>{let d=Ko(s.node)??n,f=Zo(u,d),p=f0(f)?f.canActivateChild(o,t):ke(d,()=>f(o,t));return no(p).pipe(Vt())});return q(a).pipe(Yo())}));return q(i).pipe(Yo())}function S0(t,e,n,o,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return q(!0);let s=i.map(a=>{let u=Ko(e)??r,d=Zo(a,u),f=p0(d)?d.canDeactivate(t,e,n,o):ke(u,()=>d(t,e,n,o));return no(f).pipe(Vt())});return q(s).pipe(Yo())}function _0(t,e,n,o,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(a=>{let u=Zo(a,t),d=c0(u)?u.canLoad(e,n):ke(t,()=>u(e,n)),f=no(d);return r?f.pipe(wv(r)):f});return q(s).pipe(Yo(),Dv(o))}function Dv(t){return gu(Pe(e=>{if(typeof e!="boolean")throw tl(t,e)}),oe(e=>e===!0))}function w0(t,e,n,o,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(a=>{let u=Zo(a,t),d=h0(u)?u.canMatch(e,n):ke(t,()=>u(e,n)),f=no(d);return r?f.pipe(wv(r)):f});return q(s).pipe(Yo(),Dv(o))}var Qn=class Mv extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,Mv.prototype)}},mf=class xv extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,xv.prototype)}};function D0(t){throw new x(4e3,!1)}function M0(t){throw Cv(!1,Fe.GuardRejected)}var x0=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let o=[],r=n.root;for(;;){if(o=o.concat(r.segments),r.numberOfChildren===0)return o;if(r.numberOfChildren>1||!r.children[F])throw D0(`${e.redirectTo}`);r=r.children[F]}}async applyRedirectCommands(e,n,o,r,i){let s=await A0(n,r,i);if(s instanceof It)throw new mf(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,o);if(s[0]==="/")throw new mf(a);return a}applyRedirectCreateUrlTree(e,n,o,r){let i=this.createSegmentGroup(e,n.root,o,r);return new It(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let o={};return Object.entries(e).forEach(([r,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);o[r]=n[a]}else o[r]=i}),o}createSegmentGroup(e,n,o,r){let i=this.createSegments(e,n.segments,o,r),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,o,r)}),new Q(i,s)}createSegments(e,n,o,r){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,r):this.findOrReturn(i,o))}findPosParam(e,n,o){let r=o[n.path.substring(1)];if(!r)throw new x(4001,!1);return r}findOrReturn(e,n){let o=0;for(let r of n){if(r.path===e.path)return n.splice(o),r;o++}return e}};function A0(t,e,n){if(typeof t=="string")return Promise.resolve(t);let o=t,{queryParams:r,fragment:i,routeConfig:s,url:a,outlet:u,params:d,data:f,title:p}=e;return Va(no(ke(n,()=>o({params:d,data:f,queryParams:r,fragment:i,routeConfig:s,url:a,outlet:u,title:p}))))}var gf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b0(t,e,n,o,r,i){let s=Av(t,e,n);return s.matched?(o=Qw(e,o),w0(o,e,n,r,i).pipe(oe(a=>a===!0?s:M({},gf)))):q(s)}function Av(t,e,n){if(e.path==="**")return N0(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?M({},gf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Xy)(n,t,e);if(!r)return M({},gf);let i={};Object.entries(r.posParams??{}).forEach(([a,u])=>{i[a]=u.path});let s=r.consumed.length>0?M(M({},i),r.consumed[r.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function N0(t){return{matched:!0,parameters:t.length>0?tv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ky(t,e,n,o){return n.length>0&&k0(t,n,o)?{segmentGroup:new Q(e,P0(o,new Q(n,t.children))),slicedSegments:[]}:n.length===0&&L0(t,n,o)?{segmentGroup:new Q(t.segments,R0(t,n,o,t.children)),slicedSegments:n}:{segmentGroup:new Q(t.segments,t.children),slicedSegments:n}}function R0(t,e,n,o){let r={};for(let i of n)if(il(t,e,i)&&!o[Et(i)]){let s=new Q([],{});r[Et(i)]=s}return M(M({},o),r)}function P0(t,e){let n={};n[F]=e;for(let o of t)if(o.path===""&&Et(o)!==F){let r=new Q([],{});n[Et(o)]=r}return n}function k0(t,e,n){return n.some(o=>il(t,e,o)&&Et(o)!==F)}function L0(t,e,n){return n.some(o=>il(t,e,o))}function il(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function O0(t,e,n){return e.length===0&&!t.children[n]}var F0=class{};async function U0(t,e,n,o,r,i,s="emptyOnly",a){return new H0(t,e,n,o,r,s,i,a).recognize()}var V0=31,H0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,o,r,i,s,a,u){this.injector=e,this.configLoader=n,this.rootComponentType=o,this.config=r,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new x0(this.urlSerializer,this.urlTree)}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}async recognize(){let e=Ky(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:o}=await this.match(e),r=new Qe(o,n),i=new Ti("",r),s=dv(o,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}async match(e){let n=new Xn([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),F,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,F,n),rootSnapshot:n}}catch(o){if(o instanceof mf)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Qn?this.noMatchError(o):o}}async processSegmentGroup(e,n,o,r,i){if(o.segments.length===0&&o.hasChildren())return this.processChildren(e,n,o,i);let s=await this.processSegment(e,n,o,o.segments,r,!0,i);return s instanceof Qe?[s]:[]}async processChildren(e,n,o,r){let i=[];for(let u of Object.keys(o.children))u==="primary"?i.unshift(u):i.push(u);let s=[];for(let u of i){let d=o.children[u],f=Zw(n,u),p=await this.processSegmentGroup(e,f,d,u,r);s.push(...p)}let a=bv(s);return $0(a),a}async processSegment(e,n,o,r,i,s,a){for(let u of n)try{return await this.processSegmentAgainstRoute(u._injector??e,n,u,o,r,i,s,a)}catch(d){if(d instanceof Qn||Sv(d))continue;throw d}if(O0(o,r,i))return new F0;throw new Qn(o)}async processSegmentAgainstRoute(e,n,o,r,i,s,a,u){if(Et(o)!==s&&(s===F||!il(r,i,o)))throw new Qn(r);if(o.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,r,o,i,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,r,n,o,i,s,u);throw new Qn(r)}async expandSegmentAgainstRouteUsingRedirect(e,n,o,r,i,s,a){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:h}=Av(n,r,i);if(!u)throw new Qn(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V0&&(this.allowRedirects=!1));let m=new Xn(i,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Qy(r),Et(r),r.component??r._loadedComponent??null,r,Zy(r)),E=el(m,a,this.paramsInheritanceStrategy);if(m.params=Object.freeze(E.params),m.data=Object.freeze(E.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let I=await this.applyRedirects.applyRedirectCommands(f,r.redirectTo,p,m,e),T=await this.applyRedirects.lineralizeSegments(r,I);return this.processSegment(e,o,n,T.concat(h),s,!1,a)}async matchSegmentAgainstRoute(e,n,o,r,i,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Va(b0(n,o,r,e,this.urlSerializer,this.abortSignal));if(o.path==="**"&&(n.children={}),!a?.matched)throw new Qn(n);e=o._injector??e;let{routes:u}=await this.getChildConfig(e,o,r),d=o._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:h}=a,m=new Xn(p,f,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Qy(o),Et(o),o.component??o._loadedComponent??null,o,Zy(o)),E=el(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(E.params),m.data=Object.freeze(E.data);let{segmentGroup:I,slicedSegments:T}=Ky(n,p,h,u);if(T.length===0&&I.hasChildren()){let _=await this.processChildren(d,u,I,m);return new Qe(m,_)}if(u.length===0&&T.length===0)return new Qe(m,[]);let C=Et(o)===i,D=await this.processSegment(d,u,I,T,C?F:i,!0,m);return new Qe(m,D instanceof Qe?[D]:[])}async getChildConfig(e,n,o){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Va(_0(e,n,o,this.urlSerializer,this.abortSignal))){let i=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=i.routes,n._loadedInjector=i.injector,i}throw M0(n)}return{routes:[],injector:e}}};function $0(t){t.sort((e,n)=>e.value.outlet===F?-1:n.value.outlet===F?1:e.value.outlet.localeCompare(n.value.outlet))}function B0(t){let e=t.value.routeConfig;return e&&e.path===""}function bv(t){let e=[],n=new Set;for(let o of t){if(!B0(o)){e.push(o);continue}let r=e.find(i=>o.value.routeConfig===i.value.routeConfig);r!==void 0?(r.children.push(...o.children),n.add(r)):e.push(o)}for(let o of n){let r=bv(o.children);e.push(new Qe(o.value,r))}return e.filter(o=>!n.has(o))}function Qy(t){return t.data||{}}function Zy(t){return t.resolve||{}}var G0=new k("",{factory:()=>U0});function q0(t,e,n,o,r,i,s){let a=t.get(G0);return we(u=>q(u).pipe(Mt(d=>a(t,e,n,o,d.extractedUrl,r,i,s)),oe(({state:d,tree:f})=>ne(M({},u),{targetSnapshot:d,urlAfterRedirects:f}))))}function z0(t,e){return we(n=>{let{targetSnapshot:o,guards:{canActivateChecks:r}}=n;if(!r.length)return q(n);let i=new Set(r.map(u=>u.route)),s=new Set;for(let u of i)if(!s.has(u))for(let d of Nv(u))s.add(d);let a=0;return ce(s).pipe(Cr(u=>i.has(u)?W0(u,o,t,e):(u.data=el(u,u.parent,t).resolve,q(void 0))),Pe(()=>a++),rs(1),we(u=>a===s.size?q(n):Ve))})}function Nv(t){let e=t.children.map(n=>Nv(n)).flat();return[t,...e]}function W0(t,e,n,o){let r=t.routeConfig,i=t._resolve;return r?.title!==void 0&&!vv(r)&&(i[_i]=r.title),Ir(()=>(t.data=el(t,t.parent,n).resolve,j0(i,t,e,o).pipe(oe(s=>(t._resolvedData=s,t.data=M(M({},t.data),s),null)))))}function j0(t,e,n,o){let r=sf(t);if(r.length===0)return q({});let i={};return ce(r).pipe(we(s=>J0(t[s],e,n,o).pipe(Vt(),Pe(a=>{if(a instanceof Jo)throw tl(new gn,a);i[s]=a}))),rs(1),oe(()=>i),mo(s=>Sv(s)?Ve:Eu(s)))}function J0(t,e,n,o){let r=Ko(e)??o,i=Zo(t,r),s=i.resolve?i.resolve(e,n):ke(r,()=>i(e,n));return no(s)}function of(t){return Mt(e=>{let n=t(e);return n?ce(n).pipe(oe(()=>e)):q(e)})}var If=(()=>{class t{buildTitle(n){let o,r=n.root;for(;r!==void 0;)o=this.getResolvedTitleForRoute(r)??o,r=r.children.find(i=>i.outlet===F);return o}getResolvedTitleForRoute(n){return n.data[_i]}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>S(Rv),providedIn:"root"})}return t})(),Rv=(()=>{class t extends If{title;constructor(n){super(),this.title=n}updateTitle(n){let o=this.buildTitle(n);o!==void 0&&this.title.setTitle(o)}static \u0275fac=function(o){return new(o||t)(H(qy))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xo=new k("",{factory:()=>({})}),xi=new k(""),Pv=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(Fd);async loadComponent(n,o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return Promise.resolve(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let r=(async()=>{try{let i=await nv(ke(n,()=>o.loadComponent())),s=await Ov(Lv(i));return this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=s,s}finally{this.componentLoaders.delete(o)}})();return this.componentLoaders.set(o,r),r}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Promise.resolve({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let r=(async()=>{try{let i=await kv(o,this.compiler,n,this.onLoadEndListener);return o._loadedRoutes=i.routes,o._loadedInjector=i.injector,i}finally{this.childrenLoaders.delete(o)}})();return this.childrenLoaders.set(o,r),r}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function kv(t,e,n,o){let r=await nv(ke(n,()=>t.loadChildren())),i=await Ov(Lv(r)),s;i instanceof ya||Array.isArray(i)?s=i:s=await e.compileModuleAsync(i),o&&o(t);let a,u,d=!1;return Array.isArray(s)?(u=s,d=!0):(a=s.create(n).injector,u=a.get(xi,[],{optional:!0,self:!0}).flat()),{routes:u.map(Ef),injector:a}}function Y0(t){return t&&typeof t=="object"&&"default"in t}function Lv(t){return Y0(t)?t.default:t}async function Ov(t){return t}var sl=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>S(K0),providedIn:"root"})}return t})(),K0=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fv=new k("");var Q0=()=>{},Uv=new k(""),Vv=(()=>{class t{currentNavigation=xe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=xe(null);events=new pe;transitionAbortWithErrorSubject=new pe;configLoader=S(Pv);environmentInjector=S(me);destroyRef=S(an);urlSerializer=S(wi);rootContexts=S(Qo);location=S(Bo);inputBindingEnabled=S(rl,{optional:!0})!==null;titleStrategy=S(If);options=S(Xo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(sl);createViewTransition=S(Fv,{optional:!0});navigationErrorHandler=S(Uv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new Wa(r)),o=r=>this.events.next(new ja(r));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let o=++this.navigationId;pt(()=>{this.transitions?.next(ne(M({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:o}))})}setupNavigations(n){return this.transitions=new Ee(null),this.transitions.pipe(st(o=>o!==null),Mt(o=>{let r=!1,i=new AbortController;return q(o).pipe(Mt(s=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Fe.SupersededByNewNavigation),Ve;this.currentTransition=o;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?ne(M({},a),{previousNavigation:null}):null,abort:()=>i.abort()});let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload")return this.events.next(new Yt(s.id,this.urlSerializer.serialize(s.rawUrl),"",vi.IgnoredSameUrlNavigation)),s.resolve(!1),Ve;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return q(s).pipe(Mt(f=>(this.events.next(new to(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Ve:Promise.resolve(f))),q0(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),Pe(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=f.urlAfterRedirects,h));let p=new Ei(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:f,extractedUrl:p,source:h,restoredState:m,extras:E}=s,I=new to(f,this.urlSerializer.serialize(p),h,m);this.events.next(I);let T=gv(this.rootComponentType).snapshot;return this.currentTransition=o=ne(M({},s),{targetSnapshot:T,urlAfterRedirects:p,extras:ne(M({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(C=>(C.finalUrl=p,C)),q(o)}else return this.events.next(new Yt(s.id,this.urlSerializer.serialize(s.extractedUrl),"",vi.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ve}),Pe(s=>{let a=new Ba(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),oe(s=>(this.currentTransition=o=ne(M({},s),{guards:i0(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),o)),g0(this.environmentInjector,s=>this.events.next(s)),Pe(s=>{if(o.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw tl(this.urlSerializer,s.guardsResult);let a=new Ga(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),st(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Fe.GuardRejected),!1)),of(s=>{if(s.guards.canActivateChecks.length!==0)return q(s).pipe(Pe(a=>{let u=new qa(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Mt(a=>{let u=!1;return q(a).pipe(z0(this.paramsInheritanceStrategy,this.environmentInjector),Pe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Fe.NoDataFromResolver)}}))}),Pe(a=>{let u=new za(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),of(s=>{let a=d=>{let f=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let p=Ko(d)??this.environmentInjector;f.push(this.configLoader.loadComponent(p,d.routeConfig).then(h=>{d.component=h}))}for(let p of d.children)f.push(...a(p));return f},u=a(s.targetSnapshot.root);return u.length===0?q(s):ce(Promise.all(u).then(()=>s))}),of(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:s,targetSnapshot:a}=o,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?ce(u).pipe(oe(()=>o)):q(o)}),oe(s=>{let a=e0(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=o=ne(M({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),o}),Pe(()=>{this.events.next(new Ii)}),r0(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ut(1),Tr(_v(i.signal).pipe(st(()=>!r&&!o.targetRouterState),Pe(()=>{this.cancelNavigationTransition(o,i.signal.reason+"",Fe.Aborted)}))),Pe({next:s=>{r=!0,this.currentNavigation.update(a=>(a.abort=Q0,a)),this.lastSuccessfulNavigation.set(pt(this.currentNavigation)),this.events.next(new Ct(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Tr(this.transitionAbortWithErrorSubject.pipe(Pe(s=>{throw s}))),Tu(()=>{i.abort(),r||this.cancelNavigationTransition(o,"",Fe.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),mo(s=>{if(this.destroyed)return o.resolve(!1),Ve;if(r=!0,Tv(s))this.events.next(new Ot(o.id,this.urlSerializer.serialize(o.extractedUrl),s.message,s.cancellationCode)),o0(s)?this.events.next(new jo(s.url,s.navigationBehaviorOptions)):o.resolve(!1);else{let a=new Wo(o.id,this.urlSerializer.serialize(o.extractedUrl),s,o.targetSnapshot??void 0);try{let u=ke(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Jo){let{message:d,cancellationCode:f}=tl(this.urlSerializer,u);this.events.next(new Ot(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new jo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ve}))}))}cancelNavigationTransition(n,o,r){let i=new Ot(n.id,this.urlSerializer.serialize(n.extractedUrl),o,r);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=pt(this.currentNavigation),r=o?.targetBrowserUrl??o?.extractedUrl;return n.toString()!==r?.toString()&&!o?.extras.skipLocationChange}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Z0(t){return t!==mi}var Hv=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>S(X0),providedIn:"root"})}return t})(),ol=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},X0=(()=>{class t extends ol{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Kr(t)))(r||t)}})();static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cf=(()=>{class t{urlSerializer=S(wi);options=S(Xo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(Bo);urlHandlingStrategy=S(sl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new It;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:o,targetBrowserUrl:r}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,o):o,s=r??i;return s instanceof It?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:o,initialUrl:r}){o&&n?(this.currentUrlTree=o,this.rawUrlTree=this.urlHandlingStrategy.merge(o,r),this.routerState=n):this.rawUrlTree=r}routerState=gv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:()=>S($v),providedIn:"root"})}return t})(),$v=(()=>{class t extends Cf{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{o.type==="popstate"&&setTimeout(()=>{n(o.url,o.state,"popstate")})})}handleRouterEvent(n,o){n instanceof to?this.updateStateMemento():n instanceof Yt?this.commitTransition(o):n instanceof Ei?this.urlUpdateStrategy==="eager"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(o),o)):n instanceof Ii?(this.commitTransition(o),this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(o),o)):n instanceof Ot&&n.code!==Fe.SupersededByNewNavigation&&n.code!==Fe.Redirect?this.restoreHistory(o):n instanceof Wo?this.restoreHistory(o,!0):n instanceof Ct&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:o,id:r}){let{replaceUrl:i,state:s}=o;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,u=M(M({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",u)}else{let a=M(M({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,o=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,i=this.currentPageId-r;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Kr(t)))(r||t)}})();static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tf(t,e){t.events.pipe(st(n=>n instanceof Ct||n instanceof Ot||n instanceof Wo||n instanceof Yt),oe(n=>n instanceof Ct||n instanceof Yt?0:(n instanceof Ot?n.code===Fe.Redirect||n.code===Fe.SupersededByNewNavigation:!1)?2:1),st(n=>n!==2),Ut(1)).subscribe(()=>{e()})}var eD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},er=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(bd);stateManager=S(Cf);options=S(Xo,{optional:!0})||{};pendingTasks=S(ln);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(Vv);urlSerializer=S(wi);location=S(Bo);urlHandlingStrategy=S(sl);injector=S(me);_events=new pe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(Hv);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(xi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(rl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(o=>{try{let r=this.navigationTransitions.currentTransition,i=pt(this.navigationTransitions.currentNavigation);if(r!==null&&i!==null){if(this.stateManager.handleRouterEvent(o,i),o instanceof Ot&&o.code!==Fe.Redirect&&o.code!==Fe.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Ct)this.navigated=!0;else if(o instanceof jo){let s=o.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(o.url,r.currentRawUrl),u=M({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Z0(r.source)},s);this.scheduleNavigation(a,mi,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Kw(o)&&this._events.next(o)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o,r)=>{this.navigateToSyncWithBrowser(n,r,o)})}navigateToSyncWithBrowser(n,o,r){let i={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let u=M({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(i.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,o,s,i).catch(u=>{this.disposed||this.injector.get(Pt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return pt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ef),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){let{relativeTo:r,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=o,d=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=M(M({},this.currentUrlTree.queryParams),i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let h=r?r.snapshot:this.routerState.snapshot.root;p=fv(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return pv(p,n,f,d??null,this.urlSerializer)}navigateByUrl(n,o={skipLocationChange:!1}){let r=yn(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(i,mi,null,o)}navigate(n,o={skipLocationChange:!1}){return nD(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(An(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,o){let r;if(o===!0?r=M({},eD):o===!1?r=M({},tD):r=o,yn(n))return zy(this.currentUrlTree,n,r);let i=this.parseUrl(n);return zy(this.currentUrlTree,i,r)}removeEmptyProps(n){return Object.entries(n).reduce((o,[r,i])=>(i!=null&&(o[r]=i),o),{})}scheduleNavigation(n,o,r,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((p,h)=>{a=p,u=h});let f=this.pendingTasks.add();return Tf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(o){return new(o||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nD(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}var tr=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=xe(null);get href(){return pt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new pe;applicationErrorHandler=S(Pt);options=S(Xo,{optional:!0});constructor(n,o,r,i,s,a){this.router=n,this.route=o,this.tabIndexAttribute=r,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(S(new wa("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,o=r=>r==="merge"||r==="preserve";n||=o(this.queryParamsHandling),n||=!this.queryParamsHandling&&!o(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Ct&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(yn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,o,r,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||o||r||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,o){let r=this.renderer,i=this.el.nativeElement;o!==null?r.setAttribute(i,n,o):r.removeAttribute(i,n)}get urlTree(){return this.routerLinkInput===null?null:yn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(o){return new(o||t)(nt(er),nt(Kt),oa("tabindex"),nt(ga),nt(dn),nt($o))};static \u0275dir=Uo({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(o,r){o&1&&Ho("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),o&2&&Ea("href",r.reactiveHref(),hd)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ma],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ma],replaceUrl:[2,"replaceUrl","replaceUrl",Ma],routerLink:"routerLink"},features:[ko]})}return t})(),Sf=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new De;link=S(tr,{optional:!0});constructor(n,o,r,i){this.router=n,this.element=o,this.renderer=r,this.cdr=i,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof Ct&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(po()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=ce(n).pipe(po()).subscribe(o=>{this._isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(n){let o=Array.isArray(n)?n:n.split(" ");this.classes=o.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(o=>{n?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let o=rD(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let i=r.urlTree;return i?n.isActive(i,o):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(o){return new(o||t)(nt(er),nt(dn),nt(ga),nt(Da))};static \u0275dir=Uo({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(o,r,i){if(o&1&&Ia(i,tr,5),o&2){let s;kd(s=Ld())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ko]})}return t})();function rD(t){return!!t.paths}var iD=new k("");function _f(t,...e){return Co([{provide:xi,multi:!0,useValue:t},[],{provide:Kt,useFactory:sD},{provide:va,multi:!0,useFactory:aD},e.map(n=>n.\u0275providers)])}function sD(){return S(er).routerState.root}function aD(){let t=S(at);return e=>{let n=t.get(Vo);if(e!==n.components[0])return;let o=t.get(er),r=t.get(lD);t.get(uD)===1&&o.initialNavigation(),t.get(cD,null,{optional:!0})?.setUpPreloading(),t.get(iD,null,{optional:!0})?.init(),o.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var lD=new k("",{factory:()=>new pe}),uD=new k("",{factory:()=>1});var cD=new k("");var al=class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ce({type:t,selectors:[["app-header"]],decls:17,vars:0,consts:[[1,"bg-white","border-b","border-gray-200","px-6","py-4","flex","items-center","justify-between","shadow-sm","z-10","relative"],[1,"flex","items-center","gap-3"],["routerLink","/",1,"flex","items-center","gap-3","hover:opacity-80","transition-opacity"],[1,"bg-indigo-600","text-white","p-2","rounded-lg","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],[1,"text-xl","font-bold","text-gray-800","tracking-tight"],[1,"hidden","md:flex","items-center","gap-4"],[1,"flex","items-center","gap-4"],["routerLink","/help","routerLinkActive","text-indigo-600 font-semibold",1,"text-gray-700","hover:text-indigo-600","transition-colors","font-medium"],["routerLink","/changelog","routerLinkActive","text-indigo-600 font-semibold",1,"text-gray-700","hover:text-indigo-600","transition-colors","font-medium"],[1,"px-3","py-1","bg-green-100","text-green-700","rounded-full","text-xs","font-semibold","border","border-green-200"]],template:function(n,o){n&1&&(Ae(0,"header",0)(1,"div",1)(2,"a",2)(3,"div",3),Me(),Ae(4,"svg",4),yt(5,"path",5),Be()(),Ke(),Ae(6,"div")(7,"h1",6),g(8,"LaTeX to SVG"),Be()()()(),Ae(9,"div",7)(10,"nav",8)(11,"a",9),g(12," Help "),Be(),Ae(13,"a",10),g(14," Changelog "),Be()(),Ae(15,"span",11),g(16," v2.0 "),Be()()())},dependencies:[tr,Sf],encapsulation:2})}};var nr=class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ce({type:t,selectors:[["app-layout"]],decls:4,vars:0,consts:[[1,"min-h-screen","flex","flex-col"],[1,"flex-1"]],template:function(n,o){n&1&&(Ae(0,"div",0),yt(1,"app-header"),Ae(2,"main",1),yt(3,"router-outlet"),Be()())},dependencies:[Di,al],encapsulation:2})}};var dD,fD;function pD(){return{geminiUrl:dD,vertexUrl:fD}}function hD(t,e,n,o){var r,i;if(!t?.baseUrl){let s=pD();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}var _t=class{};function w(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(t,e,n){for(let i=0;i<e.length-1;i++){let s=e[i];if(s.endsWith("[]")){let a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){let u=t[a];if(Array.isArray(n))for(let d=0;d<u.length;d++){let f=u[d];c(f,e.slice(i+1),n[d])}else for(let d of u)c(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){let a=s.slice(0,-3);a in t||(t[a]=[{}]);let u=t[a];c(u[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function l(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;let r=e[o];if(r.endsWith("[]")){let i=r.slice(0,-2);if(i in t){let s=t[i];return Array.isArray(s)?s.map(a=>l(a,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function mD(t,e){for(let[n,o]of Object.entries(e)){let r=n.split("."),i=o.split("."),s=new Set,a=-1;for(let u=0;u<r.length;u++)if(r[u]==="*"){a=u;break}if(a!==-1&&i.length>a)for(let u=a;u<i.length;u++){let d=i[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Mf(t,r,i,0,s)}}function Mf(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;let i=e[o];if(i.endsWith("[]")){let s=i.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(let u of a[s])Mf(u,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,a=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),u={};for(let d of a)u[d]=s[d];for(let[d,f]of Object.entries(u)){let p=[];for(let h of n.slice(o))h==="*"?p.push(d):p.push(h);c(s,p,f)}for(let d of a)delete s[d]}}else{let s=t;i in s&&Mf(s[i],e,n,o+1,r)}}function wp(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function gD(t){let e={},n=l(t,["operationName"]);n!=null&&c(e,["operationName"],n);let o=l(t,["resourceName"]);return o!=null&&c(e,["_url","resourceName"],o),e}function yD(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata"]);o!=null&&c(e,["metadata"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],ED(s)),e}function vD(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata"]);o!=null&&c(e,["metadata"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["response"]);return s!=null&&c(e,["response"],ID(s)),e}function ED(t){let e={},n=l(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>CD(s))),c(e,["generatedVideos"],i)}let o=l(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);let r=l(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function ID(t){let e={},n=l(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>TD(s))),c(e,["generatedVideos"],i)}let o=l(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);let r=l(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function CD(t){let e={},n=l(t,["video"]);return n!=null&&c(e,["video"],xD(n)),e}function TD(t){let e={},n=l(t,["_self"]);return n!=null&&c(e,["video"],AD(n)),e}function SD(t){let e={},n=l(t,["operationName"]);return n!=null&&c(e,["_url","operationName"],n),e}function _D(t){let e={},n=l(t,["operationName"]);return n!=null&&c(e,["_url","operationName"],n),e}function wD(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata"]);o!=null&&c(e,["metadata"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["response"]);return s!=null&&c(e,["response"],DD(s)),e}function DD(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["parent"]);o!=null&&c(e,["parent"],o);let r=l(t,["documentName"]);return r!=null&&c(e,["documentName"],r),e}function pE(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata"]);o!=null&&c(e,["metadata"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["response"]);return s!=null&&c(e,["response"],MD(s)),e}function MD(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["parent"]);o!=null&&c(e,["parent"],o);let r=l(t,["documentName"]);return r!=null&&c(e,["documentName"],r),e}function xD(t){let e={},n=l(t,["uri"]);n!=null&&c(e,["uri"],n);let o=l(t,["encodedVideo"]);o!=null&&c(e,["videoBytes"],wp(o));let r=l(t,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function AD(t){let e={},n=l(t,["gcsUri"]);n!=null&&c(e,["uri"],n);let o=l(t,["bytesBase64Encoded"]);o!=null&&c(e,["videoBytes"],wp(o));let r=l(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}var io=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(io||{});var xf=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(xf||{});var hE=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(hE||{});var bi=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(bi||{});var Ri=class{constructor(e){let n={};for(let o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var ro=class{get text(){var e,n,o,r,i,s,a,u;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(let[m,E]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,s,a,u;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&u!==void 0?u:[]){for(let[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,s,a,u;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,i,s,a,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,s,a,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(u=(a=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},ml=class{},gl=class{},Af=class{},bf=class{},Nf=class{},Rf=class{},yl=class{},vl=class{},El=class{},Pf=class{};var Il=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,r,i=e;return n?r=vD(i):r=yD(i),Object.assign(o,r),o}},Cl=class{},Tl=class{},Sl=class{},_l=class{},kf=class{},Lf=class{},Of=class{};var Ff=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=wD(e);return Object.assign(o,i),o}},Uf=class{},Vf=class{},Hf=class{};var wl=class{};var $f=class{get text(){var e,n,o;let r="",i=!1,s=[];for(let a of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[u,d]of Object.entries(a))u!=="text"&&u!=="thought"&&d!==null&&s.push(u);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;i=!0,r+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="",i=[];for(let s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[a,u]of Object.entries(s))a!=="inlineData"&&u!==null&&i.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var Bf=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var Gf=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=pE(e);return Object.assign(o,i),o}};function J(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mE(t,e){let n=J(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function gE(t){return Array.isArray(t)?t.map(e=>Dl(e)):[Dl(t)]}function Dl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function yE(t){let e=Dl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vE(t){let e=Dl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Bv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function EE(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Bv(e)):[Bv(t)]}function qf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Gv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function qv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Re(t){if(t==null)throw new Error("ContentUnion is required");return qf(t)?t:{role:"user",parts:EE(t)}}function Dp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let o=Re(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){let n=Re(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Re(n)):[Re(e)]}function ot(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Gv(t)||qv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Re(t)]}let e=[],n=[],o=qf(t[0]);for(let r of t){let i=qf(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Gv(r)||qv(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:EE(n)}),e}function bD(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(io).includes(n[0].toUpperCase())?n[0].toUpperCase():io.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of n)e.anyOf.push({type:Object.values(io).includes(o.toUpperCase())?o.toUpperCase():io.TYPE_UNSPECIFIED})}}function rr(t){let e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&bD(t.type,e);for(let[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(io).includes(a.toUpperCase())?a.toUpperCase():io.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=rr(a);else if(o.includes(s)){let u=[];for(let d of a){if(d.type=="null"){e.nullable=!0;continue}u.push(rr(d))}e[s]=u}else if(r.includes(s)){let u={};for(let[d,f]of Object.entries(a))u[d]=rr(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=a}return e}function Mp(t){return rr(t)}function xp(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ap(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function lr(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=rr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=rr(e.response));return t}function ur(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function ND(t,e,n,o=1){let r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Zt(t,e){if(typeof e!="string")throw new Error("name must be a string");return ND(t,e,"cachedContents")}function IE(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function vn(t){return wp(t)}function RD(t){return t!=null&&typeof t=="object"&&"name"in t}function PD(t){return t!=null&&typeof t=="object"&&"video"in t}function kD(t){return t!=null&&typeof t=="object"&&"uri"in t}function CE(t){var e;let n;if(RD(t)&&(n=t.name),!(kD(t)&&(n=t.uri,n===void 0))&&!(PD(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function TE(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function SE(t){for(let e of["models","tunedModels","publisherModels"])if(LD(t,e))return t[e];return[]}function LD(t,e){return t!==null&&typeof t=="object"&&e in t}function OD(t,e={}){let n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function FD(t,e={}){let n=[],o=new Set;for(let r of t){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let s=OD(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function _E(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function UD(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function wE(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(let s of r){if(typeof s!="object"||s===null)continue;let u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function cr(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function DE(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function VD(t){let e={},n=l(t,["responsesFile"]);n!=null&&c(e,["fileName"],n);let o=l(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>EM(s))),c(e,["inlinedResponses"],i)}let r=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["inlinedEmbedContentResponses"],i)}return e}function HD(t){let e={},n=l(t,["predictionsFormat"]);n!=null&&c(e,["format"],n);let o=l(t,["gcsDestination","outputUriPrefix"]);o!=null&&c(e,["gcsUri"],o);let r=l(t,["bigqueryDestination","outputUri"]);return r!=null&&c(e,["bigqueryUri"],r),e}function $D(t){let e={},n=l(t,["format"]);n!=null&&c(e,["predictionsFormat"],n);let o=l(t,["gcsUri"]);o!=null&&c(e,["gcsDestination","outputUriPrefix"],o);let r=l(t,["bigqueryUri"]);if(r!=null&&c(e,["bigqueryDestination","outputUri"],r),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function pl(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata","displayName"]);o!=null&&c(e,["displayName"],o);let r=l(t,["metadata","state"]);r!=null&&c(e,["state"],DE(r));let i=l(t,["metadata","createTime"]);i!=null&&c(e,["createTime"],i);let s=l(t,["metadata","endTime"]);s!=null&&c(e,["endTime"],s);let a=l(t,["metadata","updateTime"]);a!=null&&c(e,["updateTime"],a);let u=l(t,["metadata","model"]);u!=null&&c(e,["model"],u);let d=l(t,["metadata","output"]);return d!=null&&c(e,["dest"],VD(wE(d))),e}function zf(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["displayName"]);o!=null&&c(e,["displayName"],o);let r=l(t,["state"]);r!=null&&c(e,["state"],DE(r));let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["createTime"]);s!=null&&c(e,["createTime"],s);let a=l(t,["startTime"]);a!=null&&c(e,["startTime"],a);let u=l(t,["endTime"]);u!=null&&c(e,["endTime"],u);let d=l(t,["updateTime"]);d!=null&&c(e,["updateTime"],d);let f=l(t,["model"]);f!=null&&c(e,["model"],f);let p=l(t,["inputConfig"]);p!=null&&c(e,["src"],BD(p));let h=l(t,["outputConfig"]);h!=null&&c(e,["dest"],HD(wE(h)));let m=l(t,["completionStats"]);return m!=null&&c(e,["completionStats"],m),e}function BD(t){let e={},n=l(t,["instancesFormat"]);n!=null&&c(e,["format"],n);let o=l(t,["gcsSource","uris"]);o!=null&&c(e,["gcsUri"],o);let r=l(t,["bigquerySource","inputUri"]);return r!=null&&c(e,["bigqueryUri"],r),e}function GD(t,e){let n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=l(e,["fileName"]);o!=null&&c(n,["fileName"],o);let r=l(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>vM(t,s))),c(n,["requests","requests"],i)}return n}function qD(t){let e={},n=l(t,["format"]);n!=null&&c(e,["instancesFormat"],n);let o=l(t,["gcsUri"]);o!=null&&c(e,["gcsSource","uris"],o);let r=l(t,["bigqueryUri"]);if(r!=null&&c(e,["bigquerySource","inputUri"],r),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function zD(t){let e={},n=l(t,["data"]);if(n!=null&&c(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function WD(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],cr(t,o)),n}function jD(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],cr(t,o)),n}function JD(t){let e={},n=l(t,["content"]);n!=null&&c(e,["content"],n);let o=l(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],YD(o));let r=l(t,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);let i=l(t,["finishReason"]);i!=null&&c(e,["finishReason"],i);let s=l(t,["avgLogprobs"]);s!=null&&c(e,["avgLogprobs"],s);let a=l(t,["groundingMetadata"]);a!=null&&c(e,["groundingMetadata"],a);let u=l(t,["index"]);u!=null&&c(e,["index"],u);let d=l(t,["logprobsResult"]);d!=null&&c(e,["logprobsResult"],d);let f=l(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),c(e,["safetyRatings"],h)}let p=l(t,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],p),e}function YD(t){let e={},n=l(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(e,["citations"],o)}return e}function ME(t){let e={},n=l(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>DM(i))),c(e,["parts"],r)}let o=l(t,["role"]);return o!=null&&c(e,["role"],o),e}function KD(t,e){let n={},o=l(t,["displayName"]);if(e!==void 0&&o!=null&&c(e,["batch","displayName"],o),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function QD(t,e){let n={},o=l(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);let r=l(t,["dest"]);return e!==void 0&&r!=null&&c(e,["outputConfig"],$D(UD(r))),n}function zv(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["src"]);r!=null&&c(n,["batch","inputConfig"],GD(t,_E(t,r)));let i=l(e,["config"]);return i!=null&&KD(i,n),n}function ZD(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["model"],J(t,o));let r=l(e,["src"]);r!=null&&c(n,["inputConfig"],qD(_E(t,r)));let i=l(e,["config"]);return i!=null&&QD(i,n),n}function XD(t,e){let n={},o=l(t,["displayName"]);return e!==void 0&&o!=null&&c(e,["batch","displayName"],o),n}function eM(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["src"]);r!=null&&c(n,["batch","inputConfig"],aM(t,r));let i=l(e,["config"]);return i!=null&&XD(i,n),n}function tM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],cr(t,o)),n}function nM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],cr(t,o)),n}function oM(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["name"]);o!=null&&c(e,["name"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);return i!=null&&c(e,["error"],i),e}function rM(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["name"]);o!=null&&c(e,["name"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);return i!=null&&c(e,["error"],i),e}function iM(t,e){let n={},o=l(e,["contents"]);if(o!=null){let i=Dp(t,o);Array.isArray(i)&&(i=i.map(s=>s)),c(n,["requests[]","request","content"],i)}let r=l(e,["config"]);return r!=null&&(c(n,["_self"],sM(r,n)),mD(n,{"requests[].*":"requests[].request.*"})),n}function sM(t,e){let n={},o=l(t,["taskType"]);e!==void 0&&o!=null&&c(e,["requests[]","taskType"],o);let r=l(t,["title"]);e!==void 0&&r!=null&&c(e,["requests[]","title"],r);let i=l(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&c(e,["requests[]","outputDimensionality"],i),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aM(t,e){let n={},o=l(e,["fileName"]);o!=null&&c(n,["file_name"],o);let r=l(e,["inlinedRequests"]);return r!=null&&c(n,["requests"],iM(t,r)),n}function lM(t){let e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function uM(t){let e={},n=l(t,["id"]);n!=null&&c(e,["id"],n);let o=l(t,["args"]);o!=null&&c(e,["args"],o);let r=l(t,["name"]);if(r!=null&&c(e,["name"],r),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cM(t){let e={},n=l(t,["mode"]);n!=null&&c(e,["mode"],n);let o=l(t,["allowedFunctionNames"]);if(o!=null&&c(e,["allowedFunctionNames"],o),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function dM(t,e,n){let o={},r=l(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],ME(Re(r)));let i=l(e,["temperature"]);i!=null&&c(o,["temperature"],i);let s=l(e,["topP"]);s!=null&&c(o,["topP"],s);let a=l(e,["topK"]);a!=null&&c(o,["topK"],a);let u=l(e,["candidateCount"]);u!=null&&c(o,["candidateCount"],u);let d=l(e,["maxOutputTokens"]);d!=null&&c(o,["maxOutputTokens"],d);let f=l(e,["stopSequences"]);f!=null&&c(o,["stopSequences"],f);let p=l(e,["responseLogprobs"]);p!=null&&c(o,["responseLogprobs"],p);let h=l(e,["logprobs"]);h!=null&&c(o,["logprobs"],h);let m=l(e,["presencePenalty"]);m!=null&&c(o,["presencePenalty"],m);let E=l(e,["frequencyPenalty"]);E!=null&&c(o,["frequencyPenalty"],E);let I=l(e,["seed"]);I!=null&&c(o,["seed"],I);let T=l(e,["responseMimeType"]);T!=null&&c(o,["responseMimeType"],T);let C=l(e,["responseSchema"]);C!=null&&c(o,["responseSchema"],Mp(C));let D=l(e,["responseJsonSchema"]);if(D!=null&&c(o,["responseJsonSchema"],D),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let _=l(e,["safetySettings"]);if(n!==void 0&&_!=null){let ie=_;Array.isArray(ie)&&(ie=ie.map(Dt=>MM(Dt))),c(n,["safetySettings"],ie)}let N=l(e,["tools"]);if(n!==void 0&&N!=null){let ie=ur(N);Array.isArray(ie)&&(ie=ie.map(Dt=>AM(lr(Dt)))),c(n,["tools"],ie)}let R=l(e,["toolConfig"]);if(n!==void 0&&R!=null&&c(n,["toolConfig"],xM(R)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let G=l(e,["cachedContent"]);n!==void 0&&G!=null&&c(n,["cachedContent"],Zt(t,G));let B=l(e,["responseModalities"]);B!=null&&c(o,["responseModalities"],B);let re=l(e,["mediaResolution"]);re!=null&&c(o,["mediaResolution"],re);let O=l(e,["speechConfig"]);if(O!=null&&c(o,["speechConfig"],xp(O)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let W=l(e,["thinkingConfig"]);W!=null&&c(o,["thinkingConfig"],W);let fe=l(e,["imageConfig"]);fe!=null&&c(o,["imageConfig"],yM(fe));let Xt=l(e,["enableEnhancedCivicAnswers"]);return Xt!=null&&c(o,["enableEnhancedCivicAnswers"],Xt),o}function fM(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>JD(d))),c(e,["candidates"],u)}let r=l(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);let i=l(t,["promptFeedback"]);i!=null&&c(e,["promptFeedback"],i);let s=l(t,["responseId"]);s!=null&&c(e,["responseId"],s);let a=l(t,["usageMetadata"]);return a!=null&&c(e,["usageMetadata"],a),e}function pM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],cr(t,o)),n}function hM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],cr(t,o)),n}function mM(t){let e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function gM(t){let e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],n),e}function yM(t){let e={},n=l(t,["aspectRatio"]);n!=null&&c(e,["aspectRatio"],n);let o=l(t,["imageSize"]);if(o!=null&&c(e,["imageSize"],o),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function vM(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["request","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let a=ot(r);Array.isArray(a)&&(a=a.map(u=>ME(u))),c(n,["request","contents"],a)}let i=l(e,["metadata"]);i!=null&&c(n,["metadata"],i);let s=l(e,["config"]);return s!=null&&c(n,["request","generationConfig"],dM(t,s,l(n,["request"],{}))),n}function EM(t){let e={},n=l(t,["response"]);n!=null&&c(e,["response"],fM(n));let o=l(t,["error"]);return o!=null&&c(e,["error"],o),e}function IM(t,e){let n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=l(t,["pageToken"]);if(e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function CM(t,e){let n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=l(t,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);let i=l(t,["filter"]);return e!==void 0&&i!=null&&c(e,["_query","filter"],i),n}function TM(t){let e={},n=l(t,["config"]);return n!=null&&IM(n,e),e}function SM(t){let e={},n=l(t,["config"]);return n!=null&&CM(n,e),e}function _M(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>pl(s))),c(e,["batchJobs"],i)}return e}function wM(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>zf(s))),c(e,["batchJobs"],i)}return e}function DM(t){let e={},n=l(t,["mediaResolution"]);n!=null&&c(e,["mediaResolution"],n);let o=l(t,["codeExecutionResult"]);o!=null&&c(e,["codeExecutionResult"],o);let r=l(t,["executableCode"]);r!=null&&c(e,["executableCode"],r);let i=l(t,["fileData"]);i!=null&&c(e,["fileData"],lM(i));let s=l(t,["functionCall"]);s!=null&&c(e,["functionCall"],uM(s));let a=l(t,["functionResponse"]);a!=null&&c(e,["functionResponse"],a);let u=l(t,["inlineData"]);u!=null&&c(e,["inlineData"],zD(u));let d=l(t,["text"]);d!=null&&c(e,["text"],d);let f=l(t,["thought"]);f!=null&&c(e,["thought"],f);let p=l(t,["thoughtSignature"]);p!=null&&c(e,["thoughtSignature"],p);let h=l(t,["videoMetadata"]);return h!=null&&c(e,["videoMetadata"],h),e}function MM(t){let e={},n=l(t,["category"]);if(n!=null&&c(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=l(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function xM(t){let e={},n=l(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],cM(n));let o=l(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],o),e}function AM(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=l(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=l(t,["computerUse"]);r!=null&&c(e,["computerUse"],r);let i=l(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);let s=l(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=l(t,["googleMaps"]);a!=null&&c(e,["googleMaps"],mM(a));let u=l(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],gM(u));let d=l(t,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}var En=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(En||{}),Qt=class{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var Wf=class extends _t{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qt(En.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=zv(this.apiClient,e),o=n._url,r=w("{model}:batchGenerateContent",o),a=n.batch.inputConfig.requests,u=a.requests,d=[];for(let f of u){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let m=p.request;m.systemInstruction=h,p.request=m}d.push(p)}return a.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=ZD(this.apiClient,e);return a=w("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>zf(f))}else{let d=zv(this.apiClient,e);return a=w("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>pl(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=eM(this.apiClient,e);return i=w("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>pl(u))}}async get(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=hM(this.apiClient,e);return a=w("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>zf(f))}else{let d=pM(this.apiClient,e);return a=w("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>pl(f))}}async cancel(e){var n,o,r,i;let s="",a={};if(this.apiClient.isVertexAI()){let u=jD(this.apiClient,e);s=w("batchPredictionJobs/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let u=WD(this.apiClient,e);s=w("batches/{name}:cancel",u._url),a=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=SM(e);return a=w("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=wM(f),h=new wl;return Object.assign(h,p),h})}else{let d=TM(e);return a=w("batches",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=_M(f),h=new wl;return Object.assign(h,p),h})}}async delete(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=nM(this.apiClient,e);return a=w("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>rM(f))}else{let d=tM(this.apiClient,e);return a=w("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>oM(f))}}};function bM(t){let e={},n=l(t,["data"]);if(n!=null&&c(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Wv(t){let e={},n=l(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XM(i))),c(e,["parts"],r)}let o=l(t,["role"]);return o!=null&&c(e,["role"],o),e}function NM(t,e){let n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);let r=l(t,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);let i=l(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);let s=l(t,["contents"]);if(e!==void 0&&s!=null){let f=ot(s);Array.isArray(f)&&(f=f.map(p=>Wv(p))),c(e,["contents"],f)}let a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&c(e,["systemInstruction"],Wv(Re(a)));let u=l(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>tx(p))),c(e,["tools"],f)}let d=l(t,["toolConfig"]);if(e!==void 0&&d!=null&&c(e,["toolConfig"],ex(d)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function RM(t,e){let n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);let r=l(t,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);let i=l(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);let s=l(t,["contents"]);if(e!==void 0&&s!=null){let p=ot(s);Array.isArray(p)&&(p=p.map(h=>h)),c(e,["contents"],p)}let a=l(t,["systemInstruction"]);e!==void 0&&a!=null&&c(e,["systemInstruction"],Re(a));let u=l(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>nx(h))),c(e,["tools"],p)}let d=l(t,["toolConfig"]);e!==void 0&&d!=null&&c(e,["toolConfig"],d);let f=l(t,["kmsKeyName"]);return e!==void 0&&f!=null&&c(e,["encryption_spec","kmsKeyName"],f),n}function PM(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["model"],mE(t,o));let r=l(e,["config"]);return r!=null&&NM(r,n),n}function kM(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["model"],mE(t,o));let r=l(e,["config"]);return r!=null&&RM(r,n),n}function LM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],Zt(t,o)),n}function OM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],Zt(t,o)),n}function FM(t){let e={},n=l(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function UM(t){let e={},n=l(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function VM(t){let e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function HM(t){let e={},n=l(t,["id"]);n!=null&&c(e,["id"],n);let o=l(t,["args"]);o!=null&&c(e,["args"],o);let r=l(t,["name"]);if(r!=null&&c(e,["name"],r),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $M(t){let e={},n=l(t,["mode"]);n!=null&&c(e,["mode"],n);let o=l(t,["allowedFunctionNames"]);if(o!=null&&c(e,["allowedFunctionNames"],o),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function BM(t){let e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=l(t,["description"]);n!=null&&c(e,["description"],n);let o=l(t,["name"]);o!=null&&c(e,["name"],o);let r=l(t,["parameters"]);r!=null&&c(e,["parameters"],r);let i=l(t,["parametersJsonSchema"]);i!=null&&c(e,["parametersJsonSchema"],i);let s=l(t,["response"]);s!=null&&c(e,["response"],s);let a=l(t,["responseJsonSchema"]);return a!=null&&c(e,["responseJsonSchema"],a),e}function GM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],Zt(t,o)),n}function qM(t,e){let n={},o=l(e,["name"]);return o!=null&&c(n,["_url","name"],Zt(t,o)),n}function zM(t){let e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function WM(t){let e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],n),e}function jM(t,e){let n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=l(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function JM(t,e){let n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=l(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function YM(t){let e={},n=l(t,["config"]);return n!=null&&jM(n,e),e}function KM(t){let e={},n=l(t,["config"]);return n!=null&&JM(n,e),e}function QM(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["cachedContents"],i)}return e}function ZM(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["cachedContents"],i)}return e}function XM(t){let e={},n=l(t,["mediaResolution"]);n!=null&&c(e,["mediaResolution"],n);let o=l(t,["codeExecutionResult"]);o!=null&&c(e,["codeExecutionResult"],o);let r=l(t,["executableCode"]);r!=null&&c(e,["executableCode"],r);let i=l(t,["fileData"]);i!=null&&c(e,["fileData"],VM(i));let s=l(t,["functionCall"]);s!=null&&c(e,["functionCall"],HM(s));let a=l(t,["functionResponse"]);a!=null&&c(e,["functionResponse"],a);let u=l(t,["inlineData"]);u!=null&&c(e,["inlineData"],bM(u));let d=l(t,["text"]);d!=null&&c(e,["text"],d);let f=l(t,["thought"]);f!=null&&c(e,["thought"],f);let p=l(t,["thoughtSignature"]);p!=null&&c(e,["thoughtSignature"],p);let h=l(t,["videoMetadata"]);return h!=null&&c(e,["videoMetadata"],h),e}function ex(t){let e={},n=l(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],$M(n));let o=l(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],o),e}function tx(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=l(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=l(t,["computerUse"]);r!=null&&c(e,["computerUse"],r);let i=l(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);let s=l(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=l(t,["googleMaps"]);a!=null&&c(e,["googleMaps"],zM(a));let u=l(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],WM(u));let d=l(t,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function nx(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>BM(h))),c(e,["functionDeclarations"],p)}let o=l(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);let r=l(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],r);let i=l(t,["computerUse"]);if(i!=null&&c(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=l(t,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);let a=l(t,["enterpriseWebSearch"]);a!=null&&c(e,["enterpriseWebSearch"],a);let u=l(t,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);let d=l(t,["googleSearch"]);d!=null&&c(e,["googleSearch"],d);let f=l(t,["urlContext"]);return f!=null&&c(e,["urlContext"],f),e}function ox(t,e){let n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);let r=l(t,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),n}function rx(t,e){let n={},o=l(t,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);let r=l(t,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),n}function ix(t,e){let n={},o=l(e,["name"]);o!=null&&c(n,["_url","name"],Zt(t,o));let r=l(e,["config"]);return r!=null&&ox(r,n),n}function sx(t,e){let n={},o=l(e,["name"]);o!=null&&c(n,["_url","name"],Zt(t,o));let r=l(e,["config"]);return r!=null&&rx(r,n),n}var jf=class extends _t{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qt(En.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=kM(this.apiClient,e);return a=w("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=PM(this.apiClient,e);return a=w("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=qM(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=GM(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=OM(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=UM(f),h=new Sl;return Object.assign(h,p),h})}else{let d=LM(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=FM(f),h=new Sl;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=sx(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=ix(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=KM(e);return a=w("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ZM(f),h=new _l;return Object.assign(h,p),h})}else{let d=YM(e);return a=w("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=QM(f),h=new _l;return Object.assign(h,p),h})}}};function Ml(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function jv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function Tt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(E){return Promise.resolve(E).then(m,p)}}function a(m,E){o[m]&&(r[m]=function(I){return new Promise(function(T,C){i.push([m,I,T,C])>1||u(m,I)})},E&&(r[m]=E(r[m])))}function u(m,E){try{d(o[m](E))}catch(I){h(i[0][3],I)}}function d(m){m.value instanceof L?Promise.resolve(m.value.v).then(f,p):h(i[0][2],m)}function f(m){u("next",m)}function p(m){u("throw",m)}function h(m,E){m(E),i.shift(),i.length&&u(i[0][0],i[0][1])}}function St(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jv=="function"?jv(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(a,u){s=t[i](s),r(a,u,s.done,s.value)})}}function r(i,s,a,u){Promise.resolve(u).then(function(d){i({value:d,done:a})},s)}}function ax(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:xE(n)}function xE(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function lx(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Jv(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{let r=[],i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!xE(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var Jf=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Yf(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Yf=class{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),lx(i)}async sendMessage(e){var n;await this.sendPromise;let o=Re(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,a;let u=await r,d=(s=(i=u.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(a=f.slice(p))!==null&&a!==void 0?a:[]);let m=d?[d]:[];this.recordHistory(o,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;let o=Re(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let n=e?Jv(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Tt(this,arguments,function*(){var r,i,s,a,u,d;let f=[];try{for(var p=!0,h=St(e),m;m=yield L(h.next()),r=m.done,!r;p=!0){a=m.value,p=!1;let E=a;if(ax(E)){let I=(d=(u=E.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content;I!==void 0&&f.push(I)}yield yield L(E)}}catch(E){i={error:E}}finally{try{!p&&!r&&(s=h.return)&&(yield L(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Jv(o)):this.history.push(e),this.history.push(...r)}};var xl=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function ux(t){let e={},n=l(t,["file"]);return n!=null&&c(e,["file"],n),e}function cx(t){let e={},n=l(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function dx(t){let e={},n=l(t,["name"]);return n!=null&&c(e,["_url","file"],CE(n)),e}function fx(t){let e={},n=l(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function px(t){let e={},n=l(t,["name"]);return n!=null&&c(e,["_url","file"],CE(n)),e}function hx(t,e){let n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=l(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function mx(t){let e={},n=l(t,["config"]);return n!=null&&hx(n,e),e}function gx(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["files"],i)}return e}var Kf=class extends _t{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qt(En.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=mx(e);return i=w("files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=gx(u),f=new Uf;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=ux(e);return i=w("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=cx(u),f=new Vf;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=px(e);return i=w("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=dx(e);return i=w("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=fx(u),f=new Hf;return Object.assign(f,d),f})}}};function hl(t){let e={},n=l(t,["data"]);if(n!=null&&c(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function yx(t){let e={},n=l(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Px(i))),c(e,["parts"],r)}let o=l(t,["role"]);return o!=null&&c(e,["role"],o),e}function vx(t){let e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Ex(t){let e={},n=l(t,["id"]);n!=null&&c(e,["id"],n);let o=l(t,["args"]);o!=null&&c(e,["args"],o);let r=l(t,["name"]);if(r!=null&&c(e,["name"],r),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ix(t){let e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=l(t,["description"]);n!=null&&c(e,["description"],n);let o=l(t,["name"]);o!=null&&c(e,["name"],o);let r=l(t,["parameters"]);r!=null&&c(e,["parameters"],r);let i=l(t,["parametersJsonSchema"]);i!=null&&c(e,["parametersJsonSchema"],i);let s=l(t,["response"]);s!=null&&c(e,["response"],s);let a=l(t,["responseJsonSchema"]);return a!=null&&c(e,["responseJsonSchema"],a),e}function Cx(t){let e={},n=l(t,["modelSelectionConfig"]);n!=null&&c(e,["modelConfig"],n);let o=l(t,["responseJsonSchema"]);o!=null&&c(e,["responseJsonSchema"],o);let r=l(t,["audioTimestamp"]);r!=null&&c(e,["audioTimestamp"],r);let i=l(t,["candidateCount"]);i!=null&&c(e,["candidateCount"],i);let s=l(t,["enableAffectiveDialog"]);s!=null&&c(e,["enableAffectiveDialog"],s);let a=l(t,["frequencyPenalty"]);a!=null&&c(e,["frequencyPenalty"],a);let u=l(t,["logprobs"]);u!=null&&c(e,["logprobs"],u);let d=l(t,["maxOutputTokens"]);d!=null&&c(e,["maxOutputTokens"],d);let f=l(t,["mediaResolution"]);f!=null&&c(e,["mediaResolution"],f);let p=l(t,["presencePenalty"]);p!=null&&c(e,["presencePenalty"],p);let h=l(t,["responseLogprobs"]);h!=null&&c(e,["responseLogprobs"],h);let m=l(t,["responseMimeType"]);m!=null&&c(e,["responseMimeType"],m);let E=l(t,["responseModalities"]);E!=null&&c(e,["responseModalities"],E);let I=l(t,["responseSchema"]);I!=null&&c(e,["responseSchema"],I);let T=l(t,["routingConfig"]);T!=null&&c(e,["routingConfig"],T);let C=l(t,["seed"]);C!=null&&c(e,["seed"],C);let D=l(t,["speechConfig"]);D!=null&&c(e,["speechConfig"],D);let _=l(t,["stopSequences"]);_!=null&&c(e,["stopSequences"],_);let N=l(t,["temperature"]);N!=null&&c(e,["temperature"],N);let R=l(t,["thinkingConfig"]);R!=null&&c(e,["thinkingConfig"],R);let G=l(t,["topK"]);G!=null&&c(e,["topK"],G);let B=l(t,["topP"]);if(B!=null&&c(e,["topP"],B),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Tx(t){let e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function Sx(t){let e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],n),e}function _x(t,e){let n={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);let r=l(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);let i=l(t,["temperature"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig","temperature"],i);let s=l(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);let a=l(t,["topK"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","topK"],a);let u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);let d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);let f=l(t,["seed"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","seed"],f);let p=l(t,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],Ap(p));let h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","thinkingConfig"],h);let m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],m);let E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&c(e,["setup","systemInstruction"],yx(Re(E)));let I=l(t,["tools"]);if(e!==void 0&&I!=null){let G=ur(I);Array.isArray(G)&&(G=G.map(B=>Lx(lr(B)))),c(e,["setup","tools"],G)}let T=l(t,["sessionResumption"]);e!==void 0&&T!=null&&c(e,["setup","sessionResumption"],kx(T));let C=l(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&c(e,["setup","inputAudioTranscription"],C);let D=l(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&c(e,["setup","outputAudioTranscription"],D);let _=l(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&c(e,["setup","realtimeInputConfig"],_);let N=l(t,["contextWindowCompression"]);e!==void 0&&N!=null&&c(e,["setup","contextWindowCompression"],N);let R=l(t,["proactivity"]);if(e!==void 0&&R!=null&&c(e,["setup","proactivity"],R),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function wx(t,e){let n={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],Cx(o));let r=l(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);let i=l(t,["temperature"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig","temperature"],i);let s=l(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);let a=l(t,["topK"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","topK"],a);let u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);let d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);let f=l(t,["seed"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","seed"],f);let p=l(t,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],Ap(p));let h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","thinkingConfig"],h);let m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],m);let E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&c(e,["setup","systemInstruction"],Re(E));let I=l(t,["tools"]);if(e!==void 0&&I!=null){let B=ur(I);Array.isArray(B)&&(B=B.map(re=>Ox(lr(re)))),c(e,["setup","tools"],B)}let T=l(t,["sessionResumption"]);e!==void 0&&T!=null&&c(e,["setup","sessionResumption"],T);let C=l(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&c(e,["setup","inputAudioTranscription"],C);let D=l(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&c(e,["setup","outputAudioTranscription"],D);let _=l(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&c(e,["setup","realtimeInputConfig"],_);let N=l(t,["contextWindowCompression"]);e!==void 0&&N!=null&&c(e,["setup","contextWindowCompression"],N);let R=l(t,["proactivity"]);e!==void 0&&R!=null&&c(e,["setup","proactivity"],R);let G=l(t,["explicitVadSignal"]);return e!==void 0&&G!=null&&c(e,["setup","explicitVadSignal"],G),n}function Dx(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["setup","model"],J(t,o));let r=l(e,["config"]);return r!=null&&c(n,["config"],_x(r,n)),n}function Mx(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["setup","model"],J(t,o));let r=l(e,["config"]);return r!=null&&c(n,["config"],wx(r,n)),n}function xx(t){let e={},n=l(t,["musicGenerationConfig"]);return n!=null&&c(e,["musicGenerationConfig"],n),e}function Ax(t){let e={},n=l(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(e,["weightedPrompts"],o)}return e}function bx(t){let e={},n=l(t,["media"]);if(n!=null){let d=gE(n);Array.isArray(d)&&(d=d.map(f=>hl(f))),c(e,["mediaChunks"],d)}let o=l(t,["audio"]);o!=null&&c(e,["audio"],hl(vE(o)));let r=l(t,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);let i=l(t,["video"]);i!=null&&c(e,["video"],hl(yE(i)));let s=l(t,["text"]);s!=null&&c(e,["text"],s);let a=l(t,["activityStart"]);a!=null&&c(e,["activityStart"],a);let u=l(t,["activityEnd"]);return u!=null&&c(e,["activityEnd"],u),e}function Nx(t){let e={},n=l(t,["media"]);if(n!=null){let d=gE(n);Array.isArray(d)&&(d=d.map(f=>f)),c(e,["mediaChunks"],d)}let o=l(t,["audio"]);o!=null&&c(e,["audio"],vE(o));let r=l(t,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);let i=l(t,["video"]);i!=null&&c(e,["video"],yE(i));let s=l(t,["text"]);s!=null&&c(e,["text"],s);let a=l(t,["activityStart"]);a!=null&&c(e,["activityStart"],a);let u=l(t,["activityEnd"]);return u!=null&&c(e,["activityEnd"],u),e}function Rx(t){let e={},n=l(t,["setupComplete"]);n!=null&&c(e,["setupComplete"],n);let o=l(t,["serverContent"]);o!=null&&c(e,["serverContent"],o);let r=l(t,["toolCall"]);r!=null&&c(e,["toolCall"],r);let i=l(t,["toolCallCancellation"]);i!=null&&c(e,["toolCallCancellation"],i);let s=l(t,["usageMetadata"]);s!=null&&c(e,["usageMetadata"],Fx(s));let a=l(t,["goAway"]);a!=null&&c(e,["goAway"],a);let u=l(t,["sessionResumptionUpdate"]);u!=null&&c(e,["sessionResumptionUpdate"],u);let d=l(t,["voiceActivityDetectionSignal"]);return d!=null&&c(e,["voiceActivityDetectionSignal"],d),e}function Px(t){let e={},n=l(t,["mediaResolution"]);n!=null&&c(e,["mediaResolution"],n);let o=l(t,["codeExecutionResult"]);o!=null&&c(e,["codeExecutionResult"],o);let r=l(t,["executableCode"]);r!=null&&c(e,["executableCode"],r);let i=l(t,["fileData"]);i!=null&&c(e,["fileData"],vx(i));let s=l(t,["functionCall"]);s!=null&&c(e,["functionCall"],Ex(s));let a=l(t,["functionResponse"]);a!=null&&c(e,["functionResponse"],a);let u=l(t,["inlineData"]);u!=null&&c(e,["inlineData"],hl(u));let d=l(t,["text"]);d!=null&&c(e,["text"],d);let f=l(t,["thought"]);f!=null&&c(e,["thought"],f);let p=l(t,["thoughtSignature"]);p!=null&&c(e,["thoughtSignature"],p);let h=l(t,["videoMetadata"]);return h!=null&&c(e,["videoMetadata"],h),e}function kx(t){let e={},n=l(t,["handle"]);if(n!=null&&c(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Lx(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=l(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=l(t,["computerUse"]);r!=null&&c(e,["computerUse"],r);let i=l(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);let s=l(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=l(t,["googleMaps"]);a!=null&&c(e,["googleMaps"],Tx(a));let u=l(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],Sx(u));let d=l(t,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function Ox(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Ix(h))),c(e,["functionDeclarations"],p)}let o=l(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);let r=l(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],r);let i=l(t,["computerUse"]);if(i!=null&&c(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=l(t,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);let a=l(t,["enterpriseWebSearch"]);a!=null&&c(e,["enterpriseWebSearch"],a);let u=l(t,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);let d=l(t,["googleSearch"]);d!=null&&c(e,["googleSearch"],d);let f=l(t,["urlContext"]);return f!=null&&c(e,["urlContext"],f),e}function Fx(t){let e={},n=l(t,["promptTokenCount"]);n!=null&&c(e,["promptTokenCount"],n);let o=l(t,["cachedContentTokenCount"]);o!=null&&c(e,["cachedContentTokenCount"],o);let r=l(t,["candidatesTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);let i=l(t,["toolUsePromptTokenCount"]);i!=null&&c(e,["toolUsePromptTokenCount"],i);let s=l(t,["thoughtsTokenCount"]);s!=null&&c(e,["thoughtsTokenCount"],s);let a=l(t,["totalTokenCount"]);a!=null&&c(e,["totalTokenCount"],a);let u=l(t,["promptTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(E=>E)),c(e,["promptTokensDetails"],m)}let d=l(t,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(E=>E)),c(e,["cacheTokensDetails"],m)}let f=l(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(E=>E)),c(e,["responseTokensDetails"],m)}let p=l(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(E=>E)),c(e,["toolUsePromptTokensDetails"],m)}let h=l(t,["trafficType"]);return h!=null&&c(e,["trafficType"],h),e}function Ux(t){let e={},n=l(t,["data"]);if(n!=null&&c(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Vx(t){let e={},n=l(t,["content"]);n!=null&&c(e,["content"],n);let o=l(t,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],Hx(o));let r=l(t,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);let i=l(t,["finishReason"]);i!=null&&c(e,["finishReason"],i);let s=l(t,["avgLogprobs"]);s!=null&&c(e,["avgLogprobs"],s);let a=l(t,["groundingMetadata"]);a!=null&&c(e,["groundingMetadata"],a);let u=l(t,["index"]);u!=null&&c(e,["index"],u);let d=l(t,["logprobsResult"]);d!=null&&c(e,["logprobsResult"],d);let f=l(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),c(e,["safetyRatings"],h)}let p=l(t,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],p),e}function Hx(t){let e={},n=l(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),c(e,["citations"],o)}return e}function $x(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let i=ot(r);Array.isArray(i)&&(i=i.map(s=>s)),c(n,["contents"],i)}return n}function Bx(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),c(e,["tokensInfo"],r)}return e}function Gx(t){let e={},n=l(t,["values"]);n!=null&&c(e,["values"],n);let o=l(t,["statistics"]);return o!=null&&c(e,["statistics"],qx(o)),e}function qx(t){let e={},n=l(t,["truncated"]);n!=null&&c(e,["truncated"],n);let o=l(t,["token_count"]);return o!=null&&c(e,["tokenCount"],o),e}function Gl(t){let e={},n=l(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XA(i))),c(e,["parts"],r)}let o=l(t,["role"]);return o!=null&&c(e,["role"],o),e}function zx(t){let e={},n=l(t,["controlType"]);n!=null&&c(e,["controlType"],n);let o=l(t,["enableControlImageComputation"]);return o!=null&&c(e,["computeControl"],o),e}function Wx(t){let e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jx(t,e){let n={},o=l(t,["systemInstruction"]);e!==void 0&&o!=null&&c(e,["systemInstruction"],Re(o));let r=l(t,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>RE(a))),c(e,["tools"],s)}let i=l(t,["generationConfig"]);return e!==void 0&&i!=null&&c(e,["generationConfig"],UA(i)),n}function Jx(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let s=ot(r);Array.isArray(s)&&(s=s.map(a=>Gl(a))),c(n,["contents"],s)}let i=l(e,["config"]);return i!=null&&Wx(i),n}function Yx(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let s=ot(r);Array.isArray(s)&&(s=s.map(a=>a)),c(n,["contents"],s)}let i=l(e,["config"]);return i!=null&&jx(i,n),n}function Kx(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["totalTokens"]);o!=null&&c(e,["totalTokens"],o);let r=l(t,["cachedContentTokenCount"]);return r!=null&&c(e,["cachedContentTokenCount"],r),e}function Qx(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["totalTokens"]);return o!=null&&c(e,["totalTokens"],o),e}function Zx(t,e){let n={},o=l(e,["model"]);return o!=null&&c(n,["_url","name"],J(t,o)),n}function Xx(t,e){let n={},o=l(e,["model"]);return o!=null&&c(n,["_url","name"],J(t,o)),n}function eA(t){let e={},n=l(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function tA(t){let e={},n=l(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}function nA(t,e){let n={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);let r=l(t,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);let i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);let s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);let a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&c(e,["parameters","guidanceScale"],a);let u=l(t,["seed"]);e!==void 0&&u!=null&&c(e,["parameters","seed"],u);let d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);let f=l(t,["personGeneration"]);e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f);let p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&c(e,["parameters","includeSafetyAttributes"],p);let h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&c(e,["parameters","includeRaiReason"],h);let m=l(t,["language"]);e!==void 0&&m!=null&&c(e,["parameters","language"],m);let E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","mimeType"],E);let I=l(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&c(e,["parameters","outputOptions","compressionQuality"],I);let T=l(t,["addWatermark"]);e!==void 0&&T!=null&&c(e,["parameters","addWatermark"],T);let C=l(t,["labels"]);e!==void 0&&C!=null&&c(e,["labels"],C);let D=l(t,["editMode"]);e!==void 0&&D!=null&&c(e,["parameters","editMode"],D);let _=l(t,["baseSteps"]);return e!==void 0&&_!=null&&c(e,["parameters","editConfig","baseSteps"],_),n}function oA(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);let i=l(e,["referenceImages"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>ib(u))),c(n,["instances[0]","referenceImages"],a)}let s=l(e,["config"]);return s!=null&&nA(s,n),n}function rA(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ql(i))),c(e,["generatedImages"],r)}return e}function iA(t,e){let n={},o=l(t,["taskType"]);e!==void 0&&o!=null&&c(e,["requests[]","taskType"],o);let r=l(t,["title"]);e!==void 0&&r!=null&&c(e,["requests[]","title"],r);let i=l(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&c(e,["requests[]","outputDimensionality"],i),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sA(t,e){let n={},o=l(t,["taskType"]);e!==void 0&&o!=null&&c(e,["instances[]","task_type"],o);let r=l(t,["title"]);e!==void 0&&r!=null&&c(e,["instances[]","title"],r);let i=l(t,["outputDimensionality"]);e!==void 0&&i!=null&&c(e,["parameters","outputDimensionality"],i);let s=l(t,["mimeType"]);e!==void 0&&s!=null&&c(e,["instances[]","mimeType"],s);let a=l(t,["autoTruncate"]);return e!==void 0&&a!=null&&c(e,["parameters","autoTruncate"],a),n}function aA(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let a=Dp(t,r);Array.isArray(a)&&(a=a.map(u=>u)),c(n,["requests[]","content"],a)}let i=l(e,["config"]);i!=null&&iA(i,n);let s=l(e,["model"]);return s!==void 0&&c(n,["requests[]","model"],J(t,s)),n}function lA(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let s=Dp(t,r);Array.isArray(s)&&(s=s.map(a=>a)),c(n,["instances[]","content"],s)}let i=l(e,["config"]);return i!=null&&sA(i,n),n}function uA(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["embeddings"],i)}let r=l(t,["metadata"]);return r!=null&&c(e,["metadata"],r),e}function cA(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Gx(s))),c(e,["embeddings"],i)}let r=l(t,["metadata"]);return r!=null&&c(e,["metadata"],r),e}function dA(t){let e={},n=l(t,["endpoint"]);n!=null&&c(e,["name"],n);let o=l(t,["deployedModelId"]);return o!=null&&c(e,["deployedModelId"],o),e}function fA(t){let e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function pA(t){let e={},n=l(t,["id"]);n!=null&&c(e,["id"],n);let o=l(t,["args"]);o!=null&&c(e,["args"],o);let r=l(t,["name"]);if(r!=null&&c(e,["name"],r),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hA(t){let e={},n=l(t,["mode"]);n!=null&&c(e,["mode"],n);let o=l(t,["allowedFunctionNames"]);if(o!=null&&c(e,["allowedFunctionNames"],o),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mA(t){let e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=l(t,["description"]);n!=null&&c(e,["description"],n);let o=l(t,["name"]);o!=null&&c(e,["name"],o);let r=l(t,["parameters"]);r!=null&&c(e,["parameters"],r);let i=l(t,["parametersJsonSchema"]);i!=null&&c(e,["parametersJsonSchema"],i);let s=l(t,["response"]);s!=null&&c(e,["response"],s);let a=l(t,["responseJsonSchema"]);return a!=null&&c(e,["responseJsonSchema"],a),e}function gA(t,e,n){let o={},r=l(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Gl(Re(r)));let i=l(e,["temperature"]);i!=null&&c(o,["temperature"],i);let s=l(e,["topP"]);s!=null&&c(o,["topP"],s);let a=l(e,["topK"]);a!=null&&c(o,["topK"],a);let u=l(e,["candidateCount"]);u!=null&&c(o,["candidateCount"],u);let d=l(e,["maxOutputTokens"]);d!=null&&c(o,["maxOutputTokens"],d);let f=l(e,["stopSequences"]);f!=null&&c(o,["stopSequences"],f);let p=l(e,["responseLogprobs"]);p!=null&&c(o,["responseLogprobs"],p);let h=l(e,["logprobs"]);h!=null&&c(o,["logprobs"],h);let m=l(e,["presencePenalty"]);m!=null&&c(o,["presencePenalty"],m);let E=l(e,["frequencyPenalty"]);E!=null&&c(o,["frequencyPenalty"],E);let I=l(e,["seed"]);I!=null&&c(o,["seed"],I);let T=l(e,["responseMimeType"]);T!=null&&c(o,["responseMimeType"],T);let C=l(e,["responseSchema"]);C!=null&&c(o,["responseSchema"],Mp(C));let D=l(e,["responseJsonSchema"]);if(D!=null&&c(o,["responseJsonSchema"],D),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let _=l(e,["safetySettings"]);if(n!==void 0&&_!=null){let ie=_;Array.isArray(ie)&&(ie=ie.map(Dt=>sb(Dt))),c(n,["safetySettings"],ie)}let N=l(e,["tools"]);if(n!==void 0&&N!=null){let ie=ur(N);Array.isArray(ie)&&(ie=ie.map(Dt=>pb(lr(Dt)))),c(n,["tools"],ie)}let R=l(e,["toolConfig"]);if(n!==void 0&&R!=null&&c(n,["toolConfig"],fb(R)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let G=l(e,["cachedContent"]);n!==void 0&&G!=null&&c(n,["cachedContent"],Zt(t,G));let B=l(e,["responseModalities"]);B!=null&&c(o,["responseModalities"],B);let re=l(e,["mediaResolution"]);re!=null&&c(o,["mediaResolution"],re);let O=l(e,["speechConfig"]);if(O!=null&&c(o,["speechConfig"],xp(O)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let W=l(e,["thinkingConfig"]);W!=null&&c(o,["thinkingConfig"],W);let fe=l(e,["imageConfig"]);fe!=null&&c(o,["imageConfig"],GA(fe));let Xt=l(e,["enableEnhancedCivicAnswers"]);return Xt!=null&&c(o,["enableEnhancedCivicAnswers"],Xt),o}function yA(t,e,n){let o={},r=l(e,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Re(r));let i=l(e,["temperature"]);i!=null&&c(o,["temperature"],i);let s=l(e,["topP"]);s!=null&&c(o,["topP"],s);let a=l(e,["topK"]);a!=null&&c(o,["topK"],a);let u=l(e,["candidateCount"]);u!=null&&c(o,["candidateCount"],u);let d=l(e,["maxOutputTokens"]);d!=null&&c(o,["maxOutputTokens"],d);let f=l(e,["stopSequences"]);f!=null&&c(o,["stopSequences"],f);let p=l(e,["responseLogprobs"]);p!=null&&c(o,["responseLogprobs"],p);let h=l(e,["logprobs"]);h!=null&&c(o,["logprobs"],h);let m=l(e,["presencePenalty"]);m!=null&&c(o,["presencePenalty"],m);let E=l(e,["frequencyPenalty"]);E!=null&&c(o,["frequencyPenalty"],E);let I=l(e,["seed"]);I!=null&&c(o,["seed"],I);let T=l(e,["responseMimeType"]);T!=null&&c(o,["responseMimeType"],T);let C=l(e,["responseSchema"]);C!=null&&c(o,["responseSchema"],Mp(C));let D=l(e,["responseJsonSchema"]);D!=null&&c(o,["responseJsonSchema"],D);let _=l(e,["routingConfig"]);_!=null&&c(o,["routingConfig"],_);let N=l(e,["modelSelectionConfig"]);N!=null&&c(o,["modelConfig"],N);let R=l(e,["safetySettings"]);if(n!==void 0&&R!=null){let Ft=R;Array.isArray(Ft)&&(Ft=Ft.map(Ql=>Ql)),c(n,["safetySettings"],Ft)}let G=l(e,["tools"]);if(n!==void 0&&G!=null){let Ft=ur(G);Array.isArray(Ft)&&(Ft=Ft.map(Ql=>RE(lr(Ql)))),c(n,["tools"],Ft)}let B=l(e,["toolConfig"]);n!==void 0&&B!=null&&c(n,["toolConfig"],B);let re=l(e,["labels"]);n!==void 0&&re!=null&&c(n,["labels"],re);let O=l(e,["cachedContent"]);n!==void 0&&O!=null&&c(n,["cachedContent"],Zt(t,O));let W=l(e,["responseModalities"]);W!=null&&c(o,["responseModalities"],W);let fe=l(e,["mediaResolution"]);fe!=null&&c(o,["mediaResolution"],fe);let Xt=l(e,["speechConfig"]);Xt!=null&&c(o,["speechConfig"],xp(Xt));let ie=l(e,["audioTimestamp"]);ie!=null&&c(o,["audioTimestamp"],ie);let Dt=l(e,["thinkingConfig"]);Dt!=null&&c(o,["thinkingConfig"],Dt);let Np=l(e,["imageConfig"]);if(Np!=null&&c(o,["imageConfig"],qA(Np)),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Yv(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let s=ot(r);Array.isArray(s)&&(s=s.map(a=>Gl(a))),c(n,["contents"],s)}let i=l(e,["config"]);return i!=null&&c(n,["generationConfig"],gA(t,i,n)),n}function Kv(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["contents"]);if(r!=null){let s=ot(r);Array.isArray(s)&&(s=s.map(a=>a)),c(n,["contents"],s)}let i=l(e,["config"]);return i!=null&&c(n,["generationConfig"],yA(t,i,n)),n}function Qv(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Vx(d))),c(e,["candidates"],u)}let r=l(t,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);let i=l(t,["promptFeedback"]);i!=null&&c(e,["promptFeedback"],i);let s=l(t,["responseId"]);s!=null&&c(e,["responseId"],s);let a=l(t,["usageMetadata"]);return a!=null&&c(e,["usageMetadata"],a),e}function Zv(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),c(e,["candidates"],d)}let r=l(t,["createTime"]);r!=null&&c(e,["createTime"],r);let i=l(t,["modelVersion"]);i!=null&&c(e,["modelVersion"],i);let s=l(t,["promptFeedback"]);s!=null&&c(e,["promptFeedback"],s);let a=l(t,["responseId"]);a!=null&&c(e,["responseId"],a);let u=l(t,["usageMetadata"]);return u!=null&&c(e,["usageMetadata"],u),e}function vA(t,e){let n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);let r=l(t,["aspectRatio"]);e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r);let i=l(t,["guidanceScale"]);if(e!==void 0&&i!=null&&c(e,["parameters","guidanceScale"],i),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=l(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&c(e,["parameters","safetySetting"],s);let a=l(t,["personGeneration"]);e!==void 0&&a!=null&&c(e,["parameters","personGeneration"],a);let u=l(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&c(e,["parameters","includeSafetyAttributes"],u);let d=l(t,["includeRaiReason"]);e!==void 0&&d!=null&&c(e,["parameters","includeRaiReason"],d);let f=l(t,["language"]);e!==void 0&&f!=null&&c(e,["parameters","language"],f);let p=l(t,["outputMimeType"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","mimeType"],p);let h=l(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&c(e,["parameters","outputOptions","compressionQuality"],h),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let m=l(t,["imageSize"]);if(e!==void 0&&m!=null&&c(e,["parameters","sampleImageSize"],m),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function EA(t,e){let n={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);let r=l(t,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);let i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);let s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);let a=l(t,["guidanceScale"]);e!==void 0&&a!=null&&c(e,["parameters","guidanceScale"],a);let u=l(t,["seed"]);e!==void 0&&u!=null&&c(e,["parameters","seed"],u);let d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);let f=l(t,["personGeneration"]);e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f);let p=l(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&c(e,["parameters","includeSafetyAttributes"],p);let h=l(t,["includeRaiReason"]);e!==void 0&&h!=null&&c(e,["parameters","includeRaiReason"],h);let m=l(t,["language"]);e!==void 0&&m!=null&&c(e,["parameters","language"],m);let E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&c(e,["parameters","outputOptions","mimeType"],E);let I=l(t,["outputCompressionQuality"]);e!==void 0&&I!=null&&c(e,["parameters","outputOptions","compressionQuality"],I);let T=l(t,["addWatermark"]);e!==void 0&&T!=null&&c(e,["parameters","addWatermark"],T);let C=l(t,["labels"]);e!==void 0&&C!=null&&c(e,["labels"],C);let D=l(t,["imageSize"]);e!==void 0&&D!=null&&c(e,["parameters","sampleImageSize"],D);let _=l(t,["enhancePrompt"]);return e!==void 0&&_!=null&&c(e,["parameters","enhancePrompt"],_),n}function IA(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);let i=l(e,["config"]);return i!=null&&vA(i,n),n}function CA(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);let i=l(e,["config"]);return i!=null&&EA(i,n),n}function TA(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>kA(s))),c(e,["generatedImages"],i)}let r=l(t,["positivePromptSafetyAttributes"]);return r!=null&&c(e,["positivePromptSafetyAttributes"],bE(r)),e}function SA(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ql(s))),c(e,["generatedImages"],i)}let r=l(t,["positivePromptSafetyAttributes"]);return r!=null&&c(e,["positivePromptSafetyAttributes"],NE(r)),e}function _A(t,e){let n={},o=l(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let r=l(t,["durationSeconds"]);if(e!==void 0&&r!=null&&c(e,["parameters","durationSeconds"],r),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let i=l(t,["aspectRatio"]);e!==void 0&&i!=null&&c(e,["parameters","aspectRatio"],i);let s=l(t,["resolution"]);e!==void 0&&s!=null&&c(e,["parameters","resolution"],s);let a=l(t,["personGeneration"]);if(e!==void 0&&a!=null&&c(e,["parameters","personGeneration"],a),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let u=l(t,["negativePrompt"]);e!==void 0&&u!=null&&c(e,["parameters","negativePrompt"],u);let d=l(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&c(e,["parameters","enhancePrompt"],d),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let f=l(t,["lastFrame"]);e!==void 0&&f!=null&&c(e,["instances[0]","lastFrame"],zl(f));let p=l(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>Db(m))),c(e,["instances[0]","referenceImages"],h)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function wA(t,e){let n={},o=l(t,["numberOfVideos"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);let r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);let i=l(t,["fps"]);e!==void 0&&i!=null&&c(e,["parameters","fps"],i);let s=l(t,["durationSeconds"]);e!==void 0&&s!=null&&c(e,["parameters","durationSeconds"],s);let a=l(t,["seed"]);e!==void 0&&a!=null&&c(e,["parameters","seed"],a);let u=l(t,["aspectRatio"]);e!==void 0&&u!=null&&c(e,["parameters","aspectRatio"],u);let d=l(t,["resolution"]);e!==void 0&&d!=null&&c(e,["parameters","resolution"],d);let f=l(t,["personGeneration"]);e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f);let p=l(t,["pubsubTopic"]);e!==void 0&&p!=null&&c(e,["parameters","pubsubTopic"],p);let h=l(t,["negativePrompt"]);e!==void 0&&h!=null&&c(e,["parameters","negativePrompt"],h);let m=l(t,["enhancePrompt"]);e!==void 0&&m!=null&&c(e,["parameters","enhancePrompt"],m);let E=l(t,["generateAudio"]);e!==void 0&&E!=null&&c(e,["parameters","generateAudio"],E);let I=l(t,["lastFrame"]);e!==void 0&&I!=null&&c(e,["instances[0]","lastFrame"],wt(I));let T=l(t,["referenceImages"]);if(e!==void 0&&T!=null){let _=T;Array.isArray(_)&&(_=_.map(N=>Mb(N))),c(e,["instances[0]","referenceImages"],_)}let C=l(t,["mask"]);e!==void 0&&C!=null&&c(e,["instances[0]","mask"],wb(C));let D=l(t,["compressionQuality"]);return e!==void 0&&D!=null&&c(e,["parameters","compressionQuality"],D),n}function DA(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata"]);o!=null&&c(e,["metadata"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],bA(s)),e}function MA(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata"]);o!=null&&c(e,["metadata"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["response"]);return s!=null&&c(e,["response"],NA(s)),e}function xA(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);let i=l(e,["image"]);i!=null&&c(n,["instances[0]","image"],zl(i));let s=l(e,["video"]);s!=null&&c(n,["instances[0]","video"],PE(s));let a=l(e,["source"]);a!=null&&RA(a,n);let u=l(e,["config"]);return u!=null&&_A(u,n),n}function AA(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["prompt"]);r!=null&&c(n,["instances[0]","prompt"],r);let i=l(e,["image"]);i!=null&&c(n,["instances[0]","image"],wt(i));let s=l(e,["video"]);s!=null&&c(n,["instances[0]","video"],kE(s));let a=l(e,["source"]);a!=null&&PA(a,n);let u=l(e,["config"]);return u!=null&&wA(u,n),n}function bA(t){let e={},n=l(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>OA(s))),c(e,["generatedVideos"],i)}let o=l(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);let r=l(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function NA(t){let e={},n=l(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>FA(s))),c(e,["generatedVideos"],i)}let o=l(t,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);let r=l(t,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function RA(t,e){let n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&c(e,["instances[0]","prompt"],o);let r=l(t,["image"]);e!==void 0&&r!=null&&c(e,["instances[0]","image"],zl(r));let i=l(t,["video"]);return e!==void 0&&i!=null&&c(e,["instances[0]","video"],PE(i)),n}function PA(t,e){let n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&c(e,["instances[0]","prompt"],o);let r=l(t,["image"]);e!==void 0&&r!=null&&c(e,["instances[0]","image"],wt(r));let i=l(t,["video"]);return e!==void 0&&i!=null&&c(e,["instances[0]","video"],kE(i)),n}function kA(t){let e={},n=l(t,["_self"]);n!=null&&c(e,["image"],zA(n));let o=l(t,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);let r=l(t,["_self"]);return r!=null&&c(e,["safetyAttributes"],bE(r)),e}function ql(t){let e={},n=l(t,["_self"]);n!=null&&c(e,["image"],AE(n));let o=l(t,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);let r=l(t,["_self"]);r!=null&&c(e,["safetyAttributes"],NE(r));let i=l(t,["prompt"]);return i!=null&&c(e,["enhancedPrompt"],i),e}function LA(t){let e={},n=l(t,["_self"]);n!=null&&c(e,["mask"],AE(n));let o=l(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),c(e,["labels"],r)}return e}function OA(t){let e={},n=l(t,["video"]);return n!=null&&c(e,["video"],Sb(n)),e}function FA(t){let e={},n=l(t,["_self"]);return n!=null&&c(e,["video"],_b(n)),e}function UA(t){let e={},n=l(t,["modelSelectionConfig"]);n!=null&&c(e,["modelConfig"],n);let o=l(t,["responseJsonSchema"]);o!=null&&c(e,["responseJsonSchema"],o);let r=l(t,["audioTimestamp"]);r!=null&&c(e,["audioTimestamp"],r);let i=l(t,["candidateCount"]);i!=null&&c(e,["candidateCount"],i);let s=l(t,["enableAffectiveDialog"]);s!=null&&c(e,["enableAffectiveDialog"],s);let a=l(t,["frequencyPenalty"]);a!=null&&c(e,["frequencyPenalty"],a);let u=l(t,["logprobs"]);u!=null&&c(e,["logprobs"],u);let d=l(t,["maxOutputTokens"]);d!=null&&c(e,["maxOutputTokens"],d);let f=l(t,["mediaResolution"]);f!=null&&c(e,["mediaResolution"],f);let p=l(t,["presencePenalty"]);p!=null&&c(e,["presencePenalty"],p);let h=l(t,["responseLogprobs"]);h!=null&&c(e,["responseLogprobs"],h);let m=l(t,["responseMimeType"]);m!=null&&c(e,["responseMimeType"],m);let E=l(t,["responseModalities"]);E!=null&&c(e,["responseModalities"],E);let I=l(t,["responseSchema"]);I!=null&&c(e,["responseSchema"],I);let T=l(t,["routingConfig"]);T!=null&&c(e,["routingConfig"],T);let C=l(t,["seed"]);C!=null&&c(e,["seed"],C);let D=l(t,["speechConfig"]);D!=null&&c(e,["speechConfig"],D);let _=l(t,["stopSequences"]);_!=null&&c(e,["stopSequences"],_);let N=l(t,["temperature"]);N!=null&&c(e,["temperature"],N);let R=l(t,["thinkingConfig"]);R!=null&&c(e,["thinkingConfig"],R);let G=l(t,["topK"]);G!=null&&c(e,["topK"],G);let B=l(t,["topP"]);if(B!=null&&c(e,["topP"],B),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function VA(t,e){let n={},o=l(e,["model"]);return o!=null&&c(n,["_url","name"],J(t,o)),n}function HA(t,e){let n={},o=l(e,["model"]);return o!=null&&c(n,["_url","name"],J(t,o)),n}function $A(t){let e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function BA(t){let e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],n),e}function GA(t){let e={},n=l(t,["aspectRatio"]);n!=null&&c(e,["aspectRatio"],n);let o=l(t,["imageSize"]);if(o!=null&&c(e,["imageSize"],o),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qA(t){let e={},n=l(t,["aspectRatio"]);n!=null&&c(e,["aspectRatio"],n);let o=l(t,["imageSize"]);o!=null&&c(e,["imageSize"],o);let r=l(t,["outputMimeType"]);r!=null&&c(e,["imageOutputOptions","mimeType"],r);let i=l(t,["outputCompressionQuality"]);return i!=null&&c(e,["imageOutputOptions","compressionQuality"],i),e}function zA(t){let e={},n=l(t,["bytesBase64Encoded"]);n!=null&&c(e,["imageBytes"],vn(n));let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function AE(t){let e={},n=l(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);let o=l(t,["bytesBase64Encoded"]);o!=null&&c(e,["imageBytes"],vn(o));let r=l(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function zl(t){let e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=l(t,["imageBytes"]);n!=null&&c(e,["bytesBase64Encoded"],vn(n));let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function wt(t){let e={},n=l(t,["gcsUri"]);n!=null&&c(e,["gcsUri"],n);let o=l(t,["imageBytes"]);o!=null&&c(e,["bytesBase64Encoded"],vn(o));let r=l(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function WA(t,e,n){let o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);let i=l(e,["pageToken"]);n!==void 0&&i!=null&&c(n,["_query","pageToken"],i);let s=l(e,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);let a=l(e,["queryBase"]);return n!==void 0&&a!=null&&c(n,["_url","models_url"],TE(t,a)),o}function jA(t,e,n){let o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);let i=l(e,["pageToken"]);n!==void 0&&i!=null&&c(n,["_query","pageToken"],i);let s=l(e,["filter"]);n!==void 0&&s!=null&&c(n,["_query","filter"],s);let a=l(e,["queryBase"]);return n!==void 0&&a!=null&&c(n,["_url","models_url"],TE(t,a)),o}function JA(t,e){let n={},o=l(e,["config"]);return o!=null&&WA(t,o,n),n}function YA(t,e){let n={},o=l(e,["config"]);return o!=null&&jA(t,o,n),n}function KA(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["_self"]);if(r!=null){let i=SE(r);Array.isArray(i)&&(i=i.map(s=>Qf(s))),c(e,["models"],i)}return e}function QA(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["_self"]);if(r!=null){let i=SE(r);Array.isArray(i)&&(i=i.map(s=>Zf(s))),c(e,["models"],i)}return e}function ZA(t){let e={},n=l(t,["maskMode"]);n!=null&&c(e,["maskMode"],n);let o=l(t,["segmentationClasses"]);o!=null&&c(e,["maskClasses"],o);let r=l(t,["maskDilation"]);return r!=null&&c(e,["dilation"],r),e}function Qf(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["displayName"]);o!=null&&c(e,["displayName"],o);let r=l(t,["description"]);r!=null&&c(e,["description"],r);let i=l(t,["version"]);i!=null&&c(e,["version"],i);let s=l(t,["_self"]);s!=null&&c(e,["tunedModelInfo"],hb(s));let a=l(t,["inputTokenLimit"]);a!=null&&c(e,["inputTokenLimit"],a);let u=l(t,["outputTokenLimit"]);u!=null&&c(e,["outputTokenLimit"],u);let d=l(t,["supportedGenerationMethods"]);d!=null&&c(e,["supportedActions"],d);let f=l(t,["temperature"]);f!=null&&c(e,["temperature"],f);let p=l(t,["maxTemperature"]);p!=null&&c(e,["maxTemperature"],p);let h=l(t,["topP"]);h!=null&&c(e,["topP"],h);let m=l(t,["topK"]);m!=null&&c(e,["topK"],m);let E=l(t,["thinking"]);return E!=null&&c(e,["thinking"],E),e}function Zf(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["displayName"]);o!=null&&c(e,["displayName"],o);let r=l(t,["description"]);r!=null&&c(e,["description"],r);let i=l(t,["versionId"]);i!=null&&c(e,["version"],i);let s=l(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>dA(h))),c(e,["endpoints"],p)}let a=l(t,["labels"]);a!=null&&c(e,["labels"],a);let u=l(t,["_self"]);u!=null&&c(e,["tunedModelInfo"],mb(u));let d=l(t,["defaultCheckpointId"]);d!=null&&c(e,["defaultCheckpointId"],d);let f=l(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),c(e,["checkpoints"],p)}return e}function XA(t){let e={},n=l(t,["mediaResolution"]);n!=null&&c(e,["mediaResolution"],n);let o=l(t,["codeExecutionResult"]);o!=null&&c(e,["codeExecutionResult"],o);let r=l(t,["executableCode"]);r!=null&&c(e,["executableCode"],r);let i=l(t,["fileData"]);i!=null&&c(e,["fileData"],fA(i));let s=l(t,["functionCall"]);s!=null&&c(e,["functionCall"],pA(s));let a=l(t,["functionResponse"]);a!=null&&c(e,["functionResponse"],a);let u=l(t,["inlineData"]);u!=null&&c(e,["inlineData"],Ux(u));let d=l(t,["text"]);d!=null&&c(e,["text"],d);let f=l(t,["thought"]);f!=null&&c(e,["thought"],f);let p=l(t,["thoughtSignature"]);p!=null&&c(e,["thoughtSignature"],p);let h=l(t,["videoMetadata"]);return h!=null&&c(e,["videoMetadata"],h),e}function eb(t){let e={},n=l(t,["productImage"]);return n!=null&&c(e,["image"],wt(n)),e}function tb(t,e){let n={},o=l(t,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);let r=l(t,["baseSteps"]);e!==void 0&&r!=null&&c(e,["parameters","baseSteps"],r);let i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);let s=l(t,["seed"]);e!==void 0&&s!=null&&c(e,["parameters","seed"],s);let a=l(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&c(e,["parameters","safetySetting"],a);let u=l(t,["personGeneration"]);e!==void 0&&u!=null&&c(e,["parameters","personGeneration"],u);let d=l(t,["addWatermark"]);e!==void 0&&d!=null&&c(e,["parameters","addWatermark"],d);let f=l(t,["outputMimeType"]);e!==void 0&&f!=null&&c(e,["parameters","outputOptions","mimeType"],f);let p=l(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","compressionQuality"],p);let h=l(t,["enhancePrompt"]);e!==void 0&&h!=null&&c(e,["parameters","enhancePrompt"],h);let m=l(t,["labels"]);return e!==void 0&&m!=null&&c(e,["labels"],m),n}function nb(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["source"]);r!=null&&rb(r,n);let i=l(e,["config"]);return i!=null&&tb(i,n),n}function ob(t){let e={},n=l(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>ql(r))),c(e,["generatedImages"],o)}return e}function rb(t,e){let n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&c(e,["instances[0]","prompt"],o);let r=l(t,["personImage"]);e!==void 0&&r!=null&&c(e,["instances[0]","personImage","image"],wt(r));let i=l(t,["productImages"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>eb(a))),c(e,["instances[0]","productImages"],s)}return n}function ib(t){let e={},n=l(t,["referenceImage"]);n!=null&&c(e,["referenceImage"],wt(n));let o=l(t,["referenceId"]);o!=null&&c(e,["referenceId"],o);let r=l(t,["referenceType"]);r!=null&&c(e,["referenceType"],r);let i=l(t,["maskImageConfig"]);i!=null&&c(e,["maskImageConfig"],ZA(i));let s=l(t,["controlImageConfig"]);s!=null&&c(e,["controlImageConfig"],zx(s));let a=l(t,["styleImageConfig"]);a!=null&&c(e,["styleImageConfig"],a);let u=l(t,["subjectImageConfig"]);return u!=null&&c(e,["subjectImageConfig"],u),e}function bE(t){let e={},n=l(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);let o=l(t,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);let r=l(t,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function NE(t){let e={},n=l(t,["safetyAttributes","categories"]);n!=null&&c(e,["categories"],n);let o=l(t,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);let r=l(t,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function sb(t){let e={},n=l(t,["category"]);if(n!=null&&c(e,["category"],n),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=l(t,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function ab(t){let e={},n=l(t,["image"]);return n!=null&&c(e,["image"],wt(n)),e}function lb(t,e){let n={},o=l(t,["mode"]);e!==void 0&&o!=null&&c(e,["parameters","mode"],o);let r=l(t,["maxPredictions"]);e!==void 0&&r!=null&&c(e,["parameters","maxPredictions"],r);let i=l(t,["confidenceThreshold"]);e!==void 0&&i!=null&&c(e,["parameters","confidenceThreshold"],i);let s=l(t,["maskDilation"]);e!==void 0&&s!=null&&c(e,["parameters","maskDilation"],s);let a=l(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&c(e,["parameters","binaryColorThreshold"],a);let u=l(t,["labels"]);return e!==void 0&&u!=null&&c(e,["labels"],u),n}function ub(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["source"]);r!=null&&db(r,n);let i=l(e,["config"]);return i!=null&&lb(i,n),n}function cb(t){let e={},n=l(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>LA(r))),c(e,["generatedMasks"],o)}return e}function db(t,e){let n={},o=l(t,["prompt"]);e!==void 0&&o!=null&&c(e,["instances[0]","prompt"],o);let r=l(t,["image"]);e!==void 0&&r!=null&&c(e,["instances[0]","image"],wt(r));let i=l(t,["scribbleImage"]);return e!==void 0&&i!=null&&c(e,["instances[0]","scribble"],ab(i)),n}function fb(t){let e={},n=l(t,["functionCallingConfig"]);n!=null&&c(e,["functionCallingConfig"],hA(n));let o=l(t,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],o),e}function pb(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=l(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=l(t,["computerUse"]);r!=null&&c(e,["computerUse"],r);let i=l(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);let s=l(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=l(t,["googleMaps"]);a!=null&&c(e,["googleMaps"],$A(a));let u=l(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],BA(u));let d=l(t,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function RE(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>mA(h))),c(e,["functionDeclarations"],p)}let o=l(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);let r=l(t,["googleSearchRetrieval"]);r!=null&&c(e,["googleSearchRetrieval"],r);let i=l(t,["computerUse"]);if(i!=null&&c(e,["computerUse"],i),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=l(t,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);let a=l(t,["enterpriseWebSearch"]);a!=null&&c(e,["enterpriseWebSearch"],a);let u=l(t,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);let d=l(t,["googleSearch"]);d!=null&&c(e,["googleSearch"],d);let f=l(t,["urlContext"]);return f!=null&&c(e,["urlContext"],f),e}function hb(t){let e={},n=l(t,["baseModel"]);n!=null&&c(e,["baseModel"],n);let o=l(t,["createTime"]);o!=null&&c(e,["createTime"],o);let r=l(t,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function mb(t){let e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(e,["baseModel"],n);let o=l(t,["createTime"]);o!=null&&c(e,["createTime"],o);let r=l(t,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function gb(t,e){let n={},o=l(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);let r=l(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);let i=l(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&c(e,["defaultCheckpointId"],i),n}function yb(t,e){let n={},o=l(t,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);let r=l(t,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);let i=l(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&c(e,["defaultCheckpointId"],i),n}function vb(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","name"],J(t,o));let r=l(e,["config"]);return r!=null&&gb(r,n),n}function Eb(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["config"]);return r!=null&&yb(r,n),n}function Ib(t,e){let n={},o=l(t,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);let r=l(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&c(e,["parameters","safetySetting"],r);let i=l(t,["personGeneration"]);e!==void 0&&i!=null&&c(e,["parameters","personGeneration"],i);let s=l(t,["includeRaiReason"]);e!==void 0&&s!=null&&c(e,["parameters","includeRaiReason"],s);let a=l(t,["outputMimeType"]);e!==void 0&&a!=null&&c(e,["parameters","outputOptions","mimeType"],a);let u=l(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&c(e,["parameters","outputOptions","compressionQuality"],u);let d=l(t,["enhanceInputImage"]);e!==void 0&&d!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],d);let f=l(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],f);let p=l(t,["labels"]);e!==void 0&&p!=null&&c(e,["labels"],p);let h=l(t,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);let m=l(t,["mode"]);return e!==void 0&&m!=null&&c(e,["parameters","mode"],m),n}function Cb(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["_url","model"],J(t,o));let r=l(e,["image"]);r!=null&&c(n,["instances[0]","image"],wt(r));let i=l(e,["upscaleFactor"]);i!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],i);let s=l(e,["config"]);return s!=null&&Ib(s,n),n}function Tb(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ql(i))),c(e,["generatedImages"],r)}return e}function Sb(t){let e={},n=l(t,["uri"]);n!=null&&c(e,["uri"],n);let o=l(t,["encodedVideo"]);o!=null&&c(e,["videoBytes"],vn(o));let r=l(t,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function _b(t){let e={},n=l(t,["gcsUri"]);n!=null&&c(e,["uri"],n);let o=l(t,["bytesBase64Encoded"]);o!=null&&c(e,["videoBytes"],vn(o));let r=l(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function wb(t){let e={},n=l(t,["image"]);n!=null&&c(e,["_self"],wt(n));let o=l(t,["maskMode"]);return o!=null&&c(e,["maskMode"],o),e}function Db(t){let e={},n=l(t,["image"]);n!=null&&c(e,["image"],zl(n));let o=l(t,["referenceType"]);return o!=null&&c(e,["referenceType"],o),e}function Mb(t){let e={},n=l(t,["image"]);n!=null&&c(e,["image"],wt(n));let o=l(t,["referenceType"]);return o!=null&&c(e,["referenceType"],o),e}function PE(t){let e={},n=l(t,["uri"]);n!=null&&c(e,["uri"],n);let o=l(t,["videoBytes"]);o!=null&&c(e,["encodedVideo"],vn(o));let r=l(t,["mimeType"]);return r!=null&&c(e,["encoding"],r),e}function kE(t){let e={},n=l(t,["uri"]);n!=null&&c(e,["gcsUri"],n);let o=l(t,["videoBytes"]);o!=null&&c(e,["bytesBase64Encoded"],vn(o));let r=l(t,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function xb(t,e){let n={},o=l(t,["displayName"]);return e!==void 0&&o!=null&&c(e,["displayName"],o),n}function Ab(t){let e={},n=l(t,["config"]);return n!=null&&xb(n,e),e}function bb(t,e){let n={},o=l(t,["force"]);return e!==void 0&&o!=null&&c(e,["_query","force"],o),n}function Nb(t){let e={},n=l(t,["name"]);n!=null&&c(e,["_url","name"],n);let o=l(t,["config"]);return o!=null&&bb(o,e),e}function Rb(t){let e={},n=l(t,["name"]);return n!=null&&c(e,["_url","name"],n),e}function Pb(t,e){let n={},o=l(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["customMetadata"],i)}let r=l(t,["chunkingConfig"]);return e!==void 0&&r!=null&&c(e,["chunkingConfig"],r),n}function kb(t){let e={},n=l(t,["name"]);n!=null&&c(e,["name"],n);let o=l(t,["metadata"]);o!=null&&c(e,["metadata"],o);let r=l(t,["done"]);r!=null&&c(e,["done"],r);let i=l(t,["error"]);i!=null&&c(e,["error"],i);let s=l(t,["response"]);return s!=null&&c(e,["response"],Ob(s)),e}function Lb(t){let e={},n=l(t,["fileSearchStoreName"]);n!=null&&c(e,["_url","file_search_store_name"],n);let o=l(t,["fileName"]);o!=null&&c(e,["fileName"],o);let r=l(t,["config"]);return r!=null&&Pb(r,e),e}function Ob(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["parent"]);o!=null&&c(e,["parent"],o);let r=l(t,["documentName"]);return r!=null&&c(e,["documentName"],r),e}function Fb(t,e){let n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=l(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function Ub(t){let e={},n=l(t,["config"]);return n!=null&&Fb(n,e),e}function Vb(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["fileSearchStores"],i)}return e}function LE(t,e){let n={},o=l(t,["mimeType"]);e!==void 0&&o!=null&&c(e,["mimeType"],o);let r=l(t,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);let i=l(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>u)),c(e,["customMetadata"],a)}let s=l(t,["chunkingConfig"]);return e!==void 0&&s!=null&&c(e,["chunkingConfig"],s),n}function Hb(t){let e={},n=l(t,["fileSearchStoreName"]);n!=null&&c(e,["_url","file_search_store_name"],n);let o=l(t,["config"]);return o!=null&&LE(o,e),e}function $b(t){let e={},n=l(t,["sdkHttpResponse"]);return n!=null&&c(e,["sdkHttpResponse"],n),e}var Bb="Content-Type",Gb="X-Server-Timeout",qb="User-Agent",Xf="x-goog-api-client",zb="1.34.0",Wb=`google-genai-sdk/${zb}`,jb="v1beta1",Jb="v1beta",ep=class{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:jb,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Jb,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){let r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(let[s,a]of Object.entries(e.queryParams))r.searchParams.append(s,String(a));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>i.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&Yb(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Xv(r),new Ri(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Xv(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Tt(this,arguments,function*(){var o;let r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="",a="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:d,value:f}=yield L(r.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=i.decode(f,{stream:!0});try{let E=JSON.parse(p);if("error"in E){let I=JSON.parse(JSON.stringify(E.error)),T=I.status,C=I.code,D=`got status: ${T}. ${JSON.stringify(E)}`;if(C>=400&&C<600)throw new xl({message:D,status:C})}}catch(E){if(E.name==="ApiError")throw E}s+=p;let h=-1,m=0;for(;;){h=-1,m=0;for(let T of u){let C=s.indexOf(T);C!==-1&&(h===-1||C<h)&&(h=C,m=T.length)}if(h===-1)break;let E=s.substring(0,h);s=s.substring(h+m);let I=E.trim();if(I.startsWith(a)){let T=I.substring(a.length).trim();try{let C=new Response(T,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield L(new Ri(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},n=Wb+" "+this.clientOptions.userAgentExtra;return e[qb]=n,e[Xf]=n,e[Bb]="application/json",e}async getHeadersInternal(e,n){let o=new Headers;if(e&&e.headers){for(let[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(Gb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;let r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);let a=(o=n?.mimeType)!==null&&o!==void 0?o:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;let u={file:r},d=this.getFileName(e),f=w("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,u,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var r;let i=this.clientOptions.uploader,s=await i.stat(n),a=String(s.size),u=(r=o?.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&LE(o,p);let h=await this.fetchUploadUrl(d,a,u,f,p,o?.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,s){var a;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:u});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(a=d?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function Xv(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};let r=JSON.stringify(o);throw n>=400&&n<600?new xl({message:r,status:n}):new Error(r)}}function Yb(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){let a=Object.assign({},i);for(let u in s)if(Object.prototype.hasOwnProperty.call(s,u)){let d=s[u],f=a[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?a[u]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),a[u]=d)}return a}let r=o(n,e);t.body=JSON.stringify(r)}var Kb="mcp_used/unknown",Qb=!1;function OE(t){for(let e of t)if(Zb(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Qb}function FE(t){var e;let n=(e=t[Xf])!==null&&e!==void 0?e:"";t[Xf]=(n+` ${Kb}`).trimStart()}function Zb(t){return t!==null&&typeof t=="object"&&t instanceof tp}function Xb(t){return Tt(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){let s=yield L(n.listTools({cursor:r}));for(let a of s.tools)yield yield L(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}var tp=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var a=!0,u=(n=void 0,St(Xb(f))),d;d=await u.next(),e=d.done,!e;a=!0){r=d.value,a=!1;let p=r;s.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!a&&!e&&(o=u.return)&&await o.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),FD(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}};async function eN(t,e,n){let o=new Bf,r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}var np=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=nN(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),u=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${a}`,d=()=>{},f=new Promise(_=>{d=_}),p=e.callbacks,h=function(){d({})},m=this.apiClient,E={onopen:h,onmessage:_=>{eN(m,p.onmessage,_)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(_){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(_){}},I=this.webSocketFactory.create(u,tN(s),E);I.connect(),await f;let D={setup:{model:J(this.apiClient,e.model)}};return I.send(JSON.stringify(D)),new op(I,this.apiClient)}},op=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=Ax(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=xx(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(bi.PLAY)}pause(){this.sendPlaybackControl(bi.PAUSE)}stop(){this.sendPlaybackControl(bi.STOP)}resetContext(){this.sendPlaybackControl(bi.RESET_CONTEXT)}close(){this.conn.close()}};function tN(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function nN(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var oN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rN(t,e,n){let o=new $f,r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;let i=JSON.parse(r);if(t.isVertexAI()){let s=Rx(i);Object.assign(o,s)}else Object.assign(o,i);e(o)}var rp=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new np(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&OE(e.config.tools)&&FE(p);let h=aN(p);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{let O=this.apiClient.getApiKey(),W="BidiGenerateContent",fe="key";O?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",fe="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${W}?${fe}=${O}`}let m=()=>{},E=new Promise(O=>{m=O}),I=e.callbacks,T=function(){var O;(O=I?.onopen)===null||O===void 0||O.call(I),m({})},C=this.apiClient,D={onopen:T,onmessage:O=>{rN(C,I.onmessage,O)},onerror:(n=I?.onerror)!==null&&n!==void 0?n:function(O){},onclose:(o=I?.onclose)!==null&&o!==void 0?o:function(O){}},_=this.webSocketFactory.create(f,sN(h),D);_.connect(),await E;let N=J(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){let O=this.apiClient.getProject(),W=this.apiClient.getLocation();N=`projects/${O}/locations/${W}/`+N}let R={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xf.AUDIO]}:e.config.responseModalities=[xf.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let G=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],B=[];for(let O of G)if(this.isCallableTool(O)){let W=O;B.push(await W.tool())}else B.push(O);B.length>0&&(e.config.tools=B);let re={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=Mx(this.apiClient,re):R=Dx(this.apiClient,re),delete R.config,_.send(JSON.stringify(R)),new ip(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},iN={turnComplete:!0},ip=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=ot(n.turns),e.isVertexAI()||(o=o.map(r=>Gl(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(oN)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},iN),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Nx(e)}:n={realtimeInput:bx(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function sN(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function aN(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var eE=10;function tE(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if(ir(s)){r=!0;break}if(!r)return!0;let i=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ir(t){return"callTool"in t&&typeof t.callTool=="function"}function lN(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>ir(r)))!==null&&o!==void 0?o:!1}function nE(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(ir(o))return;let i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function oE(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var sp=class extends _t{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,s,a;let u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!lN(n)||tE(n.config))return await this.generateContentInternal(u);let d=nE(n);if(d.length>0){let I=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let f,p,h=ot(u.contents),m=(i=(r=(o=u.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:eE,E=0;for(;E<m&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){let I=f.candidates[0].content,T=[];for(let C of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(ir(C)){let _=await C.callTool(f.functionCalls);T.push(..._)}E++,p={role:"user",parts:T},u.contents=ot(u.contents),u.contents.push(I),u.contents.push(p),oE(u.config)&&(h.push(I),h.push(p))}return oE(u.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,s,a;if(this.maybeMoveToResponseJsonSchem(n),tE(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let u=nE(n);if(u.length>0){let p=u.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(a=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i,s=[];if(o?.generatedImages)for(let u of o.generatedImages)u&&u?.safetyAttributes&&((r=u?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=u?.safetyAttributes:s.push(u);let a;return i?a={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},a}),this.list=async n=>{var o;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Qt(En.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{let o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));let r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,a,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((u=(a=n.source)===null||a===void 0?void 0:a.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let s=await Promise.all(i.map(async u=>ir(u)?await u.tool():u)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&OE(e.config.tools)){let u=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),FE(d),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return a}async initAfcToolsMap(e){var n,o,r;let i=new Map;for(let s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(ir(s)){let a=s,u=await a.tool();for(let d of(r=u.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,a)}}return i}async processAfcStream(e){var n,o,r;let i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:eE,s=!1,a=0,u=await this.initAfcToolsMap(e);return(function(d,f,p){return Tt(this,arguments,function*(){for(var h,m,E,I,T,C;a<i;){s&&(a++,s=!1);let R=yield L(d.processParamsMaybeAddMcpUsage(p)),G=yield L(d.generateContentStreamInternal(R)),B=[],re=[];try{for(var D=!0,_=(m=void 0,St(G)),N;N=yield L(_.next()),h=N.done,!h;D=!0){I=N.value,D=!1;let O=I;if(yield yield L(O),O.candidates&&(!((T=O.candidates[0])===null||T===void 0)&&T.content)){re.push(O.candidates[0].content);for(let W of(C=O.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(a<i&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(W.functionCall.name)){let fe=yield L(f.get(W.functionCall.name).callTool([W.functionCall]));B.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(O){m={error:O}}finally{try{!D&&!h&&(E=_.return)&&(yield L(E.call(_)))}finally{if(m)throw m.error}}if(B.length>0){s=!0;let O=new ro;O.candidates=[{content:{role:"user",parts:B}}],yield yield L(O);let W=[];W.push(...re),W.push({role:"user",parts:B});let fe=ot(p.contents).concat(W);p.contents=fe}else break}})})(this,u,e)}async generateContentInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Kv(this.apiClient,e);return a=w("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Zv(f),h=new ro;return Object.assign(h,p),h})}else{let d=Yv(this.apiClient,e);return a=w("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Qv(f),h=new ro;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Kv(this.apiClient,e);return a=w("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Tt(this,arguments,function*(){var h,m,E,I;try{for(var T=!0,C=St(p),D;D=yield L(C.next()),h=D.done,!h;T=!0){I=D.value,T=!1;let _=I,N=Zv(yield L(_.json()));N.sdkHttpResponse={headers:_.headers};let R=new ro;Object.assign(R,N),yield yield L(R)}}catch(_){m={error:_}}finally{try{!T&&!h&&(E=C.return)&&(yield L(E.call(C)))}finally{if(m)throw m.error}}})})}else{let d=Yv(this.apiClient,e);return a=w("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Tt(this,arguments,function*(){var h,m,E,I;try{for(var T=!0,C=St(p),D;D=yield L(C.next()),h=D.done,!h;T=!0){I=D.value,T=!1;let _=I,N=Qv(yield L(_.json()));N.sdkHttpResponse={headers:_.headers};let R=new ro;Object.assign(R,N),yield yield L(R)}}catch(_){m={error:_}}finally{try{!T&&!h&&(E=C.return)&&(yield L(E.call(C)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=lA(this.apiClient,e);return a=w("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=cA(f),h=new ml;return Object.assign(h,p),h})}else{let d=aA(this.apiClient,e);return a=w("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=uA(f),h=new ml;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=CA(this.apiClient,e);return a=w("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=SA(f),h=new gl;return Object.assign(h,p),h})}else{let d=IA(this.apiClient,e);return a=w("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=TA(f),h=new gl;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let a=oA(this.apiClient,e);return i=w("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=rA(u),f=new Af;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let a=Cb(this.apiClient,e);return i=w("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=Tb(u),f=new bf;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let a=nb(this.apiClient,e);return i=w("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=ob(u),f=new Nf;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let a=ub(this.apiClient,e);return i=w("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=cb(u),f=new Rf;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=HA(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Zf(f))}else{let d=VA(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Qf(f))}}async listInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=YA(this.apiClient,e);return a=w("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=QA(f),h=new yl;return Object.assign(h,p),h})}else{let d=JA(this.apiClient,e);return a=w("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=KA(f),h=new yl;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Eb(this.apiClient,e);return a=w("{model}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Zf(f))}else{let d=vb(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Qf(f))}}async delete(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Xx(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=tA(f),h=new vl;return Object.assign(h,p),h})}else{let d=Zx(this.apiClient,e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=eA(f),h=new vl;return Object.assign(h,p),h})}}async countTokens(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=Yx(this.apiClient,e);return a=w("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Qx(f),h=new El;return Object.assign(h,p),h})}else{let d=Jx(this.apiClient,e);return a=w("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Kx(f),h=new El;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let a=$x(this.apiClient,e);return i=w("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=Bx(u),f=new Pf;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=AA(this.apiClient,e);return a=w("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=MA(f),h=new Il;return Object.assign(h,p),h})}else{let d=xA(this.apiClient,e);return a=w("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=DA(f),h=new Il;return Object.assign(h,p),h})}}};var ap=class extends _t{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=_D(e);return a=w("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{let d=SD(e);return a=w("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let a=gD(e);return i=w("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function uN(t){let e={},n=l(t,["data"]);if(n!=null&&c(e,["data"],n),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function cN(t){let e={},n=l(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>EN(i))),c(e,["parts"],r)}let o=l(t,["role"]);return o!=null&&c(e,["role"],o),e}function dN(t,e,n){let o={},r=l(e,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);let i=l(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&c(n,["newSessionExpireTime"],i);let s=l(e,["uses"]);n!==void 0&&s!=null&&c(n,["uses"],s);let a=l(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&c(n,["bidiGenerateContentSetup"],vN(t,a));let u=l(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&c(n,["fieldMask"],u),o}function fN(t,e){let n={},o=l(e,["config"]);return o!=null&&c(n,["config"],dN(t,o,n)),n}function pN(t){let e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=l(t,["fileUri"]);n!=null&&c(e,["fileUri"],n);let o=l(t,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function hN(t){let e={},n=l(t,["id"]);n!=null&&c(e,["id"],n);let o=l(t,["args"]);o!=null&&c(e,["args"],o);let r=l(t,["name"]);if(r!=null&&c(e,["name"],r),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mN(t){let e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=l(t,["enableWidget"]);return n!=null&&c(e,["enableWidget"],n),e}function gN(t){let e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=l(t,["timeRangeFilter"]);return n!=null&&c(e,["timeRangeFilter"],n),e}function yN(t,e){let n={},o=l(t,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);let r=l(t,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);let i=l(t,["temperature"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig","temperature"],i);let s=l(t,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);let a=l(t,["topK"]);e!==void 0&&a!=null&&c(e,["setup","generationConfig","topK"],a);let u=l(t,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);let d=l(t,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);let f=l(t,["seed"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","seed"],f);let p=l(t,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],Ap(p));let h=l(t,["thinkingConfig"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","thinkingConfig"],h);let m=l(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],m);let E=l(t,["systemInstruction"]);e!==void 0&&E!=null&&c(e,["setup","systemInstruction"],cN(Re(E)));let I=l(t,["tools"]);if(e!==void 0&&I!=null){let G=ur(I);Array.isArray(G)&&(G=G.map(B=>CN(lr(B)))),c(e,["setup","tools"],G)}let T=l(t,["sessionResumption"]);e!==void 0&&T!=null&&c(e,["setup","sessionResumption"],IN(T));let C=l(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&c(e,["setup","inputAudioTranscription"],C);let D=l(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&c(e,["setup","outputAudioTranscription"],D);let _=l(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&c(e,["setup","realtimeInputConfig"],_);let N=l(t,["contextWindowCompression"]);e!==void 0&&N!=null&&c(e,["setup","contextWindowCompression"],N);let R=l(t,["proactivity"]);if(e!==void 0&&R!=null&&c(e,["setup","proactivity"],R),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function vN(t,e){let n={},o=l(e,["model"]);o!=null&&c(n,["setup","model"],J(t,o));let r=l(e,["config"]);return r!=null&&c(n,["config"],yN(r,n)),n}function EN(t){let e={},n=l(t,["mediaResolution"]);n!=null&&c(e,["mediaResolution"],n);let o=l(t,["codeExecutionResult"]);o!=null&&c(e,["codeExecutionResult"],o);let r=l(t,["executableCode"]);r!=null&&c(e,["executableCode"],r);let i=l(t,["fileData"]);i!=null&&c(e,["fileData"],pN(i));let s=l(t,["functionCall"]);s!=null&&c(e,["functionCall"],hN(s));let a=l(t,["functionResponse"]);a!=null&&c(e,["functionResponse"],a);let u=l(t,["inlineData"]);u!=null&&c(e,["inlineData"],uN(u));let d=l(t,["text"]);d!=null&&c(e,["text"],d);let f=l(t,["thought"]);f!=null&&c(e,["thought"],f);let p=l(t,["thoughtSignature"]);p!=null&&c(e,["thoughtSignature"],p);let h=l(t,["videoMetadata"]);return h!=null&&c(e,["videoMetadata"],h),e}function IN(t){let e={},n=l(t,["handle"]);if(n!=null&&c(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function CN(t){let e={},n=l(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=l(t,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=l(t,["computerUse"]);r!=null&&c(e,["computerUse"],r);let i=l(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);let s=l(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=l(t,["googleMaps"]);a!=null&&c(e,["googleMaps"],mN(a));let u=l(t,["googleSearch"]);u!=null&&c(e,["googleSearch"],gN(u));let d=l(t,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function TN(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function SN(t,e){let n=null,o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;let r=t.fieldMask;if(n){let i=TN(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];r.length>0&&(a=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));let u=[];i&&u.push(i),a.length>0&&u.push(...a),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}var lp=class extends _t{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=fN(this.apiClient,e);i=w("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;let u=SN(a,e.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}};function _N(t,e){let n={},o=l(t,["force"]);return e!==void 0&&o!=null&&c(e,["_query","force"],o),n}function wN(t){let e={},n=l(t,["name"]);n!=null&&c(e,["_url","name"],n);let o=l(t,["config"]);return o!=null&&_N(o,e),e}function DN(t){let e={},n=l(t,["name"]);return n!=null&&c(e,["_url","name"],n),e}function MN(t,e){let n={},o=l(t,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=l(t,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),n}function xN(t){let e={},n=l(t,["parent"]);n!=null&&c(e,["_url","parent"],n);let o=l(t,["config"]);return o!=null&&MN(o,e),e}function AN(t){let e={},n=l(t,["sdkHttpResponse"]);n!=null&&c(e,["sdkHttpResponse"],n);let o=l(t,["nextPageToken"]);o!=null&&c(e,["nextPageToken"],o);let r=l(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["documents"],i)}return e}var up=class extends _t{constructor(e){super(),this.apiClient=e,this.list=async n=>new Qt(En.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=DN(e);return i=w("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=wN(e);r=w("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=xN(e);return i=w("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=AN(u),f=new kf;return Object.assign(f,d),f})}}};var cp=class extends _t{constructor(e,n=new up(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Qt(En.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Ab(e);return i=w("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Rb(e);return i=w("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=Nb(e);r=w("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Ub(e);return i=w("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=Vb(u),f=new Lf;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Hb(e);return i=w("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=$b(u),f=new Of;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Lb(e);return i=w("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=kb(u),f=new Ff;return Object.assign(f,d),f})}}};var UE=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return UE=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))},bN=()=>UE();function dp(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var fp=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var qe=class extends Error{},ze=class t extends qe{constructor(e,n,o,r){super(`${t.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){let r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new sr({message:o,cause:fp(n)});let i=n;return e===400?new bl(e,i,o,r):e===401?new Nl(e,i,o,r):e===403?new Rl(e,i,o,r):e===404?new Pl(e,i,o,r):e===409?new kl(e,i,o,r):e===422?new Ll(e,i,o,r):e===429?new Ol(e,i,o,r):e>=500?new Fl(e,i,o,r):new t(e,i,o,r)}},Pi=class extends ze{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},sr=class extends ze{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Al=class extends sr{constructor({message:e}={}){super({message:e??"Request timed out."})}},bl=class extends ze{},Nl=class extends ze{},Rl=class extends ze{},Pl=class extends ze{},kl=class extends ze{},Ll=class extends ze{},Ol=class extends ze{},Fl=class extends ze{};var NN=/^[a-z][a-z0-9+.-]*:/i,RN=t=>NN.test(t),pp=t=>(pp=Array.isArray,pp(t)),PN=pp,kN=PN,rE=kN;function LN(t){if(!t)return!0;for(let e in t)return!1;return!0}function ON(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var FN=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new qe(`${t} must be an integer`);if(e<0)throw new qe(`${t} must be a positive integer`);return e},UN=t=>{try{return JSON.parse(t)}catch{return}};var VN=t=>new Promise(e=>setTimeout(e,t));var or="0.0.1";function HN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var $N=()=>{var t,e,n,o,r;let i=HN();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":sE(Deno.build.os),"X-Stainless-Arch":iE(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":sE((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":iE((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};let s=BN();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function BN(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let o=n.exec(navigator.userAgent);if(o){let r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:e,version:`${r}.${i}.${s}`}}}return null}var iE=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",sE=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),ll,GN=()=>ll??(ll=$N());function qN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function VE(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function zN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return VE({start(){},async pull(n){let{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function HE(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function WN(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let o=t.getReader(),r=o.cancel();o.releaseLock(),await r}var jN=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var $E=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function wf(t,e,n){return $E(),new File(t,e??"unknown_file",n)}function JN(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var YN=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var BE=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",KN=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&BE(t),QN=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function ZN(t,e,n){if($E(),t=await t,KN(t))return t instanceof File?t:wf([await t.arrayBuffer()],t.name);if(QN(t)){let r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),wf(await hp(r),e,n)}let o=await hp(t);if(e||(e=JN(t)),!n?.type){let r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return wf(o,e,n)}async function hp(t){var e,n,o,r,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(BE(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(YN(t))try{for(var a=!0,u=St(t),d;d=await u.next(),e=d.done,!e;a=!0){r=d.value,a=!1;let f=r;s.push(...await hp(f))}}catch(f){n={error:f}}finally{try{!a&&!e&&(o=u.return)&&await o.call(u)}finally{if(n)throw n.error}}else{let f=(i=t?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${XN(t)}`)}return s}function XN(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var eR=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function GE(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var aE=Object.freeze(Object.create(null)),tR=(t=GE)=>function(n,...o){if(n.length===1)return n[0];let r=!1,i=[],s=n.reduce((f,p,h)=>{var m,E,I;/[?#]/.test(p)&&(r=!0);let T=o[h],C=(r?encodeURIComponent:t)(""+T);return h!==o.length&&(T==null||typeof T=="object"&&T.toString===((I=Object.getPrototypeOf((E=Object.getPrototypeOf((m=T.hasOwnProperty)!==null&&m!==void 0?m:aE))!==null&&E!==void 0?E:aE))===null||I===void 0?void 0:I.toString))&&(C=T+"",i.push({start:f.length+p.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),f+p+(h===o.length?"":C)},""),a=s.split(/[?#]/,1)[0],u=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,d;for(;(d=u.exec(a))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0,p=i.reduce((h,m)=>{let E=" ".repeat(m.start-f),I="^".repeat(m.length);return f=m.start+m.length,h+E+I},"");throw new qe(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},ul=tR(GE);var Ul=class extends eR{create(e,n){var o;let{api_version:r=this._client.apiVersion}=e,i=Ml(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new qe("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new qe("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ul`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(ul`/${r}/interactions/${e}`,o)}cancel(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.post(ul`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;let i=n??{},{api_version:s=this._client.apiVersion}=i,a=Ml(i,["api_version"]);return this._client.get(ul`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}};Ul._key=Object.freeze(["interactions"]);var Vl=class extends Ul{};function nR(t){let e=0;for(let r of t)e+=r.length;let n=new Uint8Array(e),o=0;for(let r of t)n.set(r,o),o+=r.length;return n}var cl;function bp(t){let e;return(cl??(e=new globalThis.TextEncoder,cl=e.encode.bind(e)))(t)}var dl;function lE(t){let e;return(dl??(e=new globalThis.TextDecoder,dl=e.decode.bind(e)))(t)}var ar=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?bp(e):e;this.buffer=nR([this.buffer,n]);let o=[],r;for(;(r=oR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(lE(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=lE(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};ar.NEWLINE_CHARS=new Set([`
`,"\r"]);ar.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function oR(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function rR(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}var Hl={off:0,error:200,warn:300,info:400,debug:500},uE=(t,e,n)=>{if(t){if(ON(Hl,t))return t;Ue(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Hl))}`)}};function Ni(){}function fl(t,e,n){return!e||Hl[t]>Hl[n]?Ni:e[t].bind(e)}var iR={error:Ni,warn:Ni,info:Ni,debug:Ni},cE=new WeakMap;function Ue(t){var e;let n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return iR;let r=cE.get(n);if(r&&r[0]===o)return r[1];let i={error:fl("error",n,o),warn:fl("warn",n,o),info:fl("info",n,o),debug:fl("debug",n,o)};return cE.set(n,[o,i]),i}var oo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var mp=class t{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1,i=o?Ue(o):console;function s(){return Tt(this,arguments,function*(){var u,d,f,p;if(r)throw new qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var m=!0,E=St(sR(e,n)),I;I=yield L(E.next()),u=I.done,!u;m=!0){p=I.value,m=!1;let T=p;if(!h)if(T.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield L(JSON.parse(T.data))}catch(C){throw i.error("Could not parse message into JSON:",T.data),i.error("From chunk:",T.raw),C}}}catch(T){d={error:T}}finally{try{!m&&!u&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}h=!0}catch(T){if(dp(T))return yield L(void 0);throw T}finally{h||n.abort()}})}return new t(s,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return Tt(this,arguments,function*(){var u,d,f,p;let h=new ar,m=HE(e);try{for(var E=!0,I=St(m),T;T=yield L(I.next()),u=T.done,!u;E=!0){p=T.value,E=!1;let C=p;for(let D of h.decode(C))yield yield L(D)}}catch(C){d={error:C}}finally{try{!E&&!u&&(f=I.return)&&(yield L(f.call(I)))}finally{if(d)throw d.error}}for(let C of h.flush())yield yield L(C)})}function s(){return Tt(this,arguments,function*(){var u,d,f,p;if(r)throw new qe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var m=!0,E=St(i()),I;I=yield L(E.next()),u=I.done,!u;m=!0){p=I.value,m=!1;let T=p;h||T&&(yield yield L(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!m&&!u&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}h=!0}catch(T){if(dp(T))return yield L(void 0);throw T}finally{h||n.abort()}})}return new t(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){let s=o.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>r(e),this.controller,this.client),new t(()=>r(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return VE({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{let{value:r,done:i}=await n.next();if(i)return o.close();let s=bp(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function sR(t,e){return Tt(this,arguments,function*(){var o,r,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new qe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new qe("Attempted to iterate over a response with no body");let a=new gp,u=new ar,d=HE(t.body);try{for(var f=!0,p=St(aR(d)),h;h=yield L(p.next()),o=h.done,!o;f=!0){s=h.value,f=!1;let m=s;for(let E of u.decode(m)){let I=a.decode(E);I&&(yield yield L(I))}}}catch(m){r={error:m}}finally{try{!f&&!o&&(i=p.return)&&(yield L(i.call(p)))}finally{if(r)throw r.error}}for(let m of u.flush()){let E=a.decode(m);E&&(yield yield L(E))}})}function aR(t){return Tt(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var a=!0,u=St(t),d;d=yield L(u.next()),n=d.done,!n;a=!0){i=d.value,a=!1;let f=i;if(f==null)continue;let p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?bp(f):f,h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let m;for(;(m=rR(s))!==-1;)yield yield L(s.slice(0,m)),s=s.slice(m)}}catch(f){o={error:f}}finally{try{!a&&!n&&(r=u.return)&&(yield L(r.call(u)))}finally{if(o)throw o.error}}s.length>0&&(yield yield L(s))})}var gp=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=lR(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function lR(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function uR(t,e){let{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,s=await(async()=>{var a;if(e.options.stream)return Ue(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):mp.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let u=n.headers.get("content-type"),d=(a=u?.split(";")[0])===null||a===void 0?void 0:a.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return Ue(t).debug(`[${o}] response parsed`,oo({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}var yp=class t extends Promise{constructor(e,n,o=uR){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var qE=Symbol("brand.privateNullableHeaders");function*cR(t){if(!t)return;if(qE in t){let{values:o,nulls:r}=t;yield*o.entries();for(let i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():rE(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){let r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");let i=rE(o[1])?o[1]:[o[1]],s=!1;for(let a of i)a!==void 0&&(e&&!s&&(s=!0,yield[r,null]),yield[r,a])}}var Ai=t=>{let e=new Headers,n=new Set;for(let o of t){let r=new Set;for(let[i,s]of cR(o)){let a=i.toLowerCase();r.has(a)||(e.delete(i),r.add(a)),s===null?(e.delete(i),n.add(a)):(e.append(i,s),n.delete(a))}}return{[qE]:!0,values:e,nulls:n}};var Df=t=>{var e,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||s===void 0?void 0:s.trim()};var zE,dR=(()=>{class t{constructor(n){var o,r,i,s,a,u,d,{baseURL:f=Df("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(o=Df("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:h="v1beta"}=n,m=Ml(n,["baseURL","apiKey","apiVersion"]);let E=Object.assign(Object.assign({apiKey:p,apiVersion:h},m),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(r=E.timeout)!==null&&r!==void 0?r:t.DEFAULT_TIMEOUT,this.logger=(i=E.logger)!==null&&i!==void 0?i:console;let I="warn";this.logLevel=I,this.logLevel=(a=(s=uE(E.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:uE(Df("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:I,this.fetchOptions=E.fetchOptions,this.maxRetries=(u=E.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=E.fetch)!==null&&d!==void 0?d:qN(),this.encoder=jN,this._options=E,this.apiKey=p,this.apiVersion=h,this.clientAdapter=E.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let o=Ai([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Ai([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ai([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new qe(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${or}`}defaultIdempotencyKey(){return`stainless-node-retry-${bN()}`}makeStatusError(n,o,r,i){return ze.generate(n,o,r,i)}buildURL(n,o,r){let i=!this.baseURLOverridden()&&r||this.baseURL,s=RN(n)?new URL(n):new URL(i+(i.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),a=this.defaultQuery();return LN(a)||(o=Object.assign(Object.assign({},a),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(s.search=this.stringifyQuery(o)),s.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:r}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:n,path:o},i)))}request(n,o=null){return new yp(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,r){var i,s,a;let u=await n,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o==null&&(o=d),await this.prepareOptions(u);let{req:f,url:p,timeout:h}=await this.buildRequest(u,{retryCount:d-o});await this.prepareRequest(f,{url:p,options:u});let m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=r===void 0?"":`, retryOf: ${r}`,I=Date.now();if(Ue(this).debug(`[${m}] sending request`,oo({retryOfRequestLogID:r,method:u.method,url:p,options:u,headers:f.headers})),!((s=u.signal)===null||s===void 0)&&s.aborted)throw new Pi;let T=new AbortController,C=await this.fetchWithTimeout(p,f,h,T).catch(fp),D=Date.now();if(C instanceof globalThis.Error){let N=`retrying, ${o} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new Pi;let R=dp(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(o)return Ue(this).info(`[${m}] connection ${R?"timed out":"failed"} - ${N}`),Ue(this).debug(`[${m}] connection ${R?"timed out":"failed"} (${N})`,oo({retryOfRequestLogID:r,url:p,durationMs:D-I,message:C.message})),this.retryRequest(u,o,r??m);throw Ue(this).info(`[${m}] connection ${R?"timed out":"failed"} - error; no more retries left`),Ue(this).debug(`[${m}] connection ${R?"timed out":"failed"} (error; no more retries left)`,oo({retryOfRequestLogID:r,url:p,durationMs:D-I,message:C.message})),R?new Al:new sr({cause:C})}let _=`[${m}${E}] ${f.method} ${p} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${D-I}ms`;if(!C.ok){let N=await this.shouldRetry(C);if(o&&N){let W=`retrying, ${o} attempts remaining`;return await WN(C.body),Ue(this).info(`${_} - ${W}`),Ue(this).debug(`[${m}] response error (${W})`,oo({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:D-I})),this.retryRequest(u,o,r??m,C.headers)}let R=N?"error; no more retries left":"error; not retryable";Ue(this).info(`${_} - ${R}`);let G=await C.text().catch(W=>fp(W).message),B=UN(G),re=B?void 0:G;throw Ue(this).debug(`[${m}] response error (${R})`,oo({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:re,durationMs:Date.now()-I})),this.makeStatusError(C.status,B,re,C.headers)}return Ue(this).info(_),Ue(this).debug(`[${m}] response start`,oo({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:D-I})),{response:C,options:u,controller:T,requestLogID:m,retryOfRequestLogID:r,startTime:I}}async fetchWithTimeout(n,o,r,i){let s=o||{},{signal:a,method:u}=s,d=Ml(s,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());let f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);u&&(h.method=u.toUpperCase());try{return await this.fetch.call(void 0,n,h)}finally{clearTimeout(f)}}async shouldRetry(n){let o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,r,i){var s;let a,u=i?.get("retry-after-ms");if(u){let f=parseFloat(u);Number.isNaN(f)||(a=f)}let d=i?.get("retry-after");if(d&&!a){let f=parseFloat(d);Number.isNaN(f)?a=Date.parse(d)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){let f=(s=n.maxRetries)!==null&&s!==void 0?s:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(o,f)}return await VN(a),this.makeRequest(n,o-1,r)}calculateDefaultRetryTimeoutMillis(n,o){let s=o-n,a=Math.min(.5*Math.pow(2,s),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(n,{retryCount:o=0}={}){var r,i,s;let a=Object.assign({},n),{method:u,path:d,query:f,defaultBaseURL:p}=a,h=this.buildURL(d,f,p);"timeout"in a&&FN("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;let{bodyHeaders:m,body:E}=this.buildBody({options:a}),I=await this.buildHeaders({options:n,method:u,bodyHeaders:m,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:I},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=a.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:a.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=n.idempotencyKey);let a=await this.authHeaders(n),u=Ai([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),GN()),this._options.defaultHeaders,r,n.headers,a]);return this.validateHeaders(u),u.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};let r=Ai([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:zN(n)}:this.encoder({body:n,headers:r})}}return t.DEFAULT_TIMEOUT=6e4,t})(),ue=class extends dR{constructor(){super(...arguments),this.interactions=new Vl(this)}};zE=ue;ue.GeminiNextGenAPIClient=zE;ue.GeminiNextGenAPIClientError=qe;ue.APIError=ze;ue.APIConnectionError=sr;ue.APIConnectionTimeoutError=Al;ue.APIUserAbortError=Pi;ue.NotFoundError=Pl;ue.ConflictError=kl;ue.RateLimitError=Ol;ue.BadRequestError=bl;ue.AuthenticationError=Nl;ue.InternalServerError=Fl;ue.PermissionDeniedError=Rl;ue.UnprocessableEntityError=Ll;ue.toFile=ZN;ue.Interactions=Vl;function fR(t,e){let n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],o),n}function pR(t,e){let n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],o),n}function hR(t,e){let n={},o=l(t,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function mR(t,e){let n={},o=l(t,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function gR(t,e,n){let o={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=l(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&c(e,["displayName"],r),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=l(t,["epochCount"]);e!==void 0&&i!=null&&c(e,["tuningTask","hyperparameters","epochCount"],i);let s=l(t,["learningRateMultiplier"]);if(s!=null&&c(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=l(t,["batchSize"]);e!==void 0&&a!=null&&c(e,["tuningTask","hyperparameters","batchSize"],a);let u=l(t,["learningRate"]);if(e!==void 0&&u!=null&&c(e,["tuningTask","hyperparameters","learningRate"],u),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function yR(t,e,n){let o={},r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let m=l(t,["validationDataset"]);e!==void 0&&m!=null&&c(e,["supervisedTuningSpec"],dE(m))}else if(r==="PREFERENCE_TUNING"){let m=l(t,["validationDataset"]);e!==void 0&&m!=null&&c(e,["preferenceOptimizationSpec"],dE(m))}let i=l(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&c(e,["tunedModelDisplayName"],i);let s=l(t,["description"]);e!==void 0&&s!=null&&c(e,["description"],s);let a=l(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let m=l(t,["epochCount"]);e!==void 0&&m!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(a==="PREFERENCE_TUNING"){let m=l(t,["epochCount"]);e!==void 0&&m!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let u=l(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let m=l(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(u==="PREFERENCE_TUNING"){let m=l(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let d=l(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let m=l(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(d==="PREFERENCE_TUNING"){let m=l(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&c(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=l(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let m=l(t,["adapterSize"]);e!==void 0&&m!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){let m=l(t,["adapterSize"]);e!==void 0&&m!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=l(t,["labels"]);e!==void 0&&p!=null&&c(e,["labels"],p);let h=l(t,["beta"]);return e!==void 0&&h!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),o}function vR(t,e){let n={},o=l(t,["baseModel"]);o!=null&&c(n,["baseModel"],o);let r=l(t,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);let i=l(t,["trainingDataset"]);i!=null&&AR(i);let s=l(t,["config"]);return s!=null&&gR(s,n),n}function ER(t,e){let n={},o=l(t,["baseModel"]);o!=null&&c(n,["baseModel"],o);let r=l(t,["preTunedModel"]);r!=null&&c(n,["preTunedModel"],r);let i=l(t,["trainingDataset"]);i!=null&&bR(i,n,e);let s=l(t,["config"]);return s!=null&&yR(s,n,e),n}function IR(t,e){let n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],o),n}function CR(t,e){let n={},o=l(t,["name"]);return o!=null&&c(n,["_url","name"],o),n}function TR(t,e,n){let o={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);let i=l(t,["pageToken"]);e!==void 0&&i!=null&&c(e,["_query","pageToken"],i);let s=l(t,["filter"]);return e!==void 0&&s!=null&&c(e,["_query","filter"],s),o}function SR(t,e,n){let o={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&c(e,["_query","pageSize"],r);let i=l(t,["pageToken"]);e!==void 0&&i!=null&&c(e,["_query","pageToken"],i);let s=l(t,["filter"]);return e!==void 0&&s!=null&&c(e,["_query","filter"],s),o}function _R(t,e){let n={},o=l(t,["config"]);return o!=null&&TR(o,n),n}function wR(t,e){let n={},o=l(t,["config"]);return o!=null&&SR(o,n),n}function DR(t,e){let n={},o=l(t,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);let r=l(t,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);let i=l(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>WE(a))),c(n,["tuningJobs"],s)}return n}function MR(t,e){let n={},o=l(t,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);let r=l(t,["nextPageToken"]);r!=null&&c(n,["nextPageToken"],r);let i=l(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>vp(a))),c(n,["tuningJobs"],s)}return n}function xR(t,e){let n={},o=l(t,["name"]);o!=null&&c(n,["model"],o);let r=l(t,["name"]);return r!=null&&c(n,["endpoint"],r),n}function AR(t,e){let n={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=l(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),c(n,["examples","examples"],r)}return n}function bR(t,e,n){let o={},r=l(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=l(t,["gcsUri"]);e!==void 0&&s!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=l(t,["gcsUri"]);e!==void 0&&s!=null&&c(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=l(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=l(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&c(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function WE(t,e){let n={},o=l(t,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);let r=l(t,["name"]);r!=null&&c(n,["name"],r);let i=l(t,["state"]);i!=null&&c(n,["state"],IE(i));let s=l(t,["createTime"]);s!=null&&c(n,["createTime"],s);let a=l(t,["tuningTask","startTime"]);a!=null&&c(n,["startTime"],a);let u=l(t,["tuningTask","completeTime"]);u!=null&&c(n,["endTime"],u);let d=l(t,["updateTime"]);d!=null&&c(n,["updateTime"],d);let f=l(t,["description"]);f!=null&&c(n,["description"],f);let p=l(t,["baseModel"]);p!=null&&c(n,["baseModel"],p);let h=l(t,["_self"]);return h!=null&&c(n,["tunedModel"],xR(h)),n}function vp(t,e){let n={},o=l(t,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);let r=l(t,["name"]);r!=null&&c(n,["name"],r);let i=l(t,["state"]);i!=null&&c(n,["state"],IE(i));let s=l(t,["createTime"]);s!=null&&c(n,["createTime"],s);let a=l(t,["startTime"]);a!=null&&c(n,["startTime"],a);let u=l(t,["endTime"]);u!=null&&c(n,["endTime"],u);let d=l(t,["updateTime"]);d!=null&&c(n,["updateTime"],d);let f=l(t,["error"]);f!=null&&c(n,["error"],f);let p=l(t,["description"]);p!=null&&c(n,["description"],p);let h=l(t,["baseModel"]);h!=null&&c(n,["baseModel"],h);let m=l(t,["tunedModel"]);m!=null&&c(n,["tunedModel"],m);let E=l(t,["preTunedModel"]);E!=null&&c(n,["preTunedModel"],E);let I=l(t,["supervisedTuningSpec"]);I!=null&&c(n,["supervisedTuningSpec"],I);let T=l(t,["preferenceOptimizationSpec"]);T!=null&&c(n,["preferenceOptimizationSpec"],T);let C=l(t,["tuningDataStats"]);C!=null&&c(n,["tuningDataStats"],C);let D=l(t,["encryptionSpec"]);D!=null&&c(n,["encryptionSpec"],D);let _=l(t,["partnerModelTuningSpec"]);_!=null&&c(n,["partnerModelTuningSpec"],_);let N=l(t,["customBaseModel"]);N!=null&&c(n,["customBaseModel"],N);let R=l(t,["experiment"]);R!=null&&c(n,["experiment"],R);let G=l(t,["labels"]);G!=null&&c(n,["labels"],G);let B=l(t,["outputUri"]);B!=null&&c(n,["outputUri"],B);let re=l(t,["pipelineJob"]);re!=null&&c(n,["pipelineJob"],re);let O=l(t,["serviceAccount"]);O!=null&&c(n,["serviceAccount"],O);let W=l(t,["tunedModelDisplayName"]);W!=null&&c(n,["tunedModelDisplayName"],W);let fe=l(t,["veoTuningSpec"]);return fe!=null&&c(n,["veoTuningSpec"],fe),n}function NR(t,e){let n={},o=l(t,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);let r=l(t,["name"]);r!=null&&c(n,["name"],r);let i=l(t,["metadata"]);i!=null&&c(n,["metadata"],i);let s=l(t,["done"]);s!=null&&c(n,["done"],s);let a=l(t,["error"]);return a!=null&&c(n,["error"],a),n}function dE(t,e){let n={},o=l(t,["gcsUri"]);o!=null&&c(n,["validationDatasetUri"],o);let r=l(t,["vertexDatasetResource"]);return r!=null&&c(n,["validationDatasetUri"],r),n}var Ep=class extends _t{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qt(En.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},n);return await this.tuneInternal(r)}else{let r=Object.assign({},n),i=await this.tuneMldevInternal(r),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:hE.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=CR(e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>vp(f))}else{let d=IR(e);return a=w("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>WE(f))}}async listInternal(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=wR(e);return a=w("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=MR(f),h=new Cl;return Object.assign(h,p),h})}else{let d=_R(e);return a=w("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=DR(f),h=new Cl;return Object.assign(h,p),h})}}async cancel(e){var n,o,r,i;let s,a="",u={};if(this.apiClient.isVertexAI()){let d=pR(e);return a=w("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=mR(f),h=new Tl;return Object.assign(h,p),h})}else{let d=fR(e);return a=w("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=hR(f),h=new Tl;return Object.assign(h,p),h})}}async tuneInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let a=ER(e,e);return i=w("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>vp(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=vR(e);return i=w("tunedModels",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>NR(u))}}};var Ip=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},RR=1024*1024*8,PR=3,kR=1e3,LR=2,$l="x-goog-upload-status";async function OR(t,e,n){var o;let r=await jE(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[$l])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function FR(t,e,n){var o;let r=await jE(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[$l])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=pE(i),a=new Gf;return Object.assign(a,s),a}async function jE(t,e,n){var o,r;let i=0,s=0,a=new Ri(new Response),u="upload";for(i=t.size;s<i;){let d=Math.min(RR,i-s),f=t.slice(s,s+d);s+d>=i&&(u+=", finalize");let p=0,h=kR;for(;p<PR&&(a=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=a?.headers)===null||o===void 0)&&o[$l]));)p++,await VR(h),h=h*LR;if(s+=d,((r=a?.headers)===null||r===void 0?void 0:r[$l])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function UR(t){return{size:t.size,type:t.type}}function VR(t){return new Promise(e=>setTimeout(e,t))}var Cp=class{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OR(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FR(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await UR(e)}};var Tp=class{create(e,n,o){return new Sp(e,n,o)}},Sp=class{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var fE="x-goog-api-key",_p=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(fE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fE,this.apiKey)}}};var HR="gl-node/",Bl=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new ue({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let o=hD(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let r=new _p(this.apiKey);this.apiClient=new ep({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HR+"web",uploader:new Cp,downloader:new Ip}),this.models=new sp(this.apiClient),this.live=new rp(this.apiClient,r,new Tp),this.batches=new Wf(this.apiClient),this.chats=new Jf(this.models,this.apiClient),this.caches=new jf(this.apiClient),this.files=new Kf(this.apiClient),this.operations=new ap(this.apiClient),this.authTokens=new lp(this.apiClient),this.tunings=new Ep(this.apiClient),this.fileSearchStores=new cp(this.apiClient)}};var Wl=class t{constructor(){this.ai=null;this.isEnabled=!1;try{let e=typeof window<"u"&&window.GEMINI_API_KEY||"";e&&e.trim()!==""?(this.ai=new Bl({apiKey:e}),this.isEnabled=!0):console.log("Gemini service disabled: No API key provided")}catch(e){console.warn("Gemini service initialization failed:",e),this.isEnabled=!1}}async fixLatex(e){if(!this.isEnabled||!this.ai)return console.warn("Gemini service is not enabled. Please configure GEMINI_API_KEY."),e;try{let n="gemini-2.5-flash",o=`You are a LaTeX expert. Please fix the following LaTeX equation to be valid and renderable. 
      Only return the corrected LaTeX code string. Do not include markdown code blocks, backticks, or explanations.
      
      Broken LaTeX:
      ${e}`,r=await this.ai.models.generateContent({model:n,contents:o});return(r.text?r.text.trim():"").replace(/^```latex/,"").replace(/^```/,"").replace(/```$/,"").trim()}catch(n){return console.error("Gemini API Error:",n),e}}async explainLatex(e){if(!this.isEnabled||!this.ai)return"Mathematical Expression";try{let n="gemini-2.5-flash",o=`Explain what this LaTeX equation represents in simple math terms (e.g., "Quadratic Formula", "Integral of x squared"). Keep it very brief, under 20 words.
      
      LaTeX:
      ${e}`,r=await this.ai.models.generateContent({model:n,contents:o});return r.text?r.text.trim():"Complex Equation"}catch{return"Mathematical Expression"}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}};var In=class t{constructor(){this.history=xe([]);this.STORAGE_KEY="latex_history_v1";this.loadHistory()}loadHistory(){try{let e=localStorage.getItem(this.STORAGE_KEY);e&&this.history.set(JSON.parse(e))}catch(e){console.error("Failed to load history",e)}}addToHistory(e){e.trim()&&this.history.update(n=>{let o=n.filter(i=>i!==e),r=[e,...o].slice(0,50);return this.saveToStorage(r),r})}removeFromHistory(e){this.history.update(n=>{let o=n.filter(r=>r!==e);return this.saveToStorage(o),o})}clearHistory(){this.history.set([]),localStorage.removeItem(this.STORAGE_KEY)}saveToStorage(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(n){console.error("Failed to save history",n)}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}};var $R=(t,e)=>e.label;function BR(t,e){if(t&1&&(be(0,"img",24),v(1,"div",25),g(2," SVG Preview "),y()),t&2){let n=vt();pn("src",n.previewUrl(),Oo)}}function GR(t,e){t&1&&(v(0,"div",3),Me(),v(1,"svg",26),be(2,"path",27),y(),Ke(),v(3,"p"),g(4,"Enter LaTeX code to preview"),y()())}function qR(t,e){t&1&&(Me(),v(0,"svg",28),be(1,"circle",29)(2,"path",30),y(),g(3," Fixing... "))}function zR(t,e){t&1&&(Me(),v(0,"svg",31),be(1,"path",32),y(),g(2," Fix with AI "))}function WR(t,e){if(t&1){let n=oi();v(0,"button",34),Te("click",function(){let r=Hn(n).$implicit,i=vt(2);return $n(i.setLatex(r.code))}),g(1),y()}if(t&2){let n=e.$implicit;j(),Ge(" ",n.label," ")}}function jR(t,e){if(t&1&&(v(0,"div",22),Wt(1,WR,2,1,"button",33,$R),y()),t&2){let n=vt();j(),jt(n.examples)}}var dr=class t{constructor(){this.geminiService=S(Wl);this.historyService=S(In);this.latexInput=xe("");this.isAiLoading=xe(!1);this.copiedUrl=xe(!1);this.copiedSvg=xe(!1);this.examples=[{label:"Quadratic",code:"x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}"},{label:"Integral",code:"\\int_{a}^{b} x^2 \\,dx"},{label:"Matrix",code:"\\begin{bmatrix} a & b \\\\ c & d \\end{bmatrix}"},{label:"Summation",code:"\\sum_{i=0}^n i^2 = \\frac{(n^2+n)(2n+1)}{6}"}];this.previewUrl=$d(()=>{let e=this.latexInput();return e?`https://latex.codecogs.com/svg.latex?\\huge ${encodeURIComponent(e)}`:""})}updateLatex(e){let n=e.target;this.latexInput.set(n.value)}setLatex(e){this.latexInput.set(e),this.historyService.addToHistory(e)}async fixWithAi(){if(this.latexInput()){this.isAiLoading.set(!0);try{let e=await this.geminiService.fixLatex(this.latexInput());e&&(this.latexInput.set(e),this.historyService.addToHistory(e))}finally{this.isAiLoading.set(!1)}}}copySvgUrl(){let e=this.previewUrl();e&&navigator.clipboard.writeText(e).then(()=>{this.copiedUrl.set(!0),setTimeout(()=>this.copiedUrl.set(!1),2e3)})}async copySvgCode(){let e=this.previewUrl();if(e)try{let n=await fetch(e);if(!n.ok)throw new Error("Network response was not ok");let o=await n.text();await navigator.clipboard.writeText(o),this.copiedSvg.set(!0),setTimeout(()=>this.copiedSvg.set(!1),2e3)}catch(n){console.error("Failed to copy SVG code:",n)}}downloadSvg(){let e=this.previewUrl();if(!e)return;let n=document.createElement("a");n.href=e,n.download="equation.svg",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ce({type:t,selectors:[["app-latex-editor"]],decls:43,vars:8,consts:[[1,"flex","flex-col","h-full","gap-6","p-6","max-w-4xl","mx-auto"],[1,"bg-white","rounded-2xl","shadow-lg","border","border-gray-200","overflow-hidden","flex","flex-col","md:flex-row","min-h-[250px]"],[1,"flex-1","p-8","latex-preview-container","flex","items-center","justify-center","relative","bg-gray-50"],[1,"text-center","text-gray-400"],[1,"w-full","md:w-64","bg-gray-50","border-t","md:border-t-0","md:border-l","border-gray-200","p-5","flex","flex-col","gap-4"],[1,"text-sm","font-semibold","text-gray-600","uppercase","tracking-wider"],[1,"flex","items-center","gap-2","px-4","py-2","bg-white","border","border-gray-300","rounded-lg","text-sm","font-medium","text-gray-700","hover:bg-gray-50","hover:border-indigo-300","hover:text-indigo-600","transition-all","shadow-sm","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-gray-400","group-hover:text-indigo-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],[1,"mt-auto","pt-4","border-t","border-gray-200"],[1,"text-xs","text-gray-500","leading-relaxed"],[1,"font-semibold","text-gray-700"],[1,"flex-1","min-h-0","flex","flex-col","gap-3"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-semibold","text-gray-700","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-indigo-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"flex","items-center","gap-1.5","px-3","py-1.5","bg-indigo-50","text-indigo-700","rounded-md","text-xs","font-semibold","hover:bg-indigo-100","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],[1,"relative","group"],["placeholder","\\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}",1,"w-full","h-32","p-4","bg-white","border","border-gray-300","rounded-xl","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","resize-none","font-mono","text-sm","shadow-sm","transition-all",3,"input","value"],[1,"absolute","top-14","left-4","right-4","flex","flex-wrap","gap-2","pointer-events-none"],[1,"flex","justify-between","items-center","text-xs","text-gray-500","px-1"],["alt","LaTeX Preview",1,"max-w-full","max-h-[200px]","transition-all","duration-300","z-10",3,"src"],[1,"absolute","bottom-3","right-3","text-xs","text-gray-400","bg-white/80","px-2","py-1","rounded","backdrop-blur-sm","border","border-gray-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-16","w-16","mx-auto","mb-2","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-3","w-3","text-indigo-700"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-3","w-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"pointer-events-auto","px-3","py-1","bg-gray-100","hover:bg-gray-200","text-gray-600","text-xs","rounded-full","border","border-gray-200","transition-colors","shadow-sm"],[1,"pointer-events-auto","px-3","py-1","bg-gray-100","hover:bg-gray-200","text-gray-600","text-xs","rounded-full","border","border-gray-200","transition-colors","shadow-sm",3,"click"]],template:function(n,o){n&1&&(v(0,"div",0)(1,"div",1)(2,"div",2),Wn(3,BR,3,1)(4,GR,5,0,"div",3),y(),v(5,"div",4)(6,"div",5),g(7,"Quick Actions"),y(),v(8,"button",6),Te("click",function(){return o.copySvgUrl()}),Me(),v(9,"svg",7),be(10,"path",8),y(),g(11),y(),Ke(),v(12,"button",6),Te("click",function(){return o.copySvgCode()}),Me(),v(13,"svg",7),be(14,"path",9),y(),g(15),y(),Ke(),v(16,"button",6),Te("click",function(){return o.downloadSvg()}),Me(),v(17,"svg",7),be(18,"path",10),y(),g(19," Download SVG "),y(),Ke(),v(20,"div",11)(21,"p",12),g(22," Uses "),v(23,"span",13),g(24,"CodeCogs API"),y(),g(25," for rendering. "),y()()()(),v(26,"div",14)(27,"div",15)(28,"label",16),Me(),v(29,"svg",17),be(30,"path",18),y(),g(31," LaTeX Input "),y(),Ke(),v(32,"button",19),Te("click",function(){return o.fixWithAi()}),Wn(33,qR,4,0)(34,zR,3,0),y()(),v(35,"div",20)(36,"textarea",21),Te("input",function(i){return o.updateLatex(i)}),y(),Wn(37,jR,3,0,"div",22),y(),v(38,"div",23)(39,"span"),g(40,"Supported: Standard LaTeX math syntax"),y(),v(41,"span"),g(42),y()()()()),n&2&&(j(3),jn(o.latexInput()?3:4),j(8),Ge(" ",o.copiedUrl()?"Copied URL!":"Copy URL"," "),j(4),Ge(" ",o.copiedSvg()?"Copied SVG!":"Copy SVG Code"," "),j(17),pn("disabled",o.isAiLoading()||!o.latexInput()),j(),jn(o.isAiLoading()?33:34),j(3),pn("value",o.latexInput()),j(),jn(o.latexInput()?-1:37),j(5),Ge("",o.latexInput().length," chars"))},encapsulation:2})}};function JR(t,e){t&1&&(v(0,"div",7),Me(),v(1,"svg",9),be(2,"path",10),y(),Ke(),v(3,"p",11),g(4,"No history yet."),y(),v(5,"p",12),g(6,"Generated equations will appear here."),y()())}function YR(t,e){if(t&1){let n=oi();v(0,"div",8)(1,"div",13),Te("click",function(){let r=Hn(n).$implicit,i=vt();return $n(i.select.emit(r))}),v(2,"div",14),be(3,"img",15),y(),v(4,"div",16),g(5),y()(),v(6,"button",17),Te("click",function(r){let i=Hn(n).$implicit,s=vt();return $n(s.deleteItem(r,i))}),Me(),v(7,"svg",3),be(8,"path",18),y()()()}if(t&2){let n=e.$implicit,o=vt();j(3),pn("src","https://latex.codecogs.com/svg.latex?small "+o.encode(n),Oo),j(2),Ge(" ",n," ")}}var jl=class t{constructor(){this.historyService=S(In);this.select=My()}encode(e){return encodeURIComponent(e)}deleteItem(e,n){e.stopPropagation(),this.historyService.removeFromHistory(n)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ce({type:t,selectors:[["app-history"]],outputs:{select:"select"},decls:12,vars:3,consts:[[1,"h-full","flex","flex-col","bg-white","border-l","border-gray-200"],[1,"p-4","border-b","border-gray-200","flex","justify-between","items-center","bg-gray-50"],[1,"font-semibold","text-gray-700","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xs","text-red-500","hover:text-red-700","hover:underline","px-2","py-1","rounded","transition-colors",3,"click"],[1,"flex-1","overflow-y-auto","p-4","space-y-3"],[1,"text-center","py-10","text-gray-400"],[1,"group","relative","bg-gray-50","hover:bg-white","border","border-gray-200","hover:border-indigo-300","rounded-lg","p-3","transition-all","duration-200","shadow-sm","hover:shadow-md","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-12","w-12","mx-auto","mb-2","opacity-50"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"text-sm"],[1,"text-xs"],[1,"space-y-2",3,"click"],[1,"h-8","overflow-hidden","flex","items-center"],["alt","preview","loading","lazy",1,"max-h-full","max-w-full","opacity-80",3,"src"],[1,"text-xs","text-gray-500","font-mono","truncate","border-t","border-gray-100","pt-2","mt-1"],["title","Remove from history",1,"absolute","top-1","right-1","p-1","text-gray-300","hover:text-red-500","opacity-0","group-hover:opacity-100","transition-opacity","rounded-full","hover:bg-red-50",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(n,o){n&1&&(v(0,"div",0)(1,"div",1)(2,"h3",2),Me(),v(3,"svg",3),be(4,"path",4),y(),g(5," History "),y(),Ke(),v(6,"button",5),Te("click",function(){return o.historyService.clearHistory()}),g(7," Clear All "),y()(),v(8,"div",6),Wn(9,JR,7,0,"div",7),Wt(10,YR,9,2,"div",8,ni),y()()),n&2&&(j(6),Ta("invisible",o.historyService.history().length===0),j(3),jn(o.historyService.history().length===0?9:-1),j(),jt(o.historyService.history()))},encapsulation:2})}};var Jl=class t{constructor(){this.historyService=S(In);this.editor=Ay(dr)}onHistorySelect(e){let n=this.editor();n&&n.setLatex(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ce({type:t,selectors:[["app-home"]],viewQuery:function(n,o){n&1&&Ca(o.editor,dr,5),n&2&&Od()},decls:6,vars:0,consts:[[1,"h-[calc(100vh-4rem)]","flex","flex-col","bg-white"],[1,"flex-1","flex","overflow-hidden","relative"],[1,"flex-1","overflow-y-auto","bg-white","relative","z-0"],[1,"w-80","hidden","lg:block","h-full","shadow-xl","z-10"],[3,"select"]],template:function(n,o){n&1&&(Ae(0,"div",0)(1,"main",1)(2,"div",2),yt(3,"app-latex-editor"),Be(),Ae(4,"aside",3)(5,"app-history",4),Ho("select",function(i){return o.onHistorySelect(i)}),Be()()()())},dependencies:[dr,jl],encapsulation:2})}};var Yl=class t{constructor(){this.basicMathExample=`$E = mc^2$
$\\frac{a}{b}$
$\\sqrt{x^2 + y^2}$`;this.greekLettersExample=`$\\alpha, \\beta, \\gamma, \\delta$
$\\pi, \\theta, \\phi, \\omega$
$\\sum_{i=1}^{n} x_i$`;this.advancedMathExample=`$$\\int_{0}^{\\infty} e^{-x} dx = 1$$
$$\\lim_{x \\to 0} \\frac{\\sin x}{x} = 1$$
$$\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}$$`;this.textFormattingExample=`$\\text{Hello World}$
$\\mathbf{bold text}$
$\\mathit{italic text}$
$\\mathrm{roman text}$
R_{DS}
R\\textsubscript{ds,on}`}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ce({type:t,selectors:[["app-help"]],decls:585,vars:12,consts:[[1,"bg-gray-50","py-8"],[1,"max-w-4xl","mx-auto","px-4","py-8"],[1,"bg-white","rounded-2xl","shadow-sm","p-8","md:p-12"],[1,"text-center","mb-12"],[1,"text-4xl","font-semibold","text-gray-800","mb-4"],[1,"text-lg","text-gray-600","max-w-2xl","mx-auto"],[1,"space-y-12"],[1,"bg-gray-50","rounded-xl","p-8","hover:shadow-md","transition-shadow"],[1,"text-2xl","font-semibold","text-gray-800","mb-6","pb-3","border-b-2","border-indigo-600"],[1,"space-y-3","text-gray-700"],[1,"text-gray-900"],[1,"bg-indigo-100","text-indigo-800","px-2","py-1","rounded","text-sm","font-mono"],[1,"text-xl","font-semibold","text-gray-800","mt-6","mb-4"],[1,"space-y-4","text-gray-700","list-decimal","list-inside"],[1,"mt-2","ml-6","space-y-2","list-disc"],[1,"space-y-2","text-gray-700","list-disc","list-inside"],[1,"bg-gray-100","p-4","rounded-lg","overflow-x-auto","my-4"],[1,"text-sm"],[1,"space-y-2","text-gray-700","list-decimal","list-inside"],[1,"text-gray-700","mb-4"],[1,"overflow-x-auto"],[1,"w-full","border-collapse","my-4"],[1,"bg-indigo-100","text-indigo-900","px-4","py-3","text-left","font-semibold","border-b-2","border-indigo-600"],[1,"text-gray-700"],[1,"border-b","border-gray-200"],[1,"px-4","py-3"],[1,"text-gray-900","font-semibold","mb-2"],[1,"mb-4","ml-6","space-y-2","text-gray-700","list-disc"],["href","https://editor.codecogs.com/docs","target","_blank","rel","noopener noreferrer",1,"text-indigo-600","hover:underline","font-medium"],["href","https://x.com/abhinav_937","target","_blank","rel","noopener noreferrer",1,"text-indigo-600","hover:underline","font-medium"],["href","https://github.com/abhinav937/latex-to-svg","target","_blank","rel","noopener noreferrer",1,"text-indigo-600","hover:underline","font-medium"],[1,"text-center","mt-12","pt-6","border-t","border-gray-200"],[1,"text-indigo-600","hover:text-indigo-700","font-medium","mb-4",3,"click"],[1,"text-sm","text-gray-600"],["href","https://cabhinav.com","target","_blank","rel","noopener noreferrer",1,"text-indigo-600","hover:underline"]],template:function(n,o){n&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),g(5,"LaTeX to SVG Generator Help"),y(),v(6,"p",5),g(7,"Generate high-quality SVG images from LaTeX code, no installation required. A web-based alternative to TexText for Inkscape."),y()(),v(8,"div",6)(9,"div",7)(10,"h2",8),g(11,"Features"),y(),v(12,"ul",9)(13,"li")(14,"strong",10),g(15,"Instant LaTeX to SVG"),y(),g(16,": Enter LaTeX code and render SVG images instantly"),y(),v(17,"li")(18,"strong",10),g(19,"AI LaTeX Fix"),y(),g(20,": Click the AI button to automatically correct syntax errors"),y(),v(21,"li")(22,"strong",10),g(23,"Smart Autocomplete"),y(),g(24,": Type "),v(25,"code",11),g(26,"\\"),y(),g(27," to see LaTeX command suggestions"),y(),v(28,"li")(29,"strong",10),g(30,"Scale Control"),y(),g(31,": Adjust the point size (8-72pt) using the number input for your output image"),y(),v(32,"li")(33,"strong",10),g(34,"Progressive Web App"),y(),g(35,": Install the app for offline access and native app experience"),y(),v(36,"li")(37,"strong",10),g(38,"Copy & Download"),y(),g(39,": Copy SVG to clipboard or download as file"),y(),v(40,"li")(41,"strong",10),g(42,"Share Equations"),y(),g(43,": Generate shareable links so others can edit your equations"),y(),v(44,"li")(45,"strong",10),g(46,"Recent History"),y(),g(47,": Stores your last 10 LaTeX inputs for quick reuse"),y(),v(48,"li")(49,"strong",10),g(50,"Mobile Friendly"),y(),g(51,": Fully responsive and easy to use on any device"),y()()(),v(52,"div",7)(53,"h2",8),g(54,"How to Use"),y(),v(55,"h3",12),g(56,"Basic Usage"),y(),v(57,"ol",13)(58,"li")(59,"strong",10),g(60,"Enter LaTeX Code"),y(),g(61,": Type or paste your LaTeX code in the input box "),v(62,"ul",14)(63,"li")(64,"strong",10),g(65,"Inline Math"),y(),g(66,": Use single "),v(67,"code",11),g(68,"$"),y(),g(69," for inline equations"),y(),v(70,"li")(71,"strong",10),g(72,"Display Math"),y(),g(73,": Use "),v(74,"code",11),g(75,"$$"),y(),g(76," for centered equations"),y(),v(77,"li")(78,"strong",10),g(79,"Text Mode"),y(),g(80,": Regular text is automatically wrapped in "),v(81,"code",11),g(82),y()()()(),v(83,"li")(84,"strong",10),g(85,"AI Fix"),y(),g(86,": Click the AI button to automatically correct LaTeX syntax errors"),y(),v(87,"li")(88,"strong",10),g(89,"Use Autocomplete"),y(),g(90,": Type "),v(91,"code",11),g(92,"\\"),y(),g(93," to see command suggestions "),v(94,"ul",14)(95,"li"),g(96,"Navigate with arrow keys or mouse"),y(),v(97,"li"),g(98,"Press Tab/Enter to select"),y(),v(99,"li"),g(100,"Press Escape to close"),y()()(),v(101,"li")(102,"strong",10),g(103,"Adjust Scale"),y(),g(104,": Use the point size input field (8-72pt) to set image size"),y(),v(105,"li")(106,"strong",10),g(107,"Convert to SVG"),y(),g(108,": Click "),v(109,"strong"),g(110,"Convert to SVG"),y(),g(111," or press Enter to generate the SVG"),y(),v(112,"li")(113,"strong",10),g(114,"Manage Output"),y(),g(115,": "),v(116,"ul",14)(117,"li")(118,"strong",10),g(119,"Copy"),y(),g(120,": Copy the SVG image to your clipboard"),y(),v(121,"li")(122,"strong",10),g(123,"Download"),y(),g(124,": Download the SVG file with smart filename"),y(),v(125,"li")(126,"strong",10),g(127,"Copy SVG Code"),y(),g(128,": Copy the raw SVG markup"),y()()(),v(129,"li")(130,"strong",10),g(131,"Share Equations"),y(),g(132,": Click the share button to copy a link that others can use to edit your equation "),v(133,"ul",14)(134,"li"),g(135,"Anyone with the link can view and modify the equation"),y(),v(136,"li"),g(137,"Perfect for collaborating on mathematical expressions"),y(),v(138,"li"),g(139,"Link automatically renders the equation when opened"),y()()(),v(140,"li")(141,"strong",10),g(142,"View History"),y(),g(143,": Your last 10 LaTeX commands are shown in the sidebar. Click any to reuse."),y()(),v(144,"h3",12),g(145,"AI LaTeX Fix Feature"),y(),v(146,"ul",15)(147,"li")(148,"strong",10),g(149,"Automatic Correction"),y(),g(150,": Click the AI button to fix syntax errors"),y(),v(151,"li")(152,"strong",10),g(153,"Smart Analysis"),y(),g(154,": AI analyzes your LaTeX and provides corrected version"),y(),v(155,"li")(156,"strong",10),g(157,"Auto-Render"),y(),g(158,": Corrected LaTeX is automatically rendered after fixing"),y(),v(159,"li")(160,"strong",10),g(161,"Error Handling"),y(),g(162,": Clear error messages for rate limits, invalid input, etc."),y()()(),v(163,"div",7)(164,"h2",8),g(165,"LaTeX Examples"),y(),v(166,"h3",12),g(167,"Basic Math"),y(),v(168,"pre",16)(169,"code",17),g(170),y()(),v(171,"h3",12),g(172,"Greek Letters"),y(),v(173,"pre",16)(174,"code",17),g(175),y()(),v(176,"h3",12),g(177,"Advanced Math"),y(),v(178,"pre",16)(179,"code",17),g(180),y()(),v(181,"h3",12),g(182,"Text and Formatting"),y(),v(183,"pre",16)(184,"code",17),g(185),y()()(),v(186,"div",7)(187,"h2",8),g(188,"Autocomplete System"),y(),v(189,"h3",12),g(190,"How to Use"),y(),v(191,"ol",18)(192,"li")(193,"strong",10),g(194,"Start typing"),y(),g(195,": Type "),v(196,"code",11),g(197,"\\"),y(),g(198," to trigger autocomplete"),y(),v(199,"li")(200,"strong",10),g(201,"Browse suggestions"),y(),g(202,": Use arrow keys or mouse to navigate"),y(),v(203,"li")(204,"strong",10),g(205,"Select command"),y(),g(206,": Press Tab, Enter, or click to insert"),y(),v(207,"li")(208,"strong",10),g(209,"Close"),y(),g(210,": Press Escape or click outside"),y()(),v(211,"h3",12),g(212,"Supported Commands"),y(),v(213,"p",19),g(214,"The autocomplete includes:"),y(),v(215,"ul",15)(216,"li")(217,"strong",10),g(218,"Greek letters"),y(),g(219,": "),v(220,"code",11),g(221,"\\alpha"),y(),g(222,", "),v(223,"code",11),g(224,"\\beta"),y(),g(225,", "),v(226,"code",11),g(227,"\\pi"),y(),g(228,", etc."),y(),v(229,"li")(230,"strong",10),g(231,"Math symbols"),y(),g(232,": "),v(233,"code",11),g(234,"\\sum"),y(),g(235,", "),v(236,"code",11),g(237,"\\int"),y(),g(238,", "),v(239,"code",11),g(240,"\\sqrt"),y(),g(241,", "),v(242,"code",11),g(243,"\\frac"),y(),g(244,", etc."),y(),v(245,"li")(246,"strong",10),g(247,"Arrows"),y(),g(248,": "),v(249,"code",11),g(250,"\\rightarrow"),y(),g(251,", "),v(252,"code",11),g(253,"\\leftarrow"),y(),g(254,", "),v(255,"code",11),g(256,"\\Rightarrow"),y(),g(257,", etc."),y(),v(258,"li")(259,"strong",10),g(260,"Set theory"),y(),g(261,": "),v(262,"code",11),g(263,"\\in"),y(),g(264,", "),v(265,"code",11),g(266,"\\subset"),y(),g(267,", "),v(268,"code",11),g(269,"\\cup"),y(),g(270,", "),v(271,"code",11),g(272,"\\cap"),y(),g(273,", etc."),y(),v(274,"li")(275,"strong",10),g(276,"Logic"),y(),g(277,": "),v(278,"code",11),g(279,"\\land"),y(),g(280,", "),v(281,"code",11),g(282,"\\lor"),y(),g(283,", "),v(284,"code",11),g(285,"\\neg"),y(),g(286,", "),v(287,"code",11),g(288,"\\implies"),y(),g(289,", etc."),y(),v(290,"li")(291,"strong",10),g(292,"Functions"),y(),g(293,": "),v(294,"code",11),g(295,"\\sin"),y(),g(296,", "),v(297,"code",11),g(298,"\\cos"),y(),g(299,", "),v(300,"code",11),g(301,"\\log"),y(),g(302,", "),v(303,"code",11),g(304,"\\exp"),y(),g(305,", etc."),y(),v(306,"li")(307,"strong",10),g(308,"Formatting"),y(),g(309,": "),v(310,"code",11),g(311,"\\mathbf"),y(),g(312,", "),v(313,"code",11),g(314,"\\mathit"),y(),g(315,", "),v(316,"code",11),g(317,"\\mathrm"),y(),g(318,", "),v(319,"code",11),g(320,"\\text"),y(),g(321,", etc."),y()()(),v(322,"div",7)(323,"h2",8),g(324,"Keyboard Shortcuts"),y(),v(325,"div",20)(326,"table",21)(327,"thead")(328,"tr")(329,"th",22),g(330,"Shortcut"),y(),v(331,"th",22),g(332,"Action"),y()()(),v(333,"tbody",23)(334,"tr",24)(335,"td",25)(336,"strong"),g(337,"Enter"),y()(),v(338,"td",25),g(339,"Convert LaTeX to SVG"),y()(),v(340,"tr",24)(341,"td",25)(342,"strong"),g(343,"Shift + Enter"),y()(),v(344,"td",25),g(345,"Add newline in input"),y()(),v(346,"tr",24)(347,"td",25)(348,"strong"),g(349,"Tab"),y()(),v(350,"td",25),g(351,"Select autocomplete suggestion"),y()(),v(352,"tr",24)(353,"td",25)(354,"strong"),g(355,"Arrow keys"),y()(),v(356,"td",25),g(357,"Navigate autocomplete suggestions"),y()(),v(358,"tr",24)(359,"td",25)(360,"strong"),g(361,"Escape"),y()(),v(362,"td",25),g(363,"Close autocomplete"),y()(),v(364,"tr")(365,"td",25)(366,"strong"),g(367,"\\"),y()(),v(368,"td",25),g(369,"Trigger autocomplete"),y()()()()()(),v(370,"div",7)(371,"h2",8),g(372,"Error Handling"),y(),v(373,"p",19),g(374,"The tool provides clear error messages for:"),y(),v(375,"ul",15)(376,"li")(377,"strong",10),g(378,"Empty input"),y(),g(379,': "Please enter a LaTeX command"'),y(),v(380,"li")(381,"strong",10),g(382,"Network errors"),y(),g(383,': "Unable to fetch rendered image"'),y(),v(384,"li")(385,"strong",10),g(386,"Invalid LaTeX"),y(),g(387,': "The equation could not be rendered"'),y(),v(388,"li")(389,"strong",10),g(390,"AI service errors"),y(),g(391,": Rate limits, authentication, and service availability"),y()()(),v(392,"div",7)(393,"h2",8),g(394,"Tips & Best Practices"),y(),v(395,"h3",12),g(396,"LaTeX Syntax"),y(),v(397,"ul",15)(398,"li")(399,"strong",10),g(400,"Inline math"),y(),g(401,": Use single "),v(402,"code",11),g(403,"$"),y(),g(404," for equations within text"),y(),v(405,"li")(406,"strong",10),g(407,"Display math"),y(),g(408,": Use "),v(409,"code",11),g(410,"$$"),y(),g(411," for centered equations"),y(),v(412,"li")(413,"strong",10),g(414,"Text mode"),y(),g(415,": Regular text is automatically wrapped in "),v(416,"code",11),g(417),y()(),v(418,"li")(419,"strong",10),g(420,"Bold text"),y(),g(421,": Use "),v(422,"code",11),g(423),y(),g(424," for mathematical bold"),y(),v(425,"li")(426,"strong",10),g(427,"Italic text"),y(),g(428,": Use "),v(429,"code",11),g(430),y(),g(431," for mathematical italic"),y()(),v(432,"h3",12),g(433,"Performance"),y(),v(434,"ul",15)(435,"li")(436,"strong",10),g(437,"Scale wisely"),y(),g(438,": Higher point sizes create larger files"),y(),v(439,"li")(440,"strong",10),g(441,"Use autocomplete"),y(),g(442,": Faster than typing full commands"),y(),v(443,"li")(444,"strong",10),g(445,"Check history"),y(),g(446,": Reuse recent commands instead of retyping"),y(),v(447,"li")(448,"strong",10),g(449,"Use AI fix"),y(),g(450,": Let AI correct syntax errors automatically"),y()(),v(451,"h3",12),g(452,"File Management"),y(),v(453,"ul",15)(454,"li")(455,"strong",10),g(456,"Smart filenames"),y(),g(457,": Downloaded files include content and timestamp"),y(),v(458,"li")(459,"strong",10),g(460,"SVG format"),y(),g(461,": Vector graphics that scale perfectly"),y(),v(462,"li")(463,"strong",10),g(464,"Clipboard support"),y(),g(465,": Copy SVG for use in other applications"),y()()(),v(466,"div",7)(467,"h2",8),g(468,"Troubleshooting"),y(),v(469,"h3",12),g(470,"Common Issues"),y(),v(471,"p",26),g(472,"Autocomplete not working?"),y(),v(473,"ul",27)(474,"li"),g(475,"Make sure you're typing "),v(476,"code",11),g(477,"\\"),y(),g(478," (backslash)"),y(),v(479,"li"),g(480,"Check if your browser supports the required APIs"),y(),v(481,"li"),g(482,"Try refreshing the page"),y()(),v(483,"p",26),g(484,"Image not rendering?"),y(),v(485,"ul",27)(486,"li"),g(487,"Check your LaTeX syntax"),y(),v(488,"li"),g(489,"Use the AI fix button to correct errors"),y(),v(490,"li"),g(491,"Ensure you have an internet connection"),y(),v(492,"li"),g(493,"Try a simpler example first"),y()(),v(494,"p",26),g(495,"AI fix not working?"),y(),v(496,"ul",27)(497,"li"),g(498,"Check if you have valid LaTeX code to fix"),y(),v(499,"li"),g(500,"Ensure you have an internet connection"),y(),v(501,"li"),g(502,"Try again later if rate limited"),y()(),v(503,"p",26),g(504,"Copy/Download not working?"),y(),v(505,"ul",27)(506,"li"),g(507,"Make sure an image has been rendered first"),y(),v(508,"li"),g(509,"Check browser permissions for clipboard access"),y(),v(510,"li"),g(511,"Try a different browser"),y()(),v(512,"h3",12),g(513,"Getting Help"),y(),v(514,"p",19),g(515,"If you encounter issues not covered here:"),y(),v(516,"ol",18)(517,"li"),g(518,"Check the browser console for error messages"),y(),v(519,"li"),g(520,"Try refreshing the page"),y(),v(521,"li"),g(522,"Test with a simple example like "),v(523,"code",11),g(524,"$x^2$"),y()(),v(525,"li"),g(526,"Use the AI fix feature for syntax errors"),y(),v(527,"li"),g(528,"Contact the developer with specific error details"),y()()(),v(529,"div",7)(530,"h2",8),g(531,"Progressive Web App (PWA)"),y(),v(532,"p",19),g(533,"This tool can be installed as a Progressive Web App for a better experience:"),y(),v(534,"ul",15)(535,"li")(536,"strong",10),g(537,"Installation"),y(),g(538,": Look for the install prompt that appears when you visit the site"),y(),v(539,"li")(540,"strong",10),g(541,"Offline Access"),y(),g(542,": Once installed, the app works offline for previously rendered equations"),y(),v(543,"li")(544,"strong",10),g(545,"Native Experience"),y(),g(546,": Get app-like experience with standalone window and shortcuts"),y(),v(547,"li")(548,"strong",10),g(549,"File Handling"),y(),g(550,": Open SVG files directly from your device"),y()()(),v(551,"div",7)(552,"h2",8),g(553,"Need More Help?"),y(),v(554,"ul",15)(555,"li")(556,"strong",10),g(557,"LaTeX Reference"),y(),g(558,": See the "),v(559,"a",28),g(560,"CodeCogs Equation Editor Documentation"),y(),g(561," for complete LaTeX syntax"),y(),v(562,"li")(563,"strong",10),g(564,"Examples"),y(),g(565,": Click the example chips on the main page for sample code"),y(),v(566,"li")(567,"strong",10),g(568,"Contact"),y(),g(569,": For issues with this tool, contact "),v(570,"a",29),g(571,"Abhinav Chinnusamy"),y()(),v(572,"li")(573,"strong",10),g(574,"GitHub"),y(),g(575,": View the source code and contribute at "),v(576,"a",30),g(577,"GitHub Repository"),y()()()()(),v(578,"div",31)(579,"button",32),Te("click",function(){return o.scrollToTop()}),g(580,"Back to Top"),y(),v(581,"p",33),g(582,"\xA9 2025 "),v(583,"a",34),g(584,"Abhinav Chinnusamy"),y()()()()()()),n&2&&(j(82),Yn("\\text","{","","}"),j(88),Jn(o.basicMathExample),j(5),Jn(o.greekLettersExample),j(5),Jn(o.advancedMathExample),j(5),Jn(o.textFormattingExample),j(232),Yn("\\text","{","","}"),j(6),Yn("\\mathbf","{","","}"),j(7),Yn("\\mathit","{","","}"))},encapsulation:2})}};var KR=(t,e)=>e.date,QR=(t,e)=>e.title;function ZR(t,e){if(t&1&&(v(0,"li",16)(1,"span",17),g(2,"\u2022"),y(),g(3),y()),t&2){let n=e.$implicit;j(3),Ge(" ",n," ")}}function XR(t,e){if(t&1&&(v(0,"div",13)(1,"div",14),g(2),y(),v(3,"ul",15),Wt(4,ZR,4,1,"li",16,ni),y()()),t&2){let n=e.$implicit;j(2),Ge(" ",n.title," "),j(2),jt(n.items)}}function eP(t,e){if(t&1&&(v(0,"div",7)(1,"div",12),g(2),y(),Wt(3,XR,6,1,"div",13,QR),y()),t&2){let n=e.$implicit,o=vt();j(2),Ge(" ",n.date," "),j(),jt(o.getSectionEntries(n.sections))}}var Kl=class t{constructor(){this.changelogData=[{date:"Nov 2025",sections:{"New Features":["Redesigned autocomplete shortcuts with modern Material Design 3 styling","Horizontal layout for autocomplete items showing preview, code, badge, and description in a single row","Enhanced autocomplete positioning - now appears strictly below the text box with proper spacing","Improved autocomplete styling with rounded corners and refined borders"],"UI Improvements":["Modernized autocomplete dropdown with 16px rounded corners","Cleaner badge design - removed category badges (GREEK, LOGIC, etc.), keeping only math mode indicators","Refined border styling with subtle shadows for better visual hierarchy","Custom scrollbar styling with rounded corners for autocomplete dropdown"],"Bug Fixes":["Fixed autocomplete overlapping text box - now positions correctly below input field","Removed unnecessary console log messages for cleaner developer experience"]}},{date:"Oct 24, 2025",sections:{"New Features":["History now preserves and restores text size when clicking on saved equations","Added text size display in history items (shows point size like '12pt', '24pt')","Same LaTeX equation can now be saved multiple times with different text sizes","Added comprehensive changelog page","Improved page navigation with changelog link","Enhanced SEO meta tags for better discoverability"],"Privacy & Performance Improvements":["Removed website content caching from service worker","Eliminated usage statistics tracking","Simplified persistent storage to only history feature","Enhanced privacy by removing unnecessary data collection"],"Bug Fixes":["Fixed minor styling inconsistencies across pages","Resolved navigation link alignment issues"]}},{date:"Aug 26, 2025",sections:{"New Features":["Added CNAME configuration for custom domain","Enhanced site deployment and hosting setup"]}},{date:"Aug 04, 2025",sections:{"New Features":["Updated web app manifest for better PWA experience","Added comprehensive site icons and branding"],"Bug Fixes":["Fixed multiple UI and functionality issues","Improved overall stability and performance"]}},{date:"Jul 15, 2025",sections:{"New Features":["Launched LaTeX to SVG Generator web application","Implemented real-time LaTeX to SVG conversion","Added drag-and-drop LaTeX input interface","Integrated Google Analytics for usage tracking"],Improvements:["Optimized page load performance","Enhanced user interface with Material Design components","Added comprehensive LaTeX command support","Implemented responsive design principles"]}}]}getSectionEntries(e){return Object.entries(e).map(([n,o])=>({title:n,items:o}))}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ce({type:t,selectors:[["app-changelog"]],decls:18,vars:0,consts:[[1,"bg-gray-50","py-8"],[1,"max-w-3xl","mx-auto","px-4","py-8"],[1,"bg-white","rounded-2xl","shadow-sm","p-8","md:p-12"],[1,"text-center","mb-12"],[1,"text-4xl","font-light","text-gray-800","mb-4"],[1,"text-lg","text-gray-600","max-w-2xl","mx-auto"],[1,"space-y-8"],[1,"bg-gray-50","rounded-xl","p-8","border","border-gray-200","shadow-sm"],[1,"text-center","mt-12","pt-6","border-t","border-gray-200"],[1,"text-indigo-600","hover:text-indigo-700","font-medium","mb-4",3,"click"],[1,"text-sm","text-gray-600"],["href","https://cabhinav.com","target","_blank","rel","noopener noreferrer",1,"text-indigo-600","hover:underline"],[1,"text-xl","font-medium","text-indigo-600","mb-6","pb-2","border-b","border-gray-200"],[1,"mb-6","last:mb-0"],[1,"text-base","font-semibold","text-gray-800","mb-3","uppercase","tracking-wide"],[1,"space-y-2","list-none","pl-0"],[1,"relative","pl-6","text-gray-700","leading-relaxed"],[1,"absolute","left-0","text-indigo-600","font-bold","text-lg","leading-none","top-0.5"]],template:function(n,o){n&1&&(v(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),g(5,"Latest updates for LaTeX to SVG Generator"),y(),v(6,"p",5),g(7,"See what's new in LaTeX to SVG Generator. Here you'll find information about all the latest updates, new features, improvements, and bug fixes."),y()(),v(8,"div",6),Wt(9,eP,5,1,"div",7,KR),y(),v(11,"div",8)(12,"button",9),Te("click",function(){return o.scrollToTop()}),g(13,"Back to Top"),y(),v(14,"p",10),g(15,"\xA9 2025 "),v(16,"a",11),g(17,"Abhinav Chinnusamy"),y()()()()()()),n&2&&(j(9),jt(o.changelogData))},encapsulation:2})}};var JE=[{path:"",component:nr,children:[{path:"",component:Jl},{path:"help",component:Yl},{path:"changelog",component:Kl}]},{path:"**",redirectTo:""}];Xd(nr,{providers:[Ud(),_f(JE)]}).catch(t=>console.error(t));
